/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => OpenClawMemorySync
});
module.exports = __toCommonJS(main_exports);
var import_obsidian4 = require("obsidian");

// api-client.ts
var OpenClawAPIClient = class {
  constructor(settings) {
    this.settings = settings;
    this.ws = null;
    this.reconnectAttempts = 0;
    this.maxReconnectAttempts = 5;
    this.reconnectDelay = 1e3;
    this.messageHandlers = /* @__PURE__ */ new Map();
    this.baseUrl = `http://${settings.apiUrl}:${settings.apiPort}`;
    this.wsUrl = `ws://${settings.apiUrl}:8766`;
  }
  async connect() {
    await this.testConnection();
    if (this.settings.enableWebSocket) {
      await this.connectWebSocket();
    }
  }
  async disconnect() {
    if (this.ws) {
      this.ws.close();
      this.ws = null;
    }
  }
  async testConnection() {
    try {
      const response = await fetch(`${this.baseUrl}/health`);
      if (!response.ok) {
        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
      }
      const data = await response.json();
      if (data.status !== "ok") {
        throw new Error("API\u670D\u52A1\u5668\u72B6\u6001\u5F02\u5E38");
      }
      console.log("OpenClaw API\u8FDE\u63A5\u6D4B\u8BD5\u6210\u529F");
    } catch (error) {
      console.error("OpenClaw API\u8FDE\u63A5\u6D4B\u8BD5\u5931\u8D25:", error);
      throw new Error(`\u8FDE\u63A5\u6D4B\u8BD5\u5931\u8D25: ${error.message}`);
    }
  }
  async getMemoryInfo() {
    const response = await this.fetchWithRetry(`${this.baseUrl}/api/memory/info`);
    return await response.json();
  }
  async getFiles() {
    const response = await this.fetchWithRetry(`${this.baseUrl}/api/memory/files`);
    const data = await response.json();
    return data.files.map((file) => ({
      ...file,
      created: new Date(file.created),
      modified: new Date(file.modified)
    }));
  }
  async getFile(filename) {
    const response = await this.fetchWithRetry(`${this.baseUrl}/api/memory/files/${filename}`);
    const data = await response.json();
    return {
      ...data,
      stats: {
        ...data.stats,
        created: new Date(data.stats.created),
        modified: new Date(data.stats.modified)
      }
    };
  }
  async saveFile(filename, content) {
    const response = await fetch(`${this.baseUrl}/api/memory/files/${filename}`, {
      method: "POST",
      headers: {
        "Content-Type": "text/plain"
      },
      body: content
    });
    if (!response.ok) {
      throw new Error(`\u4FDD\u5B58\u6587\u4EF6\u5931\u8D25: ${response.statusText}`);
    }
  }
  async deleteFile(filename) {
    const response = await fetch(`${this.baseUrl}/api/memory/files/${filename}`, {
      method: "DELETE"
    });
    if (!response.ok) {
      throw new Error(`\u5220\u9664\u6587\u4EF6\u5931\u8D25: ${response.statusText}`);
    }
  }
  async search(query) {
    const response = await this.fetchWithRetry(`${this.baseUrl}/api/memory/search?q=${encodeURIComponent(query)}`);
    const data = await response.json();
    return data.results;
  }
  async getStats() {
    const response = await this.fetchWithRetry(`${this.baseUrl}/api/memory/stats`);
    const data = await response.json();
    return {
      ...data,
      lastUpdated: new Date(data.lastUpdated)
    };
  }
  async fetchWithRetry(url, options = {}, retries = 3) {
    for (let i = 0; i < retries; i++) {
      try {
        const response = await fetch(url, options);
        if (response.ok) {
          return response;
        }
        if (i < retries - 1) {
          await this.sleep(1e3 * (i + 1));
        }
      } catch (error) {
        if (i < retries - 1) {
          await this.sleep(1e3 * (i + 1));
        } else {
          throw error;
        }
      }
    }
    throw new Error(`\u8BF7\u6C42\u5931\u8D25: ${url}`);
  }
  sleep(ms) {
    return new Promise((resolve) => setTimeout(resolve, ms));
  }
  // WebSocket相关方法
  async connectWebSocket() {
    return new Promise((resolve, reject) => {
      try {
        this.ws = new WebSocket(this.wsUrl);
        this.ws.onopen = () => {
          var _a;
          console.log("OpenClaw WebSocket\u8FDE\u63A5\u6210\u529F");
          this.reconnectAttempts = 0;
          (_a = this.ws) == null ? void 0 : _a.send(JSON.stringify({
            type: "subscribe",
            channels: ["file_changes"]
          }));
          resolve();
        };
        this.ws.onmessage = (event) => {
          try {
            const message = JSON.parse(event.data);
            this.handleWebSocketMessage(message);
          } catch (error) {
            console.error("WebSocket\u6D88\u606F\u89E3\u6790\u5931\u8D25:", error);
          }
        };
        this.ws.onclose = () => {
          console.log("OpenClaw WebSocket\u8FDE\u63A5\u5173\u95ED");
          this.ws = null;
          if (this.reconnectAttempts < this.maxReconnectAttempts) {
            this.reconnectAttempts++;
            const delay = this.reconnectDelay * Math.pow(2, this.reconnectAttempts - 1);
            console.log(`WebSocket\u5C06\u5728 ${delay}ms \u540E\u91CD\u8FDE (\u5C1D\u8BD5 ${this.reconnectAttempts}/${this.maxReconnectAttempts})`);
            setTimeout(() => {
              this.connectWebSocket().catch(console.error);
            }, delay);
          }
        };
        this.ws.onerror = (error) => {
          console.error("OpenClaw WebSocket\u9519\u8BEF:", error);
          reject(error);
        };
      } catch (error) {
        reject(error);
      }
    });
  }
  handleWebSocketMessage(message) {
    var _a;
    switch (message.type) {
      case "welcome":
        console.log("WebSocket\u6B22\u8FCE\u6D88\u606F:", ((_a = message.data) == null ? void 0 : _a.message) || "Connected");
        break;
      case "notification":
        this.emit(message.event || "unknown", message.data);
        break;
      case "pong":
        break;
      default:
        console.log("\u672A\u77E5\u7684WebSocket\u6D88\u606F\u7C7B\u578B:", message.type);
    }
  }
  // 事件系统
  on(event, handler) {
    var _a;
    if (!this.messageHandlers.has(event)) {
      this.messageHandlers.set(event, []);
    }
    (_a = this.messageHandlers.get(event)) == null ? void 0 : _a.push(handler);
  }
  off(event, handler) {
    const handlers = this.messageHandlers.get(event);
    if (handlers) {
      const index = handlers.indexOf(handler);
      if (index > -1) {
        handlers.splice(index, 1);
      }
    }
  }
  emit(event, data) {
    const handlers = this.messageHandlers.get(event);
    if (handlers) {
      handlers.forEach((handler) => {
        try {
          handler(data);
        } catch (error) {
          console.error(`\u4E8B\u4EF6\u5904\u7406\u5668\u9519\u8BEF (${event}):`, error);
        }
      });
    }
  }
  // 工具方法
  isConnected() {
    return this.ws !== null && this.ws.readyState === WebSocket.OPEN;
  }
  getConnectionStatus() {
    if (!this.ws) {
      return "disconnected";
    }
    switch (this.ws.readyState) {
      case WebSocket.CONNECTING:
        return "connecting";
      case WebSocket.OPEN:
        return "connected";
      case WebSocket.CLOSING:
        return "closing";
      case WebSocket.CLOSED:
        return "closed";
      default:
        return "unknown";
    }
  }
};

// sync-engine.ts
var import_obsidian = require("obsidian");
var SyncEngine = class {
  constructor(app, apiClient, settings) {
    this.app = app;
    this.apiClient = apiClient;
    this.settings = settings;
    this.status = {
      state: "idle" /* IDLE */,
      progress: 0,
      currentFile: "",
      filesSynced: 0,
      totalFiles: 0,
      lastSync: null,
      errors: []
    };
    this.statusChangeHandlers = [];
    this.isPaused = false;
    this.syncQueue = [];
    this.fileCache = /* @__PURE__ */ new Map();
    if (this.settings.enableWebSocket) {
      this.apiClient.on("file_changed", (data) => {
        this.handleRemoteChange(data);
      });
    }
  }
  async sync() {
    if (this.status.state === "syncing" /* SYNCING */) {
      throw new Error("\u540C\u6B65\u6B63\u5728\u8FDB\u884C\u4E2D");
    }
    if (this.isPaused) {
      throw new Error("\u540C\u6B65\u5DF2\u6682\u505C");
    }
    try {
      this.updateStatus({
        state: "syncing" /* SYNCING */,
        progress: 0,
        currentFile: "\u6B63\u5728\u51C6\u5907\u540C\u6B65...",
        filesSynced: 0,
        totalFiles: 0,
        errors: []
      });
      const remoteFiles = await this.apiClient.getFiles();
      const localFiles = await this.getLocalFiles();
      const diff = this.calculateDiff(remoteFiles, localFiles);
      await this.applyDiff(diff);
      this.updateStatus({
        state: "idle" /* IDLE */,
        progress: 100,
        currentFile: "",
        filesSynced: diff.added.length + diff.modified.length + diff.deleted.length,
        totalFiles: remoteFiles.length + localFiles.length,
        lastSync: new Date(),
        errors: []
      });
    } catch (error) {
      this.updateStatus({
        state: "error" /* ERROR */,
        errors: [
          {
            message: error.message,
            timestamp: new Date(),
            retryable: true
          }
        ]
      });
      throw error;
    }
  }
  async getLocalFiles() {
    const targetFolder = this.settings.targetFolder;
    const folder = this.app.vault.getAbstractFileByPath(targetFolder);
    if (!folder || !(folder instanceof import_obsidian.TFolder)) {
      return [];
    }
    const files = [];
    const walkFolder = (folder2) => {
      for (const child of folder2.children) {
        if (child instanceof import_obsidian.TFile && child.extension === "md") {
          if (this.isExcluded(child.path)) {
            continue;
          }
          files.push({
            name: child.name,
            path: child.path,
            size: child.stat.size,
            created: new Date(child.stat.ctime),
            modified: new Date(child.stat.mtime),
            lines: this.app.vault.read(child).then((content) => content.split("\n").length).catch(() => 0),
            preview: ""
          });
        } else if (child instanceof import_obsidian.TFolder) {
          walkFolder(child);
        }
      }
    };
    walkFolder(folder);
    for (const file of files) {
      file.lines = await file.lines;
    }
    return files;
  }
  calculateDiff(remoteFiles, localFiles) {
    const diff = {
      added: [],
      modified: [],
      deleted: [],
      conflicts: []
    };
    const remoteMap = new Map(remoteFiles.map((f) => [f.name, f]));
    const localMap = new Map(localFiles.map((f) => [f.name, f]));
    for (const [filename] of remoteMap) {
      if (!localMap.has(filename)) {
        diff.added.push(filename);
      }
    }
    for (const [filename] of localMap) {
      if (!remoteMap.has(filename)) {
        if (this.settings.conflictStrategy === "local") {
          diff.added.push(filename);
        } else {
          diff.deleted.push(filename);
        }
      }
    }
    for (const [filename, remoteFile] of remoteMap) {
      const localFile = localMap.get(filename);
      if (localFile) {
        const remoteTime = remoteFile.modified.getTime();
        const localTime = localFile.modified.getTime();
        if (Math.abs(remoteTime - localTime) > 1e3) {
          diff.modified.push(filename);
          const cached = this.fileCache.get(filename);
          if (cached && Math.abs(cached.modified.getTime() - remoteTime) > 1e3 && Math.abs(cached.modified.getTime() - localTime) > 1e3) {
            diff.conflicts.push(filename);
          }
        }
      }
    }
    return diff;
  }
  async applyDiff(diff) {
    const totalOperations = diff.added.length + diff.modified.length + diff.deleted.length;
    let completedOperations = 0;
    for (const filename of diff.added) {
      this.updateStatus({
        currentFile: `\u6B63\u5728\u4E0B\u8F7D: ${filename}`,
        progress: completedOperations / totalOperations * 100
      });
      try {
        const fileContent = await this.apiClient.getFile(filename);
        await this.saveLocalFile(filename, fileContent.content);
        completedOperations++;
      } catch (error) {
        this.addError(`\u4E0B\u8F7D\u6587\u4EF6\u5931\u8D25: ${filename}`, error, true);
      }
    }
    for (const filename of diff.modified) {
      this.updateStatus({
        currentFile: `\u6B63\u5728\u540C\u6B65: ${filename}`,
        progress: completedOperations / totalOperations * 100
      });
      try {
        if (diff.conflicts.includes(filename)) {
          await this.resolveConflict(filename);
        } else {
          const fileContent = await this.apiClient.getFile(filename);
          await this.saveLocalFile(filename, fileContent.content);
        }
        completedOperations++;
      } catch (error) {
        this.addError(`\u540C\u6B65\u6587\u4EF6\u5931\u8D25: ${filename}`, error, true);
      }
    }
    for (const filename of diff.deleted) {
      this.updateStatus({
        currentFile: `\u6B63\u5728\u5220\u9664: ${filename}`,
        progress: completedOperations / totalOperations * 100
      });
      try {
        await this.deleteLocalFile(filename);
        completedOperations++;
      } catch (error) {
        this.addError(`\u5220\u9664\u6587\u4EF6\u5931\u8D25: ${filename}`, error, false);
      }
    }
  }
  async resolveConflict(filename) {
    switch (this.settings.conflictStrategy) {
      case "timestamp":
        await this.resolveByTimestamp(filename);
        break;
      case "local":
        await this.uploadLocalFile(filename);
        break;
      case "remote":
        await this.downloadRemoteFile(filename);
        break;
      case "ask":
        await this.resolveByTimestamp(filename);
        break;
    }
  }
  async resolveByTimestamp(filename) {
    try {
      const remoteFile = await this.apiClient.getFile(filename);
      const localPath = this.getLocalPath(filename);
      const localFile = this.app.vault.getAbstractFileByPath(localPath);
      if (localFile instanceof import_obsidian.TFile) {
        const remoteTime = remoteFile.stats.modified.getTime();
        const localTime = localFile.stat.mtime;
        if (remoteTime > localTime) {
          await this.saveLocalFile(filename, remoteFile.content);
        } else {
          const localContent = await this.app.vault.read(localFile);
          await this.apiClient.saveFile(filename, localContent);
        }
      }
    } catch (error) {
      throw new Error(`\u51B2\u7A81\u89E3\u51B3\u5931\u8D25: ${error.message}`);
    }
  }
  async downloadRemoteFile(filename) {
    const fileContent = await this.apiClient.getFile(filename);
    await this.saveLocalFile(filename, fileContent.content);
  }
  async uploadLocalFile(filename) {
    const localPath = this.getLocalPath(filename);
    const localFile = this.app.vault.getAbstractFileByPath(localPath);
    if (localFile instanceof import_obsidian.TFile) {
      const content = await this.app.vault.read(localFile);
      await this.apiClient.saveFile(filename, content);
    }
  }
  async saveLocalFile(filename, content) {
    const filePath = this.getLocalPath(filename);
    const normalizedPath = (0, import_obsidian.normalizePath)(filePath);
    const dirPath = normalizedPath.split("/").slice(0, -1).join("/");
    if (dirPath) {
      await this.app.vault.createFolder(dirPath).catch(() => {
      });
    }
    const existingFile = this.app.vault.getAbstractFileByPath(normalizedPath);
    if (existingFile instanceof import_obsidian.TFile) {
      await this.app.vault.modify(existingFile, content);
    } else {
      await this.app.vault.create(normalizedPath, content);
    }
    this.fileCache.set(filename, {
      content,
      modified: new Date()
    });
  }
  async deleteLocalFile(filename) {
    const filePath = this.getLocalPath(filename);
    const file = this.app.vault.getAbstractFileByPath(filePath);
    if (file instanceof import_obsidian.TFile) {
      await this.app.vault.delete(file);
    }
    this.fileCache.delete(filename);
  }
  getLocalPath(filename) {
    return (0, import_obsidian.normalizePath)(`${this.settings.targetFolder}/${filename}`);
  }
  isExcluded(filePath) {
    for (const pattern of this.settings.excludePatterns) {
      if (pattern.startsWith("*.")) {
        const ext = pattern.substring(1);
        if (filePath.endsWith(ext)) {
          return true;
        }
      } else if (pattern.startsWith(".")) {
        const parts = filePath.split("/");
        if (parts.some((part) => part.startsWith("."))) {
          return true;
        }
      } else if (pattern.endsWith("/")) {
        if (filePath.includes(pattern)) {
          return true;
        }
      } else {
        if (filePath === pattern) {
          return true;
        }
      }
    }
    return false;
  }
  async handleRemoteChange(data) {
    if (this.status.state !== "idle" /* IDLE */ || this.isPaused) {
      return;
    }
    const { event, filename } = data;
    try {
      switch (event) {
        case "added":
        case "changed": {
          const fileContent = await this.apiClient.getFile(filename);
          await this.saveLocalFile(filename, fileContent.content);
          break;
        }
        case "deleted": {
          await this.deleteLocalFile(filename);
          break;
        }
      }
    } catch (error) {
      console.error(`\u5904\u7406\u8FDC\u7A0B\u53D8\u66F4\u5931\u8D25 (${event}: ${filename}):`, error);
    }
  }
  // 状态管理
  updateStatus(updates) {
    this.status = { ...this.status, ...updates };
    this.notifyStatusChange();
  }
  addError(message, error, retryable) {
    this.status.errors.push({
      message: `${message}: ${error.message}`,
      timestamp: new Date(),
      retryable
    });
    this.notifyStatusChange();
  }
  notifyStatusChange() {
    this.statusChangeHandlers.forEach((handler) => {
      try {
        handler({ ...this.status });
      } catch (error) {
        console.error("\u72B6\u6001\u53D8\u66F4\u5904\u7406\u5668\u9519\u8BEF:", error);
      }
    });
  }
  // 公共方法
  getStatus() {
    return { ...this.status };
  }
  onStatusChange(handler) {
    this.statusChangeHandlers.push(handler);
  }
  offStatusChange(handler) {
    const index = this.statusChangeHandlers.indexOf(handler);
    if (index > -1) {
      this.statusChangeHandlers.splice(index, 1);
    }
  }
  pause() {
    this.isPaused = true;
    if (this.status.state === "syncing" /* SYNCING */) {
      this.updateStatus({ state: "paused" /* PAUSED */ });
    }
  }
  resume() {
    this.isPaused = false;
    if (this.status.state === "paused" /* PAUSED */) {
      this.updateStatus({ state: "idle" /* IDLE */ });
    }
  }
  isPausedState() {
    return this.isPaused;
  }
  cleanup() {
    this.statusChangeHandlers = [];
    this.fileCache.clear();
    this.syncQueue = [];
  }
};

// src/views/memory-view.ts
var import_obsidian2 = require("obsidian");
var MEMORY_VIEW_TYPE = "openclaw-memory-view";
var MemoryView = class extends import_obsidian2.ItemView {
  constructor(leaf, apiClient) {
    super(leaf);
    this.files = [];
    this.filteredFiles = [];
    this.searchQuery = "";
    this.sortBy = "modified";
    this.sortOrder = "desc";
    this.isLoading = false;
    this.lastRefresh = null;
    this.apiClient = apiClient;
  }
  getViewType() {
    return MEMORY_VIEW_TYPE;
  }
  getDisplayText() {
    return "OpenClaw\u8BB0\u5FC6\u5E93";
  }
  getIcon() {
    return "brain";
  }
  async onOpen() {
    const container = this.containerEl.children[1];
    container.empty();
    const mainContainer = container.createDiv({ cls: "openclaw-memory-view" });
    const header = mainContainer.createDiv({ cls: "openclaw-memory-header" });
    header.createEl("h2", { text: "OpenClaw\u8BB0\u5FC6\u5E93" });
    const controls = mainContainer.createDiv({ cls: "openclaw-memory-controls" });
    const searchContainer = controls.createDiv({ cls: "search-container" });
    const searchInput = searchContainer.createEl("input", {
      type: "text",
      placeholder: "\u641C\u7D22\u8BB0\u5FC6\u6587\u4EF6...",
      cls: "search-input"
    });
    searchInput.addEventListener("input", (e) => {
      this.searchQuery = e.target.value;
      this.filterAndSortFiles();
      this.renderFileList();
    });
    const sortContainer = controls.createDiv({ cls: "sort-container" });
    const sortBySelect = sortContainer.createEl("select", { cls: "sort-select" });
    sortBySelect.createEl("option", { value: "name", text: "\u6309\u540D\u79F0" });
    sortBySelect.createEl("option", { value: "size", text: "\u6309\u5927\u5C0F" });
    sortBySelect.createEl("option", { value: "modified", text: "\u6309\u4FEE\u6539\u65F6\u95F4" });
    sortBySelect.createEl("option", { value: "created", text: "\u6309\u521B\u5EFA\u65F6\u95F4" });
    sortBySelect.value = this.sortBy;
    sortBySelect.addEventListener("change", (e) => {
      this.sortBy = e.target.value;
      this.filterAndSortFiles();
      this.renderFileList();
    });
    const sortOrderButton = sortContainer.createEl("button", {
      text: this.sortOrder === "desc" ? "\u2193" : "\u2191",
      cls: "sort-order-button"
    });
    sortOrderButton.addEventListener("click", () => {
      this.sortOrder = this.sortOrder === "desc" ? "asc" : "desc";
      sortOrderButton.setText(this.sortOrder === "desc" ? "\u2193" : "\u2191");
      this.filterAndSortFiles();
      this.renderFileList();
    });
    const refreshButton = controls.createEl("button", {
      text: "\u5237\u65B0",
      cls: "refresh-button"
    });
    refreshButton.addEventListener("click", () => {
      this.refreshFiles();
    });
    const fileListContainer = mainContainer.createDiv({ cls: "file-list-container" });
    this.contentEl = fileListContainer;
    const statusBar = mainContainer.createDiv({ cls: "status-bar" });
    this.statusEl = statusBar;
    await this.refreshFiles();
  }
  async onClose() {
  }
  async refreshFiles() {
    this.isLoading = true;
    this.updateStatus("\u6B63\u5728\u52A0\u8F7D\u6587\u4EF6...");
    try {
      this.files = await this.apiClient.getFiles();
      this.lastRefresh = new Date();
      this.filterAndSortFiles();
      this.renderFileList();
      this.updateStatus(`\u5DF2\u52A0\u8F7D ${this.files.length} \u4E2A\u6587\u4EF6`);
    } catch (error) {
      this.updateStatus(`\u52A0\u8F7D\u5931\u8D25: ${error.message}`, "error");
      console.error("\u52A0\u8F7D\u6587\u4EF6\u5931\u8D25:", error);
    } finally {
      this.isLoading = false;
    }
  }
  filterAndSortFiles() {
    if (this.searchQuery.trim()) {
      const query = this.searchQuery.toLowerCase();
      this.filteredFiles = this.files.filter(
        (file) => file.name.toLowerCase().includes(query) || file.path.toLowerCase().includes(query)
      );
    } else {
      this.filteredFiles = [...this.files];
    }
    this.filteredFiles.sort((a, b) => {
      let comparison = 0;
      switch (this.sortBy) {
        case "name":
          comparison = a.name.localeCompare(b.name);
          break;
        case "size":
          comparison = a.size - b.size;
          break;
        case "modified":
          comparison = a.modified.getTime() - b.modified.getTime();
          break;
        case "created":
          comparison = a.created.getTime() - b.created.getTime();
          break;
      }
      return this.sortOrder === "desc" ? -comparison : comparison;
    });
  }
  renderFileList() {
    this.contentEl.empty();
    if (this.filteredFiles.length === 0) {
      if (this.searchQuery.trim()) {
        this.contentEl.createEl("p", {
          text: `\u6CA1\u6709\u627E\u5230\u5305\u542B "${this.searchQuery}" \u7684\u6587\u4EF6`,
          cls: "no-results"
        });
      } else {
        this.contentEl.createEl("p", {
          text: "\u6CA1\u6709\u627E\u5230\u6587\u4EF6",
          cls: "no-results"
        });
      }
      return;
    }
    const fileList = this.contentEl.createEl("div", { cls: "file-list" });
    for (const file of this.filteredFiles) {
      const fileItem = fileList.createEl("div", { cls: "file-item" });
      const fileHeader = fileItem.createEl("div", { cls: "file-header" });
      fileHeader.createEl("span", {
        text: "\u{1F4C4}",
        cls: "file-icon"
      });
      const fileName = fileHeader.createEl("span", {
        text: file.name,
        cls: "file-name"
      });
      fileName.addEventListener("click", () => {
        this.openFile(file);
      });
      const fileInfo = fileItem.createEl("div", { cls: "file-info" });
      fileInfo.createEl("span", {
        text: file.path,
        cls: "file-path"
      });
      fileInfo.createEl("span", {
        text: this.formatFileSize(file.size),
        cls: "file-size"
      });
      fileInfo.createEl("span", {
        text: `${file.lines} \u884C`,
        cls: "file-lines"
      });
      fileInfo.createEl("span", {
        text: this.formatDate(file.modified),
        cls: "file-modified"
      });
      const actions = fileItem.createEl("div", { cls: "file-actions" });
      const previewButton = actions.createEl("button", {
        text: "\u9884\u89C8",
        cls: "preview-button"
      });
      previewButton.addEventListener("click", () => {
        this.previewFile(file);
      });
      const downloadButton = actions.createEl("button", {
        text: "\u4E0B\u8F7D",
        cls: "download-button"
      });
      downloadButton.addEventListener("click", () => {
        this.downloadFile(file);
      });
      const deleteButton = actions.createEl("button", {
        text: "\u5220\u9664",
        cls: "delete-button"
      });
      deleteButton.addEventListener("click", () => {
        this.deleteFile(file);
      });
    }
  }
  async openFile(file) {
    try {
      const fileContent = await this.apiClient.getFile(file.name);
      const leaf = this.app.workspace.getLeaf(true);
      await leaf.openFile(
        await this.app.vault.create(`${file.name}`, fileContent.content)
      );
    } catch (error) {
      new import_obsidian2.Notice(`\u6253\u5F00\u6587\u4EF6\u5931\u8D25: ${error.message}`);
      console.error("\u6253\u5F00\u6587\u4EF6\u5931\u8D25:", error);
    }
  }
  async previewFile(file) {
    try {
      const fileContent = await this.apiClient.getFile(file.name);
      const modal = new PreviewModal(this.app, file.name, fileContent.content);
      modal.open();
    } catch (error) {
      new import_obsidian2.Notice(`\u9884\u89C8\u6587\u4EF6\u5931\u8D25: ${error.message}`);
      console.error("\u9884\u89C8\u6587\u4EF6\u5931\u8D25:", error);
    }
  }
  async downloadFile(file) {
    try {
      const fileContent = await this.apiClient.getFile(file.name);
      const blob = new Blob([fileContent.content], { type: "text/plain" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = file.name;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      new import_obsidian2.Notice(`\u5DF2\u4E0B\u8F7D: ${file.name}`);
    } catch (error) {
      new import_obsidian2.Notice(`\u4E0B\u8F7D\u6587\u4EF6\u5931\u8D25: ${error.message}`);
      console.error("\u4E0B\u8F7D\u6587\u4EF6\u5931\u8D25:", error);
    }
  }
  async deleteFile(file) {
    const confirmed = await confirm(`\u786E\u5B9A\u8981\u5220\u9664 "${file.name}" \u5417\uFF1F`);
    if (!confirmed)
      return;
    try {
      await this.apiClient.deleteFile(file.name);
      new import_obsidian2.Notice(`\u5DF2\u5220\u9664: ${file.name}`);
      await this.refreshFiles();
    } catch (error) {
      new import_obsidian2.Notice(`\u5220\u9664\u6587\u4EF6\u5931\u8D25: ${error.message}`);
      console.error("\u5220\u9664\u6587\u4EF6\u5931\u8D25:", error);
    }
  }
  updateStatus(message, type = "info") {
    this.statusEl.empty();
    const statusText = this.statusEl.createEl("span", {
      text: message,
      cls: `status-text status-${type}`
    });
    if (this.lastRefresh) {
      this.statusEl.createEl("span", {
        text: ` | \u6700\u540E\u66F4\u65B0: ${this.formatDate(this.lastRefresh)}`,
        cls: "last-refresh"
      });
    }
  }
  formatFileSize(bytes) {
    if (bytes === 0)
      return "0 B";
    const k = 1024;
    const sizes = ["B", "KB", "MB", "GB"];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + " " + sizes[i];
  }
  formatDate(date) {
    const now = new Date();
    const diffMs = now.getTime() - date.getTime();
    const diffDays = Math.floor(diffMs / (1e3 * 60 * 60 * 24));
    if (diffDays === 0) {
      return date.toLocaleTimeString();
    } else if (diffDays === 1) {
      return "\u6628\u5929 " + date.toLocaleTimeString();
    } else if (diffDays < 7) {
      return `${diffDays}\u5929\u524D`;
    } else {
      return date.toLocaleDateString();
    }
  }
  static open(app, apiClient) {
    const leaf = app.workspace.getLeaf(true);
    leaf.setViewState({
      type: MEMORY_VIEW_TYPE,
      active: true
    });
  }
};
var PreviewModal = class {
  constructor(app, title, content) {
    this.modal = new class extends app.Modal {
      constructor(app2, title2, content2) {
        super(app2);
        this.title = title2;
        this.content = content2;
      }
      onOpen() {
        const { contentEl } = this;
        contentEl.createEl("h2", { text: this.title });
        const previewArea = contentEl.createEl("div", {
          cls: "preview-area"
        });
        const textarea = previewArea.createEl("textarea", {
          value: this.content,
          cls: "preview-textarea"
        });
        textarea.readOnly = true;
        textarea.style.width = "100%";
        textarea.style.height = "400px";
        textarea.style.fontFamily = "monospace";
      }
      onClose() {
        const { contentEl } = this;
        contentEl.empty();
      }
    }(app, title, content);
  }
  open() {
    this.modal.open();
  }
  close() {
    this.modal.close();
  }
};

// src/views/sync-status.ts
var import_obsidian3 = require("obsidian");
var SYNC_STATUS_VIEW_TYPE = "openclaw-sync-status-view";
var SyncStatusView = class extends import_obsidian3.ItemView {
  constructor(leaf, syncEngine) {
    super(leaf);
    this.isAutoRefresh = true;
    this.refreshIntervalId = 0;
    this.errorDetailsVisible = /* @__PURE__ */ new Map();
    this.syncEngine = syncEngine;
    this.status = syncEngine.getStatus();
    this.syncEngine.onStatusChange((newStatus) => {
      this.status = newStatus;
      this.render();
    });
  }
  getViewType() {
    return SYNC_STATUS_VIEW_TYPE;
  }
  getDisplayText() {
    return "OpenClaw\u540C\u6B65\u72B6\u6001";
  }
  getIcon() {
    return "refresh-cw";
  }
  async onOpen() {
    const container = this.containerEl.children[1];
    container.empty();
    const mainContainer = container.createDiv({ cls: "openclaw-sync-status-view" });
    const header = mainContainer.createDiv({ cls: "sync-status-header" });
    header.createEl("h2", { text: "OpenClaw\u540C\u6B65\u72B6\u6001" });
    const controls = mainContainer.createDiv({ cls: "sync-controls" });
    const syncNowButton = controls.createEl("button", {
      text: "\u7ACB\u5373\u540C\u6B65",
      cls: "sync-now-button"
    });
    syncNowButton.addEventListener("click", () => {
      this.syncEngine.sync().catch((error) => {
        new import_obsidian3.Notice(`\u540C\u6B65\u5931\u8D25: ${error.message}`);
      });
    });
    const pauseResumeButton = controls.createEl("button", {
      text: this.syncEngine.isPausedState() ? "\u6062\u590D\u540C\u6B65" : "\u6682\u505C\u540C\u6B65",
      cls: "pause-resume-button"
    });
    pauseResumeButton.addEventListener("click", () => {
      if (this.syncEngine.isPausedState()) {
        this.syncEngine.resume();
        pauseResumeButton.setText("\u6682\u505C\u540C\u6B65");
        new import_obsidian3.Notice("\u540C\u6B65\u5DF2\u6062\u590D");
      } else {
        this.syncEngine.pause();
        pauseResumeButton.setText("\u6062\u590D\u540C\u6B65");
        new import_obsidian3.Notice("\u540C\u6B65\u5DF2\u6682\u505C");
      }
    });
    const autoRefreshContainer = controls.createDiv({ cls: "auto-refresh-container" });
    const autoRefreshCheckbox = autoRefreshContainer.createEl("input", {
      type: "checkbox",
      cls: "auto-refresh-checkbox"
    });
    autoRefreshCheckbox.id = "auto-refresh";
    autoRefreshCheckbox.checked = this.isAutoRefresh;
    autoRefreshCheckbox.addEventListener("change", (e) => {
      this.isAutoRefresh = e.target.checked;
      if (this.isAutoRefresh) {
        this.startAutoRefresh();
      } else {
        this.stopAutoRefresh();
      }
    });
    autoRefreshContainer.createEl("label", {
      text: "\u81EA\u52A8\u5237\u65B0",
      attr: { for: "auto-refresh" }
    });
    const refreshButton = controls.createEl("button", {
      text: "\u5237\u65B0",
      cls: "refresh-button"
    });
    refreshButton.addEventListener("click", () => {
      this.render();
    });
    this.contentEl = mainContainer.createDiv({ cls: "sync-status-content" });
    if (this.isAutoRefresh) {
      this.startAutoRefresh();
    }
    this.render();
  }
  async onClose() {
    this.stopAutoRefresh();
  }
  render() {
    this.contentEl.empty();
    const statusCard = this.contentEl.createDiv({ cls: "status-card" });
    const statusHeader = statusCard.createDiv({ cls: "status-header" });
    const statusIcon = statusHeader.createEl("span", {
      text: this.getStatusIcon(),
      cls: "status-icon"
    });
    const statusText = statusHeader.createEl("span", {
      text: this.getStatusText(),
      cls: `status-text status-${this.status.state}`
    });
    if (this.status.state === "syncing" /* SYNCING */) {
      const progressContainer = statusCard.createDiv({ cls: "progress-container" });
      const progressBar = progressContainer.createEl("div", { cls: "progress-bar" });
      const progressFill = progressBar.createEl("div", {
        cls: "progress-fill",
        attr: { style: `width: ${this.status.progress}%` }
      });
      const progressText = progressContainer.createEl("div", {
        text: `${this.status.progress.toFixed(1)}%`,
        cls: "progress-text"
      });
    }
    if (this.status.currentFile) {
      const currentFile = statusCard.createDiv({ cls: "current-file" });
      currentFile.createEl("strong", { text: "\u5F53\u524D\u6587\u4EF6: " });
      currentFile.createEl("span", { text: this.status.currentFile });
    }
    const stats = statusCard.createDiv({ cls: "stats" });
    if (this.status.filesSynced > 0) {
      stats.createEl("div", {
        text: `\u5DF2\u540C\u6B65\u6587\u4EF6: ${this.status.filesSynced}`,
        cls: "stat-item"
      });
    }
    if (this.status.totalFiles > 0) {
      stats.createEl("div", {
        text: `\u603B\u6587\u4EF6\u6570: ${this.status.totalFiles}`,
        cls: "stat-item"
      });
    }
    if (this.status.lastSync) {
      stats.createEl("div", {
        text: `\u6700\u540E\u540C\u6B65: ${this.formatDate(this.status.lastSync)}`,
        cls: "stat-item"
      });
    }
    if (this.status.errors.length > 0) {
      const errorsSection = this.contentEl.createDiv({ cls: "errors-section" });
      errorsSection.createEl("h3", { text: "\u9519\u8BEF\u65E5\u5FD7" });
      const errorsList = errorsSection.createEl("div", { cls: "errors-list" });
      this.status.errors.forEach((error, index) => {
        const errorItem = errorsList.createEl("div", { cls: "error-item" });
        const errorHeader = errorItem.createEl("div", { cls: "error-header" });
        errorHeader.createEl("span", {
          text: "\u274C",
          cls: "error-icon"
        });
        errorHeader.createEl("span", {
          text: error.message,
          cls: "error-message"
        });
        errorHeader.createEl("span", {
          text: this.formatDate(error.timestamp),
          cls: "error-time"
        });
        const toggleButton = errorHeader.createEl("button", {
          text: this.errorDetailsVisible.get(index) ? "\u9690\u85CF\u8BE6\u60C5" : "\u663E\u793A\u8BE6\u60C5",
          cls: "error-toggle-button"
        });
        toggleButton.addEventListener("click", () => {
          const isVisible = this.errorDetailsVisible.get(index) || false;
          this.errorDetailsVisible.set(index, !isVisible);
          this.render();
        });
        if (this.errorDetailsVisible.get(index)) {
          const errorDetails = errorItem.createEl("div", { cls: "error-details" });
          if (error.file) {
            errorDetails.createEl("div", {
              text: `\u6587\u4EF6: ${error.file}`,
              cls: "error-file"
            });
          }
          errorDetails.createEl("div", {
            text: `\u65F6\u95F4: ${error.timestamp.toLocaleString()}`,
            cls: "error-timestamp"
          });
          errorDetails.createEl("div", {
            text: `\u53EF\u91CD\u8BD5: ${error.retryable ? "\u662F" : "\u5426"}`,
            cls: "error-retryable"
          });
          if (error.retryable && error.file) {
            const retryButton = errorDetails.createEl("button", {
              text: "\u91CD\u8BD5",
              cls: "retry-button"
            });
            retryButton.addEventListener("click", () => {
              new import_obsidian3.Notice(`\u91CD\u8BD5\u6587\u4EF6: ${error.file}`);
            });
          }
        }
      });
      if (this.status.errors.length > 0) {
        const clearErrorsButton = errorsSection.createEl("button", {
          text: "\u6E05\u9664\u6240\u6709\u9519\u8BEF",
          cls: "clear-errors-button"
        });
        clearErrorsButton.addEventListener("click", () => {
          new import_obsidian3.Notice("\u9519\u8BEF\u65E5\u5FD7\u5DF2\u6E05\u9664");
        });
      }
    }
    const historySection = this.contentEl.createDiv({ cls: "history-section" });
    historySection.createEl("h3", { text: "\u540C\u6B65\u5386\u53F2" });
    const historyPlaceholder = historySection.createEl("div", {
      text: "\u540C\u6B65\u5386\u53F2\u8BB0\u5F55\u5C06\u5728\u8FD9\u91CC\u663E\u793A",
      cls: "history-placeholder"
    });
    const performanceSection = this.contentEl.createDiv({ cls: "performance-section" });
    performanceSection.createEl("h3", { text: "\u6027\u80FD\u7EDF\u8BA1" });
    const performanceStats = performanceSection.createDiv({ cls: "performance-stats" });
    performanceStats.createEl("div", {
      text: "\u5E73\u5747\u540C\u6B65\u65F6\u95F4: --",
      cls: "performance-item"
    });
    performanceStats.createEl("div", {
      text: "\u6700\u5FEB\u540C\u6B65\u65F6\u95F4: --",
      cls: "performance-item"
    });
    performanceStats.createEl("div", {
      text: "\u6700\u6162\u540C\u6B65\u65F6\u95F4: --",
      cls: "performance-item"
    });
    performanceStats.createEl("div", {
      text: "\u6210\u529F\u7387: --",
      cls: "performance-item"
    });
  }
  getStatusIcon() {
    switch (this.status.state) {
      case "idle" /* IDLE */:
        return "\u2705";
      case "syncing" /* SYNCING */:
        return "\u{1F504}";
      case "conflict" /* CONFLICT */:
        return "\u26A0\uFE0F";
      case "error" /* ERROR */:
        return "\u274C";
      case "paused" /* PAUSED */:
        return "\u23F8\uFE0F";
      default:
        return "\u2753";
    }
  }
  getStatusText() {
    switch (this.status.state) {
      case "idle" /* IDLE */:
        return "\u7A7A\u95F2";
      case "syncing" /* SYNCING */:
        return "\u540C\u6B65\u4E2D";
      case "conflict" /* CONFLICT */:
        return "\u5B58\u5728\u51B2\u7A81";
      case "error" /* ERROR */:
        return "\u9519\u8BEF";
      case "paused" /* PAUSED */:
        return "\u5DF2\u6682\u505C";
      default:
        return "\u672A\u77E5\u72B6\u6001";
    }
  }
  formatDate(date) {
    const now = new Date();
    const diffMs = now.getTime() - date.getTime();
    const diffMins = Math.floor(diffMs / (1e3 * 60));
    if (diffMins < 1) {
      return "\u521A\u521A";
    } else if (diffMins < 60) {
      return `${diffMins}\u5206\u949F\u524D`;
    } else if (diffMins < 24 * 60) {
      const hours = Math.floor(diffMins / 60);
      return `${hours}\u5C0F\u65F6\u524D`;
    } else {
      return date.toLocaleDateString();
    }
  }
  startAutoRefresh() {
    this.stopAutoRefresh();
    this.refreshIntervalId = window.setInterval(() => {
      this.render();
    }, 5e3);
  }
  stopAutoRefresh() {
    if (this.refreshIntervalId) {
      clearInterval(this.refreshIntervalId);
      this.refreshIntervalId = 0;
    }
  }
  static open(app, syncEngine) {
    const leaf = app.workspace.getLeaf(true);
    leaf.setViewState({
      type: SYNC_STATUS_VIEW_TYPE,
      active: true
    });
  }
};

// src/utils/logger.ts
var Logger = class {
  constructor(settings) {
    this.settings = settings;
    this.logs = [];
    this.maxLogs = 1e3;
    this.listeners = [];
  }
  debug(message, source, data) {
    this.log("debug" /* DEBUG */, message, source, data);
  }
  info(message, source, data) {
    this.log("info" /* INFO */, message, source, data);
  }
  warn(message, source, data) {
    this.log("warn" /* WARN */, message, source, data);
  }
  error(message, source, data) {
    this.log("error" /* ERROR */, message, source, data);
  }
  log(level, message, source, data) {
    if (!this.shouldLog(level)) {
      return;
    }
    const entry = {
      timestamp: new Date(),
      level,
      message,
      source,
      data
    };
    this.logs.push(entry);
    if (this.logs.length > this.maxLogs) {
      this.logs = this.logs.slice(-this.maxLogs);
    }
    this.consoleLog(entry);
    this.notifyListeners(entry);
  }
  shouldLog(level) {
    const levelOrder = {
      ["debug" /* DEBUG */]: 0,
      ["info" /* INFO */]: 1,
      ["warn" /* WARN */]: 2,
      ["error" /* ERROR */]: 3
    };
    const currentLevel = levelOrder[this.settings.logLevel];
    const messageLevel = levelOrder[level];
    return messageLevel >= currentLevel;
  }
  consoleLog(entry) {
    const timestamp = entry.timestamp.toISOString().split("T")[1].split(".")[0];
    const prefix = `[${timestamp}] [${entry.level.toUpperCase()}]`;
    const source = entry.source ? `[${entry.source}]` : "";
    const message = `${prefix}${source} ${entry.message}`;
    switch (entry.level) {
      case "debug" /* DEBUG */:
        console.debug(message, entry.data || "");
        break;
      case "info" /* INFO */:
        console.info(message, entry.data || "");
        break;
      case "warn" /* WARN */:
        console.warn(message, entry.data || "");
        break;
      case "error" /* ERROR */:
        console.error(message, entry.data || "");
        break;
    }
  }
  notifyListeners(entry) {
    this.listeners.forEach((listener) => {
      try {
        listener(entry);
      } catch (error) {
        console.error("\u65E5\u5FD7\u76D1\u542C\u5668\u9519\u8BEF:", error);
      }
    });
  }
  // 公共方法
  getLogs(level, limit) {
    let filteredLogs = this.logs;
    if (level) {
      filteredLogs = filteredLogs.filter((log) => log.level === level);
    }
    if (limit && limit > 0) {
      filteredLogs = filteredLogs.slice(-limit);
    }
    return [...filteredLogs];
  }
  clearLogs() {
    this.logs = [];
  }
  onLog(listener) {
    this.listeners.push(listener);
  }
  offLog(listener) {
    const index = this.listeners.indexOf(listener);
    if (index > -1) {
      this.listeners.splice(index, 1);
    }
  }
  getStats() {
    const stats = {
      total: this.logs.length,
      byLevel: {
        ["debug" /* DEBUG */]: 0,
        ["info" /* INFO */]: 0,
        ["warn" /* WARN */]: 0,
        ["error" /* ERROR */]: 0
      },
      bySource: {},
      oldest: this.logs.length > 0 ? this.logs[0].timestamp : null,
      newest: this.logs.length > 0 ? this.logs[this.logs.length - 1].timestamp : null
    };
    for (const log of this.logs) {
      stats.byLevel[log.level]++;
      if (log.source) {
        stats.bySource[log.source] = (stats.bySource[log.source] || 0) + 1;
      }
    }
    return stats;
  }
  exportLogs(format = "json") {
    if (format === "json") {
      return JSON.stringify(this.logs, null, 2);
    } else {
      return this.logs.map((log) => {
        const timestamp = log.timestamp.toISOString();
        const level = log.level.toUpperCase().padEnd(5);
        const source = log.source ? ` [${log.source}]` : "";
        return `${timestamp} ${level}${source} ${log.message}`;
      }).join("\n");
    }
  }
  // 工具方法
  static formatError(error) {
    if (error instanceof Error) {
      return `${error.name}: ${error.message}
${error.stack || ""}`;
    } else if (typeof error === "string") {
      return error;
    } else {
      try {
        return JSON.stringify(error);
      } catch (e) {
        return String(error);
      }
    }
  }
  /**
   * 性能监控：记录方法执行时间
   * @param method 要监控的方法
   * @param methodName 方法名称（用于日志）
   * @returns 包装后的方法
   */
  static monitorPerformance(method, methodName, logger) {
    return (...args) => {
      const startTime = performance.now();
      try {
        const result = method(...args);
        if (result instanceof Promise) {
          return result.then((asyncResult) => {
            const endTime2 = performance.now();
            const duration2 = endTime2 - startTime;
            logger.debug(`Method ${methodName} completed in ${duration2.toFixed(2)}ms`, "performance");
            return asyncResult;
          }).catch((error) => {
            const endTime2 = performance.now();
            const duration2 = endTime2 - startTime;
            logger.error(`Method ${methodName} failed after ${duration2.toFixed(2)}ms: ${this.formatError(error)}`, "performance");
            throw error;
          });
        }
        const endTime = performance.now();
        const duration = endTime - startTime;
        logger.debug(`Method ${methodName} completed in ${duration.toFixed(2)}ms`, "performance");
        return result;
      } catch (error) {
        const endTime = performance.now();
        const duration = endTime - startTime;
        logger.error(`Method ${methodName} failed after ${duration.toFixed(2)}ms: ${this.formatError(error)}`, "performance");
        throw error;
      }
    };
  }
  static createContextLogger(source, settings) {
    const logger = new Logger(settings);
    return {
      debug: (message, data) => logger.debug(message, source, data),
      info: (message, data) => logger.info(message, source, data),
      warn: (message, data) => logger.warn(message, source, data),
      error: (message, data) => logger.error(message, source, data),
      getLogs: (level, limit) => logger.getLogs(level, limit),
      clearLogs: () => logger.clearLogs(),
      onLog: (listener) => logger.onLog(listener),
      offLog: (listener) => logger.offLog(listener),
      getStats: () => logger.getStats(),
      exportLogs: (format) => logger.exportLogs(format)
    };
  }
};

// main.ts
var DEFAULT_SETTINGS = {
  apiUrl: "localhost",
  apiPort: 8765,
  syncInterval: 300,
  // 5 minutes in seconds
  autoSync: true,
  conflictStrategy: "timestamp",
  excludePatterns: ["*.tmp", ".*"],
  enableWebSocket: true,
  logLevel: "info",
  targetFolder: "OpenClaw\u8BB0\u5FC6\u5E93"
};
var OpenClawMemorySync = class extends import_obsidian4.Plugin {
  async onload() {
    await this.loadSettings();
    this.logger = new Logger(this.settings);
    this.logger.info("OpenClaw Memory Sync\u63D2\u4EF6\u5F00\u59CB\u52A0\u8F7D", "plugin");
    this.apiClient = new OpenClawAPIClient(this.settings);
    this.syncEngine = new SyncEngine(this.app, this.apiClient, this.settings);
    this.registerView(MEMORY_VIEW_TYPE, (leaf) => new MemoryView(leaf, this.apiClient));
    this.registerView(SYNC_STATUS_VIEW_TYPE, (leaf) => new SyncStatusView(leaf, this.syncEngine));
    this.addSettingTab(new OpenClawMemorySyncSettingTab(this.app, this));
    this.addCommand({
      id: "openclaw-sync-now",
      name: "\u7ACB\u5373\u540C\u6B65",
      callback: () => this.syncNow()
    });
    this.addCommand({
      id: "openclaw-view-memory",
      name: "\u67E5\u770B\u8BB0\u5FC6\u5E93",
      callback: () => MemoryView.open(this.app, this.apiClient)
    });
    this.addCommand({
      id: "openclaw-view-status",
      name: "\u67E5\u770B\u540C\u6B65\u72B6\u6001",
      callback: () => SyncStatusView.open(this.app, this.syncEngine)
    });
    this.addRibbonIcon("brain", "OpenClaw\u8BB0\u5FC6\u540C\u6B65", () => {
      SyncStatusView.open(this.app, this.syncEngine);
    });
    const statusBarItem = this.addStatusBarItem();
    statusBarItem.setText("\u{1F504} OpenClaw");
    this.syncEngine.onStatusChange((status) => {
      const icons = {
        idle: "\u2705",
        syncing: "\u{1F504}",
        conflict: "\u26A0\uFE0F",
        error: "\u274C",
        paused: "\u23F8\uFE0F"
      };
      statusBarItem.setText(`${icons[status.state]} OpenClaw`);
      if (status.state === "error" && status.errors.length > 0) {
        statusBarItem.setAttr("title", `\u540C\u6B65\u9519\u8BEF: ${status.errors[0].message}`);
      } else {
        statusBarItem.setAttr("title", `\u540C\u6B65\u72B6\u6001: ${status.state}`);
      }
    });
    try {
      this.logger.info("\u6B63\u5728\u8FDE\u63A5OpenClaw API\u670D\u52A1\u5668...", "api");
      await this.apiClient.connect();
      new import_obsidian4.Notice("\u2705 OpenClaw API\u8FDE\u63A5\u6210\u529F");
      this.logger.info("OpenClaw API\u8FDE\u63A5\u6210\u529F", "api");
    } catch (error) {
      const errorMsg = `OpenClaw API\u8FDE\u63A5\u5931\u8D25: ${error.message}`;
      new import_obsidian4.Notice(`\u274C ${errorMsg}`);
      this.logger.error(errorMsg, "api", error);
    }
    if (this.settings.autoSync) {
      this.startAutoSync();
      this.logger.info(`\u81EA\u52A8\u540C\u6B65\u5DF2\u542F\u52A8\uFF0C\u95F4\u9694: ${this.settings.syncInterval}\u79D2`, "sync");
    }
    await this.ensureTargetFolder();
    this.logger.info("OpenClaw Memory Sync\u63D2\u4EF6\u52A0\u8F7D\u5B8C\u6210", "plugin");
  }
  async onunload() {
    this.logger.info("OpenClaw Memory Sync\u63D2\u4EF6\u5F00\u59CB\u5378\u8F7D", "plugin");
    this.stopAutoSync();
    await this.apiClient.disconnect();
    this.syncEngine.cleanup();
    this.logger.info("OpenClaw Memory Sync\u63D2\u4EF6\u5378\u8F7D\u5B8C\u6210", "plugin");
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async syncNow() {
    try {
      this.logger.info("\u5F00\u59CB\u624B\u52A8\u540C\u6B65OpenClaw\u8BB0\u5FC6\u5E93", "sync");
      new import_obsidian4.Notice("\u{1F504} \u5F00\u59CB\u540C\u6B65OpenClaw\u8BB0\u5FC6\u5E93...");
      await this.syncEngine.sync();
      this.logger.info("OpenClaw\u8BB0\u5FC6\u5E93\u540C\u6B65\u5B8C\u6210", "sync");
      new import_obsidian4.Notice("\u2705 OpenClaw\u8BB0\u5FC6\u5E93\u540C\u6B65\u5B8C\u6210");
    } catch (error) {
      const errorMsg = `\u540C\u6B65\u5931\u8D25: ${error.message}`;
      this.logger.error(errorMsg, "sync", error);
      new import_obsidian4.Notice(`\u274C ${errorMsg}`);
    }
  }
  startAutoSync() {
    if (this.syncIntervalId) {
      clearInterval(this.syncIntervalId);
    }
    this.syncIntervalId = window.setInterval(() => {
      if (this.syncEngine.getStatus().state === "idle") {
        this.logger.debug("\u81EA\u52A8\u540C\u6B65\u89E6\u53D1", "sync");
        this.syncNow();
      }
    }, this.settings.syncInterval * 1e3);
    this.logger.info(`\u81EA\u52A8\u540C\u6B65\u5DF2\u542F\u52A8\uFF0C\u95F4\u9694: ${this.settings.syncInterval}\u79D2`, "sync");
  }
  stopAutoSync() {
    if (this.syncIntervalId) {
      clearInterval(this.syncIntervalId);
      this.syncIntervalId = 0;
      this.logger.info("\u81EA\u52A8\u540C\u6B65\u5DF2\u505C\u6B62", "sync");
    }
  }
  async ensureTargetFolder() {
    const { vault } = this.app;
    const folderPath = this.settings.targetFolder;
    const folder = vault.getAbstractFileByPath(folderPath);
    if (!folder) {
      await vault.createFolder(folderPath);
      this.logger.info(`\u521B\u5EFA\u76EE\u6807\u6587\u4EF6\u5939: ${folderPath}`, "filesystem");
    } else if (!(folder instanceof import_obsidian4.TFolder)) {
      this.logger.warn(`\u8DEF\u5F84 ${folderPath} \u5DF2\u5B58\u5728\u4F46\u4E0D\u662F\u6587\u4EF6\u5939`, "filesystem");
    } else {
      this.logger.debug(`\u76EE\u6807\u6587\u4EF6\u5939\u5DF2\u5B58\u5728: ${folderPath}`, "filesystem");
    }
  }
};
var OpenClawMemorySyncSettingTab = class extends import_obsidian4.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "OpenClaw\u8BB0\u5FC6\u540C\u6B65\u8BBE\u7F6E" });
    new import_obsidian4.Setting(containerEl).setName("API\u670D\u52A1\u5668\u5730\u5740").setDesc("OpenClaw API\u670D\u52A1\u5668\u7684\u5730\u5740").addText(
      (text) => text.setPlaceholder("localhost").setValue(this.plugin.settings.apiUrl).onChange(async (value) => {
        this.plugin.settings.apiUrl = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian4.Setting(containerEl).setName("API\u7AEF\u53E3").setDesc("OpenClaw API\u670D\u52A1\u5668\u7684\u7AEF\u53E3").addText(
      (text) => text.setPlaceholder("8765").setValue(this.plugin.settings.apiPort.toString()).onChange(async (value) => {
        this.plugin.settings.apiPort = parseInt(value) || 8765;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian4.Setting(containerEl).setName("\u81EA\u52A8\u540C\u6B65").setDesc("\u542F\u7528\u81EA\u52A8\u540C\u6B65").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.autoSync).onChange(async (value) => {
        this.plugin.settings.autoSync = value;
        await this.plugin.saveSettings();
        if (value) {
          this.plugin.startAutoSync();
        } else {
          this.plugin.stopAutoSync();
        }
      })
    );
    new import_obsidian4.Setting(containerEl).setName("\u540C\u6B65\u95F4\u9694\uFF08\u79D2\uFF09").setDesc("\u81EA\u52A8\u540C\u6B65\u7684\u65F6\u95F4\u95F4\u9694").addText(
      (text) => text.setPlaceholder("300").setValue(this.plugin.settings.syncInterval.toString()).onChange(async (value) => {
        this.plugin.settings.syncInterval = parseInt(value) || 300;
        await this.plugin.saveSettings();
        if (this.plugin.settings.autoSync) {
          this.plugin.stopAutoSync();
          this.plugin.startAutoSync();
        }
      })
    );
    new import_obsidian4.Setting(containerEl).setName("\u51B2\u7A81\u89E3\u51B3\u7B56\u7565").setDesc("\u5F53\u6587\u4EF6\u51B2\u7A81\u65F6\u7684\u89E3\u51B3\u7B56\u7565").addDropdown(
      (dropdown) => dropdown.addOption("timestamp", "\u65F6\u95F4\u6233\u4F18\u5148\uFF08\u6700\u65B0\u7684\u80DC\u51FA\uFF09").addOption("local", "\u672C\u5730\u4F18\u5148").addOption("remote", "\u8FDC\u7A0B\u4F18\u5148").addOption("ask", "\u8BE2\u95EE\u7528\u6237").setValue(this.plugin.settings.conflictStrategy).onChange(async (value) => {
        this.plugin.settings.conflictStrategy = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian4.Setting(containerEl).setName("\u76EE\u6807\u6587\u4EF6\u5939").setDesc("\u8BB0\u5FC6\u6587\u4EF6\u4FDD\u5B58\u7684\u6587\u4EF6\u5939\u8DEF\u5F84").addText(
      (text) => text.setPlaceholder("OpenClaw\u8BB0\u5FC6\u5E93").setValue(this.plugin.settings.targetFolder).onChange(async (value) => {
        this.plugin.settings.targetFolder = value;
        await this.plugin.saveSettings();
        await this.plugin.ensureTargetFolder();
      })
    );
    new import_obsidian4.Setting(containerEl).setName("\u542F\u7528WebSocket").setDesc("\u542F\u7528\u5B9E\u65F6\u66F4\u65B0\u901A\u77E5").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.enableWebSocket).onChange(async (value) => {
        this.plugin.settings.enableWebSocket = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian4.Setting(containerEl).setName("\u6392\u9664\u6A21\u5F0F").setDesc("\u4E0D\u540C\u6B65\u7684\u6587\u4EF6\u6A21\u5F0F\uFF08\u6BCF\u884C\u4E00\u4E2A\uFF09").addTextArea(
      (text) => text.setPlaceholder("*.tmp\n.*\nnode_modules/").setValue(this.plugin.settings.excludePatterns.join("\n")).onChange(async (value) => {
        this.plugin.settings.excludePatterns = value.split("\n").filter((p) => p.trim());
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian4.Setting(containerEl).setName("\u65E5\u5FD7\u7EA7\u522B").setDesc("\u63A7\u5236\u53F0\u65E5\u5FD7\u7684\u8BE6\u7EC6\u7A0B\u5EA6").addDropdown(
      (dropdown) => dropdown.addOption("debug", "\u8C03\u8BD5").addOption("info", "\u4FE1\u606F").addOption("warn", "\u8B66\u544A").addOption("error", "\u9519\u8BEF").setValue(this.plugin.settings.logLevel).onChange(async (value) => {
        this.plugin.settings.logLevel = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian4.Setting(containerEl).setName("\u6D4B\u8BD5\u8FDE\u63A5").setDesc("\u6D4B\u8BD5\u4E0EOpenClaw API\u670D\u52A1\u5668\u7684\u8FDE\u63A5").addButton(
      (button) => button.setButtonText("\u6D4B\u8BD5\u8FDE\u63A5").onClick(async () => {
        try {
          await this.plugin.apiClient.testConnection();
          new import_obsidian4.Notice("\u2705 \u8FDE\u63A5\u6D4B\u8BD5\u6210\u529F");
        } catch (error) {
          new import_obsidian4.Notice(`\u274C \u8FDE\u63A5\u6D4B\u8BD5\u5931\u8D25: ${error.message}`);
        }
      })
    );
    new import_obsidian4.Setting(containerEl).setName("\u7ACB\u5373\u540C\u6B65").setDesc("\u624B\u52A8\u89E6\u53D1\u540C\u6B65").addButton(
      (button) => button.setButtonText("\u5F00\u59CB\u540C\u6B65").onClick(async () => {
        await this.plugin.syncNow();
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJhcGktY2xpZW50LnRzIiwgInN5bmMtZW5naW5lLnRzIiwgInNyYy92aWV3cy9tZW1vcnktdmlldy50cyIsICJzcmMvdmlld3Mvc3luYy1zdGF0dXMudHMiLCAic3JjL3V0aWxzL2xvZ2dlci50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIE5vdGljZSwgVEZpbGUsIFRGb2xkZXIgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBPcGVuQ2xhd0FQSUNsaWVudCB9IGZyb20gJy4vYXBpLWNsaWVudCc7XG5pbXBvcnQgeyBTeW5jRW5naW5lLCBTeW5jU3RhdHVzIH0gZnJvbSAnLi9zeW5jLWVuZ2luZSc7XG5pbXBvcnQgeyBNZW1vcnlWaWV3LCBNRU1PUllfVklFV19UWVBFIH0gZnJvbSAnLi9zcmMvdmlld3MvbWVtb3J5LXZpZXcnO1xuaW1wb3J0IHsgU3luY1N0YXR1c1ZpZXcsIFNZTkNfU1RBVFVTX1ZJRVdfVFlQRSB9IGZyb20gJy4vc3JjL3ZpZXdzL3N5bmMtc3RhdHVzJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4vc3JjL3V0aWxzL2xvZ2dlcic7XG5cbmludGVyZmFjZSBPcGVuQ2xhd01lbW9yeVN5bmNTZXR0aW5ncyB7XG4gIGFwaVVybDogc3RyaW5nO1xuICBhcGlQb3J0OiBudW1iZXI7XG4gIHN5bmNJbnRlcnZhbDogbnVtYmVyO1xuICBhdXRvU3luYzogYm9vbGVhbjtcbiAgY29uZmxpY3RTdHJhdGVneTogJ3RpbWVzdGFtcCcgfCAnbG9jYWwnIHwgJ3JlbW90ZScgfCAnYXNrJztcbiAgZXhjbHVkZVBhdHRlcm5zOiBzdHJpbmdbXTtcbiAgZW5hYmxlV2ViU29ja2V0OiBib29sZWFuO1xuICBsb2dMZXZlbDogJ2RlYnVnJyB8ICdpbmZvJyB8ICd3YXJuJyB8ICdlcnJvcic7XG4gIHRhcmdldEZvbGRlcjogc3RyaW5nO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBPcGVuQ2xhd01lbW9yeVN5bmNTZXR0aW5ncyA9IHtcbiAgYXBpVXJsOiAnbG9jYWxob3N0JyxcbiAgYXBpUG9ydDogODc2NSxcbiAgc3luY0ludGVydmFsOiAzMDAsIC8vIDUgbWludXRlcyBpbiBzZWNvbmRzXG4gIGF1dG9TeW5jOiB0cnVlLFxuICBjb25mbGljdFN0cmF0ZWd5OiAndGltZXN0YW1wJyxcbiAgZXhjbHVkZVBhdHRlcm5zOiBbJyoudG1wJywgJy4qJ10sXG4gIGVuYWJsZVdlYlNvY2tldDogdHJ1ZSxcbiAgbG9nTGV2ZWw6ICdpbmZvJyxcbiAgdGFyZ2V0Rm9sZGVyOiAnT3BlbkNsYXdcdThCQjBcdTVGQzZcdTVFOTMnXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcGVuQ2xhd01lbW9yeVN5bmMgZXh0ZW5kcyBQbHVnaW4ge1xuICBzZXR0aW5nczogT3BlbkNsYXdNZW1vcnlTeW5jU2V0dGluZ3M7XG4gIGFwaUNsaWVudDogT3BlbkNsYXdBUElDbGllbnQ7XG4gIHN5bmNFbmdpbmU6IFN5bmNFbmdpbmU7XG4gIHN5bmNJbnRlcnZhbElkOiBudW1iZXI7XG4gIGxvZ2dlcjogTG9nZ2VyO1xuXG4gIGFzeW5jIG9ubG9hZCgpIHtcbiAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG4gICAgLy8gXHU1MjFEXHU1OUNCXHU1MzE2XHU2NUU1XHU1RkQ3XHU3Q0ZCXHU3RURGXG4gICAgdGhpcy5sb2dnZXIgPSBuZXcgTG9nZ2VyKHRoaXMuc2V0dGluZ3MpO1xuXG4gICAgdGhpcy5sb2dnZXIuaW5mbygnT3BlbkNsYXcgTWVtb3J5IFN5bmNcdTYzRDJcdTRFRjZcdTVGMDBcdTU5Q0JcdTUyQTBcdThGN0QnLCAncGx1Z2luJyk7XG5cbiAgICAvLyBcdTUyMURcdTU5Q0JcdTUzMTZBUElcdTVCQTJcdTYyMzdcdTdBRUZcbiAgICB0aGlzLmFwaUNsaWVudCA9IG5ldyBPcGVuQ2xhd0FQSUNsaWVudCh0aGlzLnNldHRpbmdzKTtcblxuICAgIC8vIFx1NTIxRFx1NTlDQlx1NTMxNlx1NTQwQ1x1NkI2NVx1NUYxNVx1NjRDRVxuICAgIHRoaXMuc3luY0VuZ2luZSA9IG5ldyBTeW5jRW5naW5lKHRoaXMuYXBwLCB0aGlzLmFwaUNsaWVudCwgdGhpcy5zZXR0aW5ncyk7XG5cbiAgICAvLyBcdTZDRThcdTUxOENcdTg5QzZcdTU2RkVcbiAgICB0aGlzLnJlZ2lzdGVyVmlldyhNRU1PUllfVklFV19UWVBFLCBsZWFmID0+IG5ldyBNZW1vcnlWaWV3KGxlYWYsIHRoaXMuYXBpQ2xpZW50KSk7XG5cbiAgICB0aGlzLnJlZ2lzdGVyVmlldyhTWU5DX1NUQVRVU19WSUVXX1RZUEUsIGxlYWYgPT4gbmV3IFN5bmNTdGF0dXNWaWV3KGxlYWYsIHRoaXMuc3luY0VuZ2luZSkpO1xuXG4gICAgLy8gXHU2Q0U4XHU1MThDXHU4OUM2XHU1NkZFXHU3QzdCXHU1NzhCXG4gICAgLy8gdGhpcy5yZWdpc3RlclZpZXcoTUVNT1JZX1ZJRVdfVFlQRSwgbGVhZiA9PiBuZXcgTWVtb3J5VmlldyhsZWFmLCB0aGlzLmFwaUNsaWVudCkpO1xuICAgIC8vXG4gICAgLy8gdGhpcy5yZWdpc3RlclZpZXcoU1lOQ19TVEFUVVNfVklFV19UWVBFLCBsZWFmID0+IG5ldyBTeW5jU3RhdHVzVmlldyhsZWFmLCB0aGlzLnN5bmNFbmdpbmUpKTtcblxuICAgIC8vIFx1NkRGQlx1NTJBMFx1OEJCRVx1N0Y2RVx1NjgwN1x1N0I3RVx1OTg3NVxuICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgT3BlbkNsYXdNZW1vcnlTeW5jU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG4gICAgLy8gXHU2REZCXHU1MkEwXHU1NDdEXHU0RUU0XG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiAnb3BlbmNsYXctc3luYy1ub3cnLFxuICAgICAgbmFtZTogJ1x1N0FDQlx1NTM3M1x1NTQwQ1x1NkI2NScsXG4gICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy5zeW5jTm93KClcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogJ29wZW5jbGF3LXZpZXctbWVtb3J5JyxcbiAgICAgIG5hbWU6ICdcdTY3RTVcdTc3MEJcdThCQjBcdTVGQzZcdTVFOTMnLFxuICAgICAgY2FsbGJhY2s6ICgpID0+IE1lbW9yeVZpZXcub3Blbih0aGlzLmFwcCwgdGhpcy5hcGlDbGllbnQpXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdvcGVuY2xhdy12aWV3LXN0YXR1cycsXG4gICAgICBuYW1lOiAnXHU2N0U1XHU3NzBCXHU1NDBDXHU2QjY1XHU3MkI2XHU2MDAxJyxcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiBTeW5jU3RhdHVzVmlldy5vcGVuKHRoaXMuYXBwLCB0aGlzLnN5bmNFbmdpbmUpXG4gICAgfSk7XG5cbiAgICAvLyBcdTZERkJcdTUyQTBcdTRGQTdcdThGQjlcdTY4MEZcdTU2RkVcdTY4MDdcbiAgICB0aGlzLmFkZFJpYmJvbkljb24oJ2JyYWluJywgJ09wZW5DbGF3XHU4QkIwXHU1RkM2XHU1NDBDXHU2QjY1JywgKCkgPT4ge1xuICAgICAgU3luY1N0YXR1c1ZpZXcub3Blbih0aGlzLmFwcCwgdGhpcy5zeW5jRW5naW5lKTtcbiAgICB9KTtcblxuICAgIC8vIFx1NkRGQlx1NTJBMFx1NzJCNlx1NjAwMVx1NjgwRlx1OTg3OVx1NzZFRVxuICAgIGNvbnN0IHN0YXR1c0Jhckl0ZW0gPSB0aGlzLmFkZFN0YXR1c0Jhckl0ZW0oKTtcbiAgICBzdGF0dXNCYXJJdGVtLnNldFRleHQoJ1x1RDgzRFx1REQwNCBPcGVuQ2xhdycpO1xuXG4gICAgLy8gXHU3NkQxXHU1NDJDXHU1NDBDXHU2QjY1XHU3MkI2XHU2MDAxXHU1M0Q4XHU1MzE2XG4gICAgdGhpcy5zeW5jRW5naW5lLm9uU3RhdHVzQ2hhbmdlKChzdGF0dXM6IFN5bmNTdGF0dXMpID0+IHtcbiAgICAgIGNvbnN0IGljb25zID0ge1xuICAgICAgICBpZGxlOiAnXHUyNzA1JyxcbiAgICAgICAgc3luY2luZzogJ1x1RDgzRFx1REQwNCcsXG4gICAgICAgIGNvbmZsaWN0OiAnXHUyNkEwXHVGRTBGJyxcbiAgICAgICAgZXJyb3I6ICdcdTI3NEMnLFxuICAgICAgICBwYXVzZWQ6ICdcdTIzRjhcdUZFMEYnXG4gICAgICB9O1xuICAgICAgc3RhdHVzQmFySXRlbS5zZXRUZXh0KGAke2ljb25zW3N0YXR1cy5zdGF0ZV19IE9wZW5DbGF3YCk7XG5cbiAgICAgIGlmIChzdGF0dXMuc3RhdGUgPT09ICdlcnJvcicgJiYgc3RhdHVzLmVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHN0YXR1c0Jhckl0ZW0uc2V0QXR0cigndGl0bGUnLCBgXHU1NDBDXHU2QjY1XHU5NTE5XHU4QkVGOiAke3N0YXR1cy5lcnJvcnNbMF0ubWVzc2FnZX1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXR1c0Jhckl0ZW0uc2V0QXR0cigndGl0bGUnLCBgXHU1NDBDXHU2QjY1XHU3MkI2XHU2MDAxOiAke3N0YXR1cy5zdGF0ZX1gKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFx1OEZERVx1NjNBNUFQSVx1NjcwRFx1NTJBMVx1NTY2OFxuICAgIHRyeSB7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKCdcdTZCNjNcdTU3MjhcdThGREVcdTYzQTVPcGVuQ2xhdyBBUElcdTY3MERcdTUyQTFcdTU2NjguLi4nLCAnYXBpJyk7XG4gICAgICBhd2FpdCB0aGlzLmFwaUNsaWVudC5jb25uZWN0KCk7XG4gICAgICBuZXcgTm90aWNlKCdcdTI3MDUgT3BlbkNsYXcgQVBJXHU4RkRFXHU2M0E1XHU2MjEwXHU1MjlGJyk7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKCdPcGVuQ2xhdyBBUElcdThGREVcdTYzQTVcdTYyMTBcdTUyOUYnLCAnYXBpJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGVycm9yTXNnID0gYE9wZW5DbGF3IEFQSVx1OEZERVx1NjNBNVx1NTkzMVx1OEQyNTogJHtlcnJvci5tZXNzYWdlfWA7XG4gICAgICBuZXcgTm90aWNlKGBcdTI3NEMgJHtlcnJvck1zZ31gKTtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGVycm9yTXNnLCAnYXBpJywgZXJyb3IpO1xuICAgIH1cblxuICAgIC8vIFx1NTQyRlx1NTJBOFx1ODFFQVx1NTJBOFx1NTQwQ1x1NkI2NVxuICAgIGlmICh0aGlzLnNldHRpbmdzLmF1dG9TeW5jKSB7XG4gICAgICB0aGlzLnN0YXJ0QXV0b1N5bmMoKTtcbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFx1ODFFQVx1NTJBOFx1NTQwQ1x1NkI2NVx1NURGMlx1NTQyRlx1NTJBOFx1RkYwQ1x1OTVGNFx1OTY5NDogJHt0aGlzLnNldHRpbmdzLnN5bmNJbnRlcnZhbH1cdTc5RDJgLCAnc3luYycpO1xuICAgIH1cblxuICAgIC8vIFx1NTIxQlx1NUVGQVx1NzZFRVx1NjgwN1x1NjU4N1x1NEVGNlx1NTkzOVxuICAgIGF3YWl0IHRoaXMuZW5zdXJlVGFyZ2V0Rm9sZGVyKCk7XG5cbiAgICB0aGlzLmxvZ2dlci5pbmZvKCdPcGVuQ2xhdyBNZW1vcnkgU3luY1x1NjNEMlx1NEVGNlx1NTJBMFx1OEY3RFx1NUI4Q1x1NjIxMCcsICdwbHVnaW4nKTtcbiAgfVxuXG4gIGFzeW5jIG9udW5sb2FkKCkge1xuICAgIHRoaXMubG9nZ2VyLmluZm8oJ09wZW5DbGF3IE1lbW9yeSBTeW5jXHU2M0QyXHU0RUY2XHU1RjAwXHU1OUNCXHU1Mzc4XHU4RjdEJywgJ3BsdWdpbicpO1xuXG4gICAgLy8gXHU1MDVDXHU2QjYyXHU4MUVBXHU1MkE4XHU1NDBDXHU2QjY1XG4gICAgdGhpcy5zdG9wQXV0b1N5bmMoKTtcblxuICAgIC8vIFx1NjVBRFx1NUYwMEFQSVx1OEZERVx1NjNBNVxuICAgIGF3YWl0IHRoaXMuYXBpQ2xpZW50LmRpc2Nvbm5lY3QoKTtcblxuICAgIC8vIFx1NkUwNVx1NzQwNlx1OEQ0NFx1NkU5MFxuICAgIHRoaXMuc3luY0VuZ2luZS5jbGVhbnVwKCk7XG5cbiAgICB0aGlzLmxvZ2dlci5pbmZvKCdPcGVuQ2xhdyBNZW1vcnkgU3luY1x1NjNEMlx1NEVGNlx1NTM3OFx1OEY3RFx1NUI4Q1x1NjIxMCcsICdwbHVnaW4nKTtcbiAgfVxuXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcbiAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcbiAgfVxuXG4gIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICB9XG5cbiAgYXN5bmMgc3luY05vdygpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbygnXHU1RjAwXHU1OUNCXHU2MjRCXHU1MkE4XHU1NDBDXHU2QjY1T3BlbkNsYXdcdThCQjBcdTVGQzZcdTVFOTMnLCAnc3luYycpO1xuICAgICAgbmV3IE5vdGljZSgnXHVEODNEXHVERDA0IFx1NUYwMFx1NTlDQlx1NTQwQ1x1NkI2NU9wZW5DbGF3XHU4QkIwXHU1RkM2XHU1RTkzLi4uJyk7XG5cbiAgICAgIGF3YWl0IHRoaXMuc3luY0VuZ2luZS5zeW5jKCk7XG5cbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ09wZW5DbGF3XHU4QkIwXHU1RkM2XHU1RTkzXHU1NDBDXHU2QjY1XHU1QjhDXHU2MjEwJywgJ3N5bmMnKTtcbiAgICAgIG5ldyBOb3RpY2UoJ1x1MjcwNSBPcGVuQ2xhd1x1OEJCMFx1NUZDNlx1NUU5M1x1NTQwQ1x1NkI2NVx1NUI4Q1x1NjIxMCcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnJvck1zZyA9IGBcdTU0MENcdTZCNjVcdTU5MzFcdThEMjU6ICR7ZXJyb3IubWVzc2FnZX1gO1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3JNc2csICdzeW5jJywgZXJyb3IpO1xuICAgICAgbmV3IE5vdGljZShgXHUyNzRDICR7ZXJyb3JNc2d9YCk7XG4gICAgfVxuICB9XG5cbiAgc3RhcnRBdXRvU3luYygpIHtcbiAgICBpZiAodGhpcy5zeW5jSW50ZXJ2YWxJZCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnN5bmNJbnRlcnZhbElkKTtcbiAgICB9XG5cbiAgICB0aGlzLnN5bmNJbnRlcnZhbElkID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnN5bmNFbmdpbmUuZ2V0U3RhdHVzKCkuc3RhdGUgPT09ICdpZGxlJykge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnXHU4MUVBXHU1MkE4XHU1NDBDXHU2QjY1XHU4OUU2XHU1M0QxJywgJ3N5bmMnKTtcbiAgICAgICAgdGhpcy5zeW5jTm93KCk7XG4gICAgICB9XG4gICAgfSwgdGhpcy5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwgKiAxMDAwKTtcblxuICAgIHRoaXMubG9nZ2VyLmluZm8oYFx1ODFFQVx1NTJBOFx1NTQwQ1x1NkI2NVx1NURGMlx1NTQyRlx1NTJBOFx1RkYwQ1x1OTVGNFx1OTY5NDogJHt0aGlzLnNldHRpbmdzLnN5bmNJbnRlcnZhbH1cdTc5RDJgLCAnc3luYycpO1xuICB9XG5cbiAgc3RvcEF1dG9TeW5jKCkge1xuICAgIGlmICh0aGlzLnN5bmNJbnRlcnZhbElkKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuc3luY0ludGVydmFsSWQpO1xuICAgICAgdGhpcy5zeW5jSW50ZXJ2YWxJZCA9IDA7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKCdcdTgxRUFcdTUyQThcdTU0MENcdTZCNjVcdTVERjJcdTUwNUNcdTZCNjInLCAnc3luYycpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGVuc3VyZVRhcmdldEZvbGRlcigpIHtcbiAgICBjb25zdCB7IHZhdWx0IH0gPSB0aGlzLmFwcDtcbiAgICBjb25zdCBmb2xkZXJQYXRoID0gdGhpcy5zZXR0aW5ncy50YXJnZXRGb2xkZXI7XG5cbiAgICAvLyBcdTY4QzBcdTY3RTVcdTY1ODdcdTRFRjZcdTU5MzlcdTY2MkZcdTU0MjZcdTVCNThcdTU3MjhcbiAgICBjb25zdCBmb2xkZXIgPSB2YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZm9sZGVyUGF0aCk7XG5cbiAgICBpZiAoIWZvbGRlcikge1xuICAgICAgLy8gXHU1MjFCXHU1RUZBXHU2NTg3XHU0RUY2XHU1OTM5XG4gICAgICBhd2FpdCB2YXVsdC5jcmVhdGVGb2xkZXIoZm9sZGVyUGF0aCk7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKGBcdTUyMUJcdTVFRkFcdTc2RUVcdTY4MDdcdTY1ODdcdTRFRjZcdTU5Mzk6ICR7Zm9sZGVyUGF0aH1gLCAnZmlsZXN5c3RlbScpO1xuICAgIH0gZWxzZSBpZiAoIShmb2xkZXIgaW5zdGFuY2VvZiBURm9sZGVyKSkge1xuICAgICAgLy8gXHU1QjU4XHU1NzI4XHU1NDBDXHU1NDBEXHU2NTg3XHU0RUY2XHVGRjBDXHU0RTBEXHU2NjJGXHU2NTg3XHU0RUY2XHU1OTM5XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKGBcdThERUZcdTVGODQgJHtmb2xkZXJQYXRofSBcdTVERjJcdTVCNThcdTU3MjhcdTRGNDZcdTRFMERcdTY2MkZcdTY1ODdcdTRFRjZcdTU5MzlgLCAnZmlsZXN5c3RlbScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgXHU3NkVFXHU2ODA3XHU2NTg3XHU0RUY2XHU1OTM5XHU1REYyXHU1QjU4XHU1NzI4OiAke2ZvbGRlclBhdGh9YCwgJ2ZpbGVzeXN0ZW0nKTtcbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgT3BlbkNsYXdNZW1vcnlTeW5jU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICBwbHVnaW46IE9wZW5DbGF3TWVtb3J5U3luYztcblxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBPcGVuQ2xhd01lbW9yeVN5bmMpIHtcbiAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cblxuICBkaXNwbGF5KCk6IHZvaWQge1xuICAgIGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cbiAgICBjb250YWluZXJFbC5lbXB0eSgpO1xuXG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnT3BlbkNsYXdcdThCQjBcdTVGQzZcdTU0MENcdTZCNjVcdThCQkVcdTdGNkUnIH0pO1xuXG4gICAgLy8gQVBJXHU4QkJFXHU3RjZFXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnQVBJXHU2NzBEXHU1MkExXHU1NjY4XHU1NzMwXHU1NzQwJylcbiAgICAgIC5zZXREZXNjKCdPcGVuQ2xhdyBBUElcdTY3MERcdTUyQTFcdTU2NjhcdTc2ODRcdTU3MzBcdTU3NDAnKVxuICAgICAgLmFkZFRleHQodGV4dCA9PlxuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCdsb2NhbGhvc3QnKVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlVcmwpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaVVybCA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdBUElcdTdBRUZcdTUzRTMnKVxuICAgICAgLnNldERlc2MoJ09wZW5DbGF3IEFQSVx1NjcwRFx1NTJBMVx1NTY2OFx1NzY4NFx1N0FFRlx1NTNFMycpXG4gICAgICAuYWRkVGV4dCh0ZXh0ID0+XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJzg3NjUnKVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlQb3J0LnRvU3RyaW5nKCkpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaVBvcnQgPSBwYXJzZUludCh2YWx1ZSkgfHwgODc2NTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgLy8gXHU1NDBDXHU2QjY1XHU4QkJFXHU3RjZFXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnXHU4MUVBXHU1MkE4XHU1NDBDXHU2QjY1JylcbiAgICAgIC5zZXREZXNjKCdcdTU0MkZcdTc1MjhcdTgxRUFcdTUyQThcdTU0MENcdTZCNjUnKVxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT5cbiAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9TeW5jKS5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b1N5bmMgPSB2YWx1ZTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblxuICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc3RhcnRBdXRvU3luYygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zdG9wQXV0b1N5bmMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnXHU1NDBDXHU2QjY1XHU5NUY0XHU5Njk0XHVGRjA4XHU3OUQyXHVGRjA5JylcbiAgICAgIC5zZXREZXNjKCdcdTgxRUFcdTUyQThcdTU0MENcdTZCNjVcdTc2ODRcdTY1RjZcdTk1RjRcdTk1RjRcdTk2OTQnKVxuICAgICAgLmFkZFRleHQodGV4dCA9PlxuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCczMDAnKVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwudG9TdHJpbmcoKSlcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc3luY0ludGVydmFsID0gcGFyc2VJbnQodmFsdWUpIHx8IDMwMDtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b1N5bmMpIHtcbiAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc3RvcEF1dG9TeW5jKCk7XG4gICAgICAgICAgICAgIHRoaXMucGx1Z2luLnN0YXJ0QXV0b1N5bmMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ1x1NTFCMlx1N0E4MVx1ODlFM1x1NTFCM1x1N0I1Nlx1NzU2NScpXG4gICAgICAuc2V0RGVzYygnXHU1RjUzXHU2NTg3XHU0RUY2XHU1MUIyXHU3QTgxXHU2NUY2XHU3Njg0XHU4OUUzXHU1MUIzXHU3QjU2XHU3NTY1JylcbiAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PlxuICAgICAgICBkcm9wZG93blxuICAgICAgICAgIC5hZGRPcHRpb24oJ3RpbWVzdGFtcCcsICdcdTY1RjZcdTk1RjRcdTYyMzNcdTRGMThcdTUxNDhcdUZGMDhcdTY3MDBcdTY1QjBcdTc2ODRcdTgwRENcdTUxRkFcdUZGMDknKVxuICAgICAgICAgIC5hZGRPcHRpb24oJ2xvY2FsJywgJ1x1NjcyQ1x1NTczMFx1NEYxOFx1NTE0OCcpXG4gICAgICAgICAgLmFkZE9wdGlvbigncmVtb3RlJywgJ1x1OEZEQ1x1N0EwQlx1NEYxOFx1NTE0OCcpXG4gICAgICAgICAgLmFkZE9wdGlvbignYXNrJywgJ1x1OEJFMlx1OTVFRVx1NzUyOFx1NjIzNycpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbmZsaWN0U3RyYXRlZ3kpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogYW55KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb25mbGljdFN0cmF0ZWd5ID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIC8vIFx1NjU4N1x1NEVGNlx1NTkzOVx1OEJCRVx1N0Y2RVxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ1x1NzZFRVx1NjgwN1x1NjU4N1x1NEVGNlx1NTkzOScpXG4gICAgICAuc2V0RGVzYygnXHU4QkIwXHU1RkM2XHU2NTg3XHU0RUY2XHU0RkREXHU1QjU4XHU3Njg0XHU2NTg3XHU0RUY2XHU1OTM5XHU4REVGXHU1Rjg0JylcbiAgICAgIC5hZGRUZXh0KHRleHQgPT5cbiAgICAgICAgdGV4dFxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignT3BlbkNsYXdcdThCQjBcdTVGQzZcdTVFOTMnKVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy50YXJnZXRGb2xkZXIpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnRhcmdldEZvbGRlciA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5lbnN1cmVUYXJnZXRGb2xkZXIoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIC8vIFx1OUFEOFx1N0VBN1x1OEJCRVx1N0Y2RVxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ1x1NTQyRlx1NzUyOFdlYlNvY2tldCcpXG4gICAgICAuc2V0RGVzYygnXHU1NDJGXHU3NTI4XHU1QjlFXHU2NUY2XHU2NkY0XHU2NUIwXHU5MDFBXHU3N0U1JylcbiAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+XG4gICAgICAgIHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVXZWJTb2NrZXQpLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVXZWJTb2NrZXQgPSB2YWx1ZTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdcdTYzOTJcdTk2NjRcdTZBMjFcdTVGMEYnKVxuICAgICAgLnNldERlc2MoJ1x1NEUwRFx1NTQwQ1x1NkI2NVx1NzY4NFx1NjU4N1x1NEVGNlx1NkEyMVx1NUYwRlx1RkYwOFx1NkJDRlx1ODg0Q1x1NEUwMFx1NEUyQVx1RkYwOScpXG4gICAgICAuYWRkVGV4dEFyZWEodGV4dCA9PlxuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCcqLnRtcFxcbi4qXFxubm9kZV9tb2R1bGVzLycpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmV4Y2x1ZGVQYXR0ZXJucy5qb2luKCdcXG4nKSlcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhjbHVkZVBhdHRlcm5zID0gdmFsdWUuc3BsaXQoJ1xcbicpLmZpbHRlcihwID0+IHAudHJpbSgpKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnXHU2NUU1XHU1RkQ3XHU3RUE3XHU1MjJCJylcbiAgICAgIC5zZXREZXNjKCdcdTYzQTdcdTUyMzZcdTUzRjBcdTY1RTVcdTVGRDdcdTc2ODRcdThCRTZcdTdFQzZcdTdBMEJcdTVFQTYnKVxuICAgICAgLmFkZERyb3Bkb3duKGRyb3Bkb3duID0+XG4gICAgICAgIGRyb3Bkb3duXG4gICAgICAgICAgLmFkZE9wdGlvbignZGVidWcnLCAnXHU4QzAzXHU4QkQ1JylcbiAgICAgICAgICAuYWRkT3B0aW9uKCdpbmZvJywgJ1x1NEZFMVx1NjA2RicpXG4gICAgICAgICAgLmFkZE9wdGlvbignd2FybicsICdcdThCNjZcdTU0NEEnKVxuICAgICAgICAgIC5hZGRPcHRpb24oJ2Vycm9yJywgJ1x1OTUxOVx1OEJFRicpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmxvZ0xldmVsKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWU6IGFueSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubG9nTGV2ZWwgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgLy8gXHU2RDRCXHU4QkQ1XHU4RkRFXHU2M0E1XHU2MzA5XHU5NEFFXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnXHU2RDRCXHU4QkQ1XHU4RkRFXHU2M0E1JylcbiAgICAgIC5zZXREZXNjKCdcdTZENEJcdThCRDVcdTRFMEVPcGVuQ2xhdyBBUElcdTY3MERcdTUyQTFcdTU2NjhcdTc2ODRcdThGREVcdTYzQTUnKVxuICAgICAgLmFkZEJ1dHRvbihidXR0b24gPT5cbiAgICAgICAgYnV0dG9uLnNldEJ1dHRvblRleHQoJ1x1NkQ0Qlx1OEJENVx1OEZERVx1NjNBNScpLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hcGlDbGllbnQudGVzdENvbm5lY3Rpb24oKTtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoJ1x1MjcwNSBcdThGREVcdTYzQTVcdTZENEJcdThCRDVcdTYyMTBcdTUyOUYnKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbmV3IE5vdGljZShgXHUyNzRDIFx1OEZERVx1NjNBNVx1NkQ0Qlx1OEJENVx1NTkzMVx1OEQyNTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAvLyBcdTdBQ0JcdTUzNzNcdTU0MENcdTZCNjVcdTYzMDlcdTk0QUVcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdcdTdBQ0JcdTUzNzNcdTU0MENcdTZCNjUnKVxuICAgICAgLnNldERlc2MoJ1x1NjI0Qlx1NTJBOFx1ODlFNlx1NTNEMVx1NTQwQ1x1NkI2NScpXG4gICAgICAuYWRkQnV0dG9uKGJ1dHRvbiA9PlxuICAgICAgICBidXR0b24uc2V0QnV0dG9uVGV4dCgnXHU1RjAwXHU1OUNCXHU1NDBDXHU2QjY1Jykub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc3luY05vdygpO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcblxuZXhwb3J0IGludGVyZmFjZSBPcGVuQ2xhd01lbW9yeVN5bmNTZXR0aW5ncyB7XG5cdGFwaVVybDogc3RyaW5nO1xuXHRhcGlQb3J0OiBudW1iZXI7XG5cdHN5bmNJbnRlcnZhbDogbnVtYmVyO1xuXHRhdXRvU3luYzogYm9vbGVhbjtcblx0Y29uZmxpY3RTdHJhdGVneTogJ3RpbWVzdGFtcCcgfCAnbG9jYWwnIHwgJ3JlbW90ZScgfCAnYXNrJztcblx0ZXhjbHVkZVBhdHRlcm5zOiBzdHJpbmdbXTtcblx0ZW5hYmxlV2ViU29ja2V0OiBib29sZWFuO1xuXHRsb2dMZXZlbDogJ2RlYnVnJyB8ICdpbmZvJyB8ICd3YXJuJyB8ICdlcnJvcic7XG5cdHRhcmdldEZvbGRlcjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lbW9yeUZpbGUge1xuXHRuYW1lOiBzdHJpbmc7XG5cdHBhdGg6IHN0cmluZztcblx0c2l6ZTogbnVtYmVyO1xuXHRjcmVhdGVkOiBEYXRlO1xuXHRtb2RpZmllZDogRGF0ZTtcblx0bGluZXM6IG51bWJlciB8IFByb21pc2U8bnVtYmVyPjtcblx0cHJldmlldzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVDb250ZW50IHtcblx0ZmlsZW5hbWU6IHN0cmluZztcblx0Y29udGVudDogc3RyaW5nO1xuXHRzdGF0czoge1xuXHRcdHNpemU6IG51bWJlcjtcblx0XHRjcmVhdGVkOiBEYXRlO1xuXHRcdG1vZGlmaWVkOiBEYXRlO1xuXHR9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlYXJjaFJlc3VsdCB7XG5cdGZpbGVuYW1lOiBzdHJpbmc7XG5cdG1hdGNoZXM6IG51bWJlcjtcblx0cHJldmlldzogc3RyaW5nW107XG5cdGNvbnRlbnQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZW1vcnlTdGF0cyB7XG5cdHRvdGFsRmlsZXM6IG51bWJlcjtcblx0dG90YWxTaXplOiBudW1iZXI7XG5cdHRvdGFsTGluZXM6IG51bWJlcjtcblx0YXZlcmFnZVNpemU6IG51bWJlcjtcblx0YXZlcmFnZUxpbmVzOiBudW1iZXI7XG5cdGJ5TW9udGg6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XG5cdGJ5V2Vla2RheTogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcblx0bGFzdFVwZGF0ZWQ6IERhdGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2ViU29ja2V0TWVzc2FnZSB7XG5cdHR5cGU6IHN0cmluZztcblx0ZXZlbnQ/OiBzdHJpbmc7XG5cdGRhdGE/OiBhbnk7XG5cdHRpbWVzdGFtcDogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgT3BlbkNsYXdBUElDbGllbnQge1xuXHRwcml2YXRlIGJhc2VVcmw6IHN0cmluZztcblx0cHJpdmF0ZSB3c1VybDogc3RyaW5nO1xuXHRwcml2YXRlIHdzOiBXZWJTb2NrZXQgfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSByZWNvbm5lY3RBdHRlbXB0cyA9IDA7XG5cdHByaXZhdGUgbWF4UmVjb25uZWN0QXR0ZW1wdHMgPSA1O1xuXHRwcml2YXRlIHJlY29ubmVjdERlbGF5ID0gMTAwMDtcblx0cHJpdmF0ZSBtZXNzYWdlSGFuZGxlcnM6IE1hcDxzdHJpbmcsIEZ1bmN0aW9uW10+ID0gbmV3IE1hcCgpO1xuXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgc2V0dGluZ3M6IE9wZW5DbGF3TWVtb3J5U3luY1NldHRpbmdzKSB7XG5cdFx0dGhpcy5iYXNlVXJsID0gYGh0dHA6Ly8ke3NldHRpbmdzLmFwaVVybH06JHtzZXR0aW5ncy5hcGlQb3J0fWA7XG5cdFx0dGhpcy53c1VybCA9IGB3czovLyR7c2V0dGluZ3MuYXBpVXJsfTo4NzY2YDtcblx0fVxuXG5cdGFzeW5jIGNvbm5lY3QoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Ly8gXHU2RDRCXHU4QkQ1SFRUUFx1OEZERVx1NjNBNVxuXHRcdGF3YWl0IHRoaXMudGVzdENvbm5lY3Rpb24oKTtcblx0XHRcblx0XHQvLyBcdThGREVcdTYzQTVXZWJTb2NrZXRcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVXZWJTb2NrZXQpIHtcblx0XHRcdGF3YWl0IHRoaXMuY29ubmVjdFdlYlNvY2tldCgpO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGRpc2Nvbm5lY3QoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0aWYgKHRoaXMud3MpIHtcblx0XHRcdHRoaXMud3MuY2xvc2UoKTtcblx0XHRcdHRoaXMud3MgPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIHRlc3RDb25uZWN0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vaGVhbHRoYCk7XG5cdFx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c306ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHRcdGlmIChkYXRhLnN0YXR1cyAhPT0gJ29rJykge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0FQSVx1NjcwRFx1NTJBMVx1NTY2OFx1NzJCNlx1NjAwMVx1NUYwMlx1NUUzOCcpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRjb25zb2xlLmxvZygnT3BlbkNsYXcgQVBJXHU4RkRFXHU2M0E1XHU2RDRCXHU4QkQ1XHU2MjEwXHU1MjlGJyk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ09wZW5DbGF3IEFQSVx1OEZERVx1NjNBNVx1NkQ0Qlx1OEJENVx1NTkzMVx1OEQyNTonLCBlcnJvcik7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFx1OEZERVx1NjNBNVx1NkQ0Qlx1OEJENVx1NTkzMVx1OEQyNTogJHtlcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGdldE1lbW9yeUluZm8oKTogUHJvbWlzZTxhbnk+IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZmV0Y2hXaXRoUmV0cnkoYCR7dGhpcy5iYXNlVXJsfS9hcGkvbWVtb3J5L2luZm9gKTtcblx0XHRyZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXHR9XG5cblx0YXN5bmMgZ2V0RmlsZXMoKTogUHJvbWlzZTxNZW1vcnlGaWxlW10+IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZmV0Y2hXaXRoUmV0cnkoYCR7dGhpcy5iYXNlVXJsfS9hcGkvbWVtb3J5L2ZpbGVzYCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHRyZXR1cm4gZGF0YS5maWxlcy5tYXAoKGZpbGU6IGFueSkgPT4gKHtcblx0XHRcdC4uLmZpbGUsXG5cdFx0XHRjcmVhdGVkOiBuZXcgRGF0ZShmaWxlLmNyZWF0ZWQpLFxuXHRcdFx0bW9kaWZpZWQ6IG5ldyBEYXRlKGZpbGUubW9kaWZpZWQpXG5cdFx0fSkpO1xuXHR9XG5cblx0YXN5bmMgZ2V0RmlsZShmaWxlbmFtZTogc3RyaW5nKTogUHJvbWlzZTxGaWxlQ29udGVudD4ge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5mZXRjaFdpdGhSZXRyeShgJHt0aGlzLmJhc2VVcmx9L2FwaS9tZW1vcnkvZmlsZXMvJHtmaWxlbmFtZX1gKTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5kYXRhLFxuXHRcdFx0c3RhdHM6IHtcblx0XHRcdFx0Li4uZGF0YS5zdGF0cyxcblx0XHRcdFx0Y3JlYXRlZDogbmV3IERhdGUoZGF0YS5zdGF0cy5jcmVhdGVkKSxcblx0XHRcdFx0bW9kaWZpZWQ6IG5ldyBEYXRlKGRhdGEuc3RhdHMubW9kaWZpZWQpXG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXG5cdGFzeW5jIHNhdmVGaWxlKGZpbGVuYW1lOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9hcGkvbWVtb3J5L2ZpbGVzLyR7ZmlsZW5hbWV9YCwge1xuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdCdDb250ZW50LVR5cGUnOiAndGV4dC9wbGFpbidcblx0XHRcdH0sXG5cdFx0XHRib2R5OiBjb250ZW50XG5cdFx0fSk7XG5cdFx0XG5cdFx0aWYgKCFyZXNwb25zZS5vaykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBcdTRGRERcdTVCNThcdTY1ODdcdTRFRjZcdTU5MzFcdThEMjU6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBkZWxldGVGaWxlKGZpbGVuYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vYXBpL21lbW9yeS9maWxlcy8ke2ZpbGVuYW1lfWAsIHtcblx0XHRcdG1ldGhvZDogJ0RFTEVURSdcblx0XHR9KTtcblx0XHRcblx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFx1NTIyMFx1OTY2NFx1NjU4N1x1NEVGNlx1NTkzMVx1OEQyNTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIHNlYXJjaChxdWVyeTogc3RyaW5nKTogUHJvbWlzZTxTZWFyY2hSZXN1bHRbXT4ge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5mZXRjaFdpdGhSZXRyeShgJHt0aGlzLmJhc2VVcmx9L2FwaS9tZW1vcnkvc2VhcmNoP3E9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfWApO1xuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0cmV0dXJuIGRhdGEucmVzdWx0cztcblx0fVxuXG5cdGFzeW5jIGdldFN0YXRzKCk6IFByb21pc2U8TWVtb3J5U3RhdHM+IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZmV0Y2hXaXRoUmV0cnkoYCR7dGhpcy5iYXNlVXJsfS9hcGkvbWVtb3J5L3N0YXRzYCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uZGF0YSxcblx0XHRcdGxhc3RVcGRhdGVkOiBuZXcgRGF0ZShkYXRhLmxhc3RVcGRhdGVkKVxuXHRcdH07XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGZldGNoV2l0aFJldHJ5KHVybDogc3RyaW5nLCBvcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHt9LCByZXRyaWVzID0gMyk6IFByb21pc2U8UmVzcG9uc2U+IHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHJldHJpZXM7IGkrKykge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIG9wdGlvbnMpO1xuXHRcdFx0XHRpZiAocmVzcG9uc2Uub2spIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVzcG9uc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdGlmIChpIDwgcmV0cmllcyAtIDEpIHtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnNsZWVwKDEwMDAgKiAoaSArIDEpKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0aWYgKGkgPCByZXRyaWVzIC0gMSkge1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMuc2xlZXAoMTAwMCAqIChpICsgMSkpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRocm93IGVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdHRocm93IG5ldyBFcnJvcihgXHU4QkY3XHU2QzQyXHU1OTMxXHU4RDI1OiAke3VybH1gKTtcblx0fVxuXG5cdHByaXZhdGUgc2xlZXAobXM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcblx0fVxuXG5cdC8vIFdlYlNvY2tldFx1NzZGOFx1NTE3M1x1NjVCOVx1NkNENVxuXHRwcml2YXRlIGFzeW5jIGNvbm5lY3RXZWJTb2NrZXQoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHRoaXMud3NVcmwpO1xuXHRcdFx0XHRcblx0XHRcdFx0dGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ09wZW5DbGF3IFdlYlNvY2tldFx1OEZERVx1NjNBNVx1NjIxMFx1NTI5RicpO1xuXHRcdFx0XHRcdHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPSAwO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIFx1NTNEMVx1OTAwMVx1OEJBMlx1OTYwNVx1NkQ4OFx1NjA2RlxuXHRcdFx0XHRcdHRoaXMud3M/LnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRcdFx0dHlwZTogJ3N1YnNjcmliZScsXG5cdFx0XHRcdFx0XHRjaGFubmVsczogWydmaWxlX2NoYW5nZXMnXVxuXHRcdFx0XHRcdH0pKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRyZXNvbHZlKCk7XG5cdFx0XHRcdH07XG5cdFx0XHRcdFxuXHRcdFx0XHR0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRjb25zdCBtZXNzYWdlOiBXZWJTb2NrZXRNZXNzYWdlID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcblx0XHRcdFx0XHRcdHRoaXMuaGFuZGxlV2ViU29ja2V0TWVzc2FnZShtZXNzYWdlKTtcblx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcignV2ViU29ja2V0XHU2RDg4XHU2MDZGXHU4OUUzXHU2NzkwXHU1OTMxXHU4RDI1OicsIGVycm9yKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHRcdFxuXHRcdFx0XHR0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ09wZW5DbGF3IFdlYlNvY2tldFx1OEZERVx1NjNBNVx1NTE3M1x1OTVFRCcpO1xuXHRcdFx0XHRcdHRoaXMud3MgPSBudWxsO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIFx1NUMxRFx1OEJENVx1OTFDRFx1OEZERVxuXHRcdFx0XHRcdGlmICh0aGlzLnJlY29ubmVjdEF0dGVtcHRzIDwgdGhpcy5tYXhSZWNvbm5lY3RBdHRlbXB0cykge1xuXHRcdFx0XHRcdFx0dGhpcy5yZWNvbm5lY3RBdHRlbXB0cysrO1xuXHRcdFx0XHRcdFx0Y29uc3QgZGVsYXkgPSB0aGlzLnJlY29ubmVjdERlbGF5ICogTWF0aC5wb3coMiwgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cyAtIDEpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgV2ViU29ja2V0XHU1QzA2XHU1NzI4ICR7ZGVsYXl9bXMgXHU1NDBFXHU5MUNEXHU4RkRFIChcdTVDMURcdThCRDUgJHt0aGlzLnJlY29ubmVjdEF0dGVtcHRzfS8ke3RoaXMubWF4UmVjb25uZWN0QXR0ZW1wdHN9KWApO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdFx0dGhpcy5jb25uZWN0V2ViU29ja2V0KCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG5cdFx0XHRcdFx0XHR9LCBkZWxheSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRcblx0XHRcdFx0dGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcignT3BlbkNsYXcgV2ViU29ja2V0XHU5NTE5XHU4QkVGOicsIGVycm9yKTtcblx0XHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0XHR9O1xuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHByaXZhdGUgaGFuZGxlV2ViU29ja2V0TWVzc2FnZShtZXNzYWdlOiBXZWJTb2NrZXRNZXNzYWdlKTogdm9pZCB7XG5cdFx0c3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcblx0XHRcdGNhc2UgJ3dlbGNvbWUnOlxuXHRcdFx0XHRjb25zb2xlLmxvZygnV2ViU29ja2V0XHU2QjIyXHU4RkNFXHU2RDg4XHU2MDZGOicsIG1lc3NhZ2UuZGF0YT8ubWVzc2FnZSB8fCAnQ29ubmVjdGVkJyk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcblx0XHRcdGNhc2UgJ25vdGlmaWNhdGlvbic6XG5cdFx0XHRcdHRoaXMuZW1pdChtZXNzYWdlLmV2ZW50IHx8ICd1bmtub3duJywgbWVzc2FnZS5kYXRhKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFxuXHRcdFx0Y2FzZSAncG9uZyc6XG5cdFx0XHRcdC8vIFx1NUZDM1x1OERGM1x1NTRDRFx1NUU5NFx1RkYwQ1x1NEUwRFx1NTA1QVx1NTkwNFx1NzQwNlxuXHRcdFx0XHRicmVhaztcblx0XHRcdFx0XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRjb25zb2xlLmxvZygnXHU2NzJBXHU3N0U1XHU3Njg0V2ViU29ja2V0XHU2RDg4XHU2MDZGXHU3QzdCXHU1NzhCOicsIG1lc3NhZ2UudHlwZSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gXHU0RThCXHU0RUY2XHU3Q0ZCXHU3RURGXG5cdG9uKGV2ZW50OiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uKTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLm1lc3NhZ2VIYW5kbGVycy5oYXMoZXZlbnQpKSB7XG5cdFx0XHR0aGlzLm1lc3NhZ2VIYW5kbGVycy5zZXQoZXZlbnQsIFtdKTtcblx0XHR9XG5cdFx0dGhpcy5tZXNzYWdlSGFuZGxlcnMuZ2V0KGV2ZW50KT8ucHVzaChoYW5kbGVyKTtcblx0fVxuXG5cdG9mZihldmVudDogc3RyaW5nLCBoYW5kbGVyOiBGdW5jdGlvbik6IHZvaWQge1xuXHRcdGNvbnN0IGhhbmRsZXJzID0gdGhpcy5tZXNzYWdlSGFuZGxlcnMuZ2V0KGV2ZW50KTtcblx0XHRpZiAoaGFuZGxlcnMpIHtcblx0XHRcdGNvbnN0IGluZGV4ID0gaGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcblx0XHRcdGlmIChpbmRleCA+IC0xKSB7XG5cdFx0XHRcdGhhbmRsZXJzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBlbWl0KGV2ZW50OiBzdHJpbmcsIGRhdGE6IGFueSk6IHZvaWQge1xuXHRcdGNvbnN0IGhhbmRsZXJzID0gdGhpcy5tZXNzYWdlSGFuZGxlcnMuZ2V0KGV2ZW50KTtcblx0XHRpZiAoaGFuZGxlcnMpIHtcblx0XHRcdGhhbmRsZXJzLmZvckVhY2goaGFuZGxlciA9PiB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0aGFuZGxlcihkYXRhKTtcblx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGBcdTRFOEJcdTRFRjZcdTU5MDRcdTc0MDZcdTU2NjhcdTk1MTlcdThCRUYgKCR7ZXZlbnR9KTpgLCBlcnJvcik7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8vIFx1NURFNVx1NTE3N1x1NjVCOVx1NkNENVxuXHRpc0Nvbm5lY3RlZCgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy53cyAhPT0gbnVsbCAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOO1xuXHR9XG5cblx0Z2V0Q29ubmVjdGlvblN0YXR1cygpOiBzdHJpbmcge1xuXHRcdGlmICghdGhpcy53cykge1xuXHRcdFx0cmV0dXJuICdkaXNjb25uZWN0ZWQnO1xuXHRcdH1cblx0XHRcblx0XHRzd2l0Y2ggKHRoaXMud3MucmVhZHlTdGF0ZSkge1xuXHRcdFx0Y2FzZSBXZWJTb2NrZXQuQ09OTkVDVElORzpcblx0XHRcdFx0cmV0dXJuICdjb25uZWN0aW5nJztcblx0XHRcdGNhc2UgV2ViU29ja2V0Lk9QRU46XG5cdFx0XHRcdHJldHVybiAnY29ubmVjdGVkJztcblx0XHRcdGNhc2UgV2ViU29ja2V0LkNMT1NJTkc6XG5cdFx0XHRcdHJldHVybiAnY2xvc2luZyc7XG5cdFx0XHRjYXNlIFdlYlNvY2tldC5DTE9TRUQ6XG5cdFx0XHRcdHJldHVybiAnY2xvc2VkJztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiAndW5rbm93bic7XG5cdFx0fVxuXHR9XG59IiwgImltcG9ydCB7IEFwcCwgVEZpbGUsIFRGb2xkZXIsIG5vcm1hbGl6ZVBhdGggfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBPcGVuQ2xhd0FQSUNsaWVudCwgTWVtb3J5RmlsZSB9IGZyb20gJy4vYXBpLWNsaWVudCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3BlbkNsYXdNZW1vcnlTeW5jU2V0dGluZ3Mge1xuICBhcGlVcmw6IHN0cmluZztcbiAgYXBpUG9ydDogbnVtYmVyO1xuICBzeW5jSW50ZXJ2YWw6IG51bWJlcjtcbiAgYXV0b1N5bmM6IGJvb2xlYW47XG4gIGNvbmZsaWN0U3RyYXRlZ3k6ICd0aW1lc3RhbXAnIHwgJ2xvY2FsJyB8ICdyZW1vdGUnIHwgJ2Fzayc7XG4gIGV4Y2x1ZGVQYXR0ZXJuczogc3RyaW5nW107XG4gIGVuYWJsZVdlYlNvY2tldDogYm9vbGVhbjtcbiAgbG9nTGV2ZWw6ICdkZWJ1ZycgfCAnaW5mbycgfCAnd2FybicgfCAnZXJyb3InO1xuICB0YXJnZXRGb2xkZXI6IHN0cmluZztcbn1cblxuZXhwb3J0IGVudW0gU3luY1N0YXRlIHtcbiAgSURMRSA9ICdpZGxlJyxcbiAgU1lOQ0lORyA9ICdzeW5jaW5nJyxcbiAgQ09ORkxJQ1QgPSAnY29uZmxpY3QnLFxuICBFUlJPUiA9ICdlcnJvcicsXG4gIFBBVVNFRCA9ICdwYXVzZWQnXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3luY0Vycm9yIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBmaWxlPzogc3RyaW5nO1xuICB0aW1lc3RhbXA6IERhdGU7XG4gIHJldHJ5YWJsZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTeW5jU3RhdHVzIHtcbiAgc3RhdGU6IFN5bmNTdGF0ZTtcbiAgcHJvZ3Jlc3M6IG51bWJlcjtcbiAgY3VycmVudEZpbGU6IHN0cmluZztcbiAgZmlsZXNTeW5jZWQ6IG51bWJlcjtcbiAgdG90YWxGaWxlczogbnVtYmVyO1xuICBsYXN0U3luYzogRGF0ZSB8IG51bGw7XG4gIGVycm9yczogU3luY0Vycm9yW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZURpZmYge1xuICBhZGRlZDogc3RyaW5nW107XG4gIG1vZGlmaWVkOiBzdHJpbmdbXTtcbiAgZGVsZXRlZDogc3RyaW5nW107XG4gIGNvbmZsaWN0czogc3RyaW5nW107XG59XG5cbmV4cG9ydCBjbGFzcyBTeW5jRW5naW5lIHtcbiAgcHJpdmF0ZSBzdGF0dXM6IFN5bmNTdGF0dXMgPSB7XG4gICAgc3RhdGU6IFN5bmNTdGF0ZS5JRExFLFxuICAgIHByb2dyZXNzOiAwLFxuICAgIGN1cnJlbnRGaWxlOiAnJyxcbiAgICBmaWxlc1N5bmNlZDogMCxcbiAgICB0b3RhbEZpbGVzOiAwLFxuICAgIGxhc3RTeW5jOiBudWxsLFxuICAgIGVycm9yczogW11cbiAgfTtcblxuICBwcml2YXRlIHN0YXR1c0NoYW5nZUhhbmRsZXJzOiAoKHN0YXR1czogU3luY1N0YXR1cykgPT4gdm9pZClbXSA9IFtdO1xuICBwcml2YXRlIGlzUGF1c2VkID0gZmFsc2U7XG4gIHByaXZhdGUgc3luY1F1ZXVlOiBzdHJpbmdbXSA9IFtdO1xuICBwcml2YXRlIGZpbGVDYWNoZTogTWFwPHN0cmluZywgeyBjb250ZW50OiBzdHJpbmc7IG1vZGlmaWVkOiBEYXRlIH0+ID0gbmV3IE1hcCgpO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgYXBwOiBBcHAsXG4gICAgcHJpdmF0ZSBhcGlDbGllbnQ6IE9wZW5DbGF3QVBJQ2xpZW50LFxuICAgIHByaXZhdGUgc2V0dGluZ3M6IE9wZW5DbGF3TWVtb3J5U3luY1NldHRpbmdzXG4gICkge1xuICAgIC8vIFx1NzZEMVx1NTQyQ1dlYlNvY2tldFx1NEU4Qlx1NEVGNlxuICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZVdlYlNvY2tldCkge1xuICAgICAgdGhpcy5hcGlDbGllbnQub24oJ2ZpbGVfY2hhbmdlZCcsIChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgdGhpcy5oYW5kbGVSZW1vdGVDaGFuZ2UoZGF0YSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBzeW5jKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLnN0YXR1cy5zdGF0ZSA9PT0gU3luY1N0YXRlLlNZTkNJTkcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXHU1NDBDXHU2QjY1XHU2QjYzXHU1NzI4XHU4RkRCXHU4ODRDXHU0RTJEJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNQYXVzZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXHU1NDBDXHU2QjY1XHU1REYyXHU2NjgyXHU1MDVDJyk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMudXBkYXRlU3RhdHVzKHtcbiAgICAgICAgc3RhdGU6IFN5bmNTdGF0ZS5TWU5DSU5HLFxuICAgICAgICBwcm9ncmVzczogMCxcbiAgICAgICAgY3VycmVudEZpbGU6ICdcdTZCNjNcdTU3MjhcdTUxQzZcdTU5MDdcdTU0MENcdTZCNjUuLi4nLFxuICAgICAgICBmaWxlc1N5bmNlZDogMCxcbiAgICAgICAgdG90YWxGaWxlczogMCxcbiAgICAgICAgZXJyb3JzOiBbXVxuICAgICAgfSk7XG5cbiAgICAgIC8vIDEuIFx1ODNCN1x1NTNENlx1OEZEQ1x1N0EwQlx1NjU4N1x1NEVGNlx1NTIxN1x1ODg2OFxuICAgICAgY29uc3QgcmVtb3RlRmlsZXMgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5nZXRGaWxlcygpO1xuXG4gICAgICAvLyAyLiBcdTgzQjdcdTUzRDZcdTY3MkNcdTU3MzBcdTY1ODdcdTRFRjZcdTUyMTdcdTg4NjhcbiAgICAgIGNvbnN0IGxvY2FsRmlsZXMgPSBhd2FpdCB0aGlzLmdldExvY2FsRmlsZXMoKTtcblxuICAgICAgLy8gMy4gXHU4QkExXHU3Qjk3XHU1REVFXHU1RjAyXG4gICAgICBjb25zdCBkaWZmID0gdGhpcy5jYWxjdWxhdGVEaWZmKHJlbW90ZUZpbGVzLCBsb2NhbEZpbGVzKTtcblxuICAgICAgLy8gNC4gXHU1RTk0XHU3NTI4XHU1REVFXHU1RjAyXG4gICAgICBhd2FpdCB0aGlzLmFwcGx5RGlmZihkaWZmKTtcblxuICAgICAgLy8gNS4gXHU2NkY0XHU2NUIwXHU3MkI2XHU2MDAxXG4gICAgICB0aGlzLnVwZGF0ZVN0YXR1cyh7XG4gICAgICAgIHN0YXRlOiBTeW5jU3RhdGUuSURMRSxcbiAgICAgICAgcHJvZ3Jlc3M6IDEwMCxcbiAgICAgICAgY3VycmVudEZpbGU6ICcnLFxuICAgICAgICBmaWxlc1N5bmNlZDogZGlmZi5hZGRlZC5sZW5ndGggKyBkaWZmLm1vZGlmaWVkLmxlbmd0aCArIGRpZmYuZGVsZXRlZC5sZW5ndGgsXG4gICAgICAgIHRvdGFsRmlsZXM6IHJlbW90ZUZpbGVzLmxlbmd0aCArIGxvY2FsRmlsZXMubGVuZ3RoLFxuICAgICAgICBsYXN0U3luYzogbmV3IERhdGUoKSxcbiAgICAgICAgZXJyb3JzOiBbXVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMudXBkYXRlU3RhdHVzKHtcbiAgICAgICAgc3RhdGU6IFN5bmNTdGF0ZS5FUlJPUixcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIHJldHJ5YWJsZTogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfSk7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRMb2NhbEZpbGVzKCk6IFByb21pc2U8TWVtb3J5RmlsZVtdPiB7XG4gICAgY29uc3QgdGFyZ2V0Rm9sZGVyID0gdGhpcy5zZXR0aW5ncy50YXJnZXRGb2xkZXI7XG4gICAgY29uc3QgZm9sZGVyID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHRhcmdldEZvbGRlcik7XG5cbiAgICBpZiAoIWZvbGRlciB8fCAhKGZvbGRlciBpbnN0YW5jZW9mIFRGb2xkZXIpKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3QgZmlsZXM6IE1lbW9yeUZpbGVbXSA9IFtdO1xuXG4gICAgLy8gXHU5MDEyXHU1RjUyXHU5MDREXHU1Mzg2XHU2NTg3XHU0RUY2XHU1OTM5XG4gICAgY29uc3Qgd2Fsa0ZvbGRlciA9IChmb2xkZXI6IFRGb2xkZXIpID0+IHtcbiAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgZm9sZGVyLmNoaWxkcmVuKSB7XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRGaWxlICYmIGNoaWxkLmV4dGVuc2lvbiA9PT0gJ21kJykge1xuICAgICAgICAgIC8vIFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NTcyOFx1NjM5Mlx1OTY2NFx1NkEyMVx1NUYwRlx1NEUyRFxuICAgICAgICAgIGlmICh0aGlzLmlzRXhjbHVkZWQoY2hpbGQucGF0aCkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZpbGVzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogY2hpbGQubmFtZSxcbiAgICAgICAgICAgIHBhdGg6IGNoaWxkLnBhdGgsXG4gICAgICAgICAgICBzaXplOiBjaGlsZC5zdGF0LnNpemUsXG4gICAgICAgICAgICBjcmVhdGVkOiBuZXcgRGF0ZShjaGlsZC5zdGF0LmN0aW1lKSxcbiAgICAgICAgICAgIG1vZGlmaWVkOiBuZXcgRGF0ZShjaGlsZC5zdGF0Lm10aW1lKSxcbiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmFwcC52YXVsdFxuICAgICAgICAgICAgICAucmVhZChjaGlsZClcbiAgICAgICAgICAgICAgLnRoZW4oY29udGVudCA9PiBjb250ZW50LnNwbGl0KCdcXG4nKS5sZW5ndGgpXG4gICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiAwKSxcbiAgICAgICAgICAgIHByZXZpZXc6ICcnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hpbGQgaW5zdGFuY2VvZiBURm9sZGVyKSB7XG4gICAgICAgICAgd2Fsa0ZvbGRlcihjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2Fsa0ZvbGRlcihmb2xkZXIpO1xuXG4gICAgLy8gXHU3QjQ5XHU1Rjg1XHU2MjQwXHU2NzA5XHU4ODRDXHU2NTcwXHU4QkExXHU3Qjk3XHU1QjhDXHU2MjEwXG4gICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICBmaWxlLmxpbmVzID0gYXdhaXQgZmlsZS5saW5lcztcbiAgICB9XG5cbiAgICByZXR1cm4gZmlsZXM7XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZURpZmYocmVtb3RlRmlsZXM6IE1lbW9yeUZpbGVbXSwgbG9jYWxGaWxlczogTWVtb3J5RmlsZVtdKTogRmlsZURpZmYge1xuICAgIGNvbnN0IGRpZmY6IEZpbGVEaWZmID0ge1xuICAgICAgYWRkZWQ6IFtdLFxuICAgICAgbW9kaWZpZWQ6IFtdLFxuICAgICAgZGVsZXRlZDogW10sXG4gICAgICBjb25mbGljdHM6IFtdXG4gICAgfTtcblxuICAgIGNvbnN0IHJlbW90ZU1hcCA9IG5ldyBNYXAocmVtb3RlRmlsZXMubWFwKGYgPT4gW2YubmFtZSwgZl0pKTtcbiAgICBjb25zdCBsb2NhbE1hcCA9IG5ldyBNYXAobG9jYWxGaWxlcy5tYXAoZiA9PiBbZi5uYW1lLCBmXSkpO1xuXG4gICAgLy8gXHU2OEMwXHU2N0U1XHU4RkRDXHU3QTBCXHU2NzA5XHU0RjQ2XHU2NzJDXHU1NzMwXHU2Q0ExXHU2NzA5XHU3Njg0XHU2NTg3XHU0RUY2XHVGRjA4XHU5NzAwXHU4OTgxXHU2REZCXHU1MkEwXHVGRjA5XG4gICAgZm9yIChjb25zdCBbZmlsZW5hbWVdIG9mIHJlbW90ZU1hcCkge1xuICAgICAgaWYgKCFsb2NhbE1hcC5oYXMoZmlsZW5hbWUpKSB7XG4gICAgICAgIGRpZmYuYWRkZWQucHVzaChmaWxlbmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gXHU2OEMwXHU2N0U1XHU2NzJDXHU1NzMwXHU2NzA5XHU0RjQ2XHU4RkRDXHU3QTBCXHU2Q0ExXHU2NzA5XHU3Njg0XHU2NTg3XHU0RUY2XHVGRjA4XHU5NzAwXHU4OTgxXHU1MjIwXHU5NjY0XHU2MjE2XHU0RTBBXHU0RjIwXHVGRjA5XG4gICAgZm9yIChjb25zdCBbZmlsZW5hbWVdIG9mIGxvY2FsTWFwKSB7XG4gICAgICBpZiAoIXJlbW90ZU1hcC5oYXMoZmlsZW5hbWUpKSB7XG4gICAgICAgIC8vIFx1NjgzOVx1NjM2RVx1OEJCRVx1N0Y2RVx1NTFCM1x1NUI5QVx1NjYyRlx1NTIyMFx1OTY2NFx1OEZEOFx1NjYyRlx1NEUwQVx1NEYyMFxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5jb25mbGljdFN0cmF0ZWd5ID09PSAnbG9jYWwnKSB7XG4gICAgICAgICAgZGlmZi5hZGRlZC5wdXNoKGZpbGVuYW1lKTsgLy8gXHU1QjlFXHU5NjQ1XHU0RTBBXHU0RjIwXHU2NzJDXHU1NzMwXHU2NTg3XHU0RUY2XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGlmZi5kZWxldGVkLnB1c2goZmlsZW5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gXHU2OEMwXHU2N0U1XHU5MEZEXHU2NzA5XHU0RjQ2XHU0RkVFXHU2NTM5XHU2NUY2XHU5NUY0XHU0RTBEXHU1NDBDXHU3Njg0XHU2NTg3XHU0RUY2XG4gICAgZm9yIChjb25zdCBbZmlsZW5hbWUsIHJlbW90ZUZpbGVdIG9mIHJlbW90ZU1hcCkge1xuICAgICAgY29uc3QgbG9jYWxGaWxlID0gbG9jYWxNYXAuZ2V0KGZpbGVuYW1lKTtcbiAgICAgIGlmIChsb2NhbEZpbGUpIHtcbiAgICAgICAgY29uc3QgcmVtb3RlVGltZSA9IHJlbW90ZUZpbGUubW9kaWZpZWQuZ2V0VGltZSgpO1xuICAgICAgICBjb25zdCBsb2NhbFRpbWUgPSBsb2NhbEZpbGUubW9kaWZpZWQuZ2V0VGltZSgpO1xuXG4gICAgICAgIGlmIChNYXRoLmFicyhyZW1vdGVUaW1lIC0gbG9jYWxUaW1lKSA+IDEwMDApIHtcbiAgICAgICAgICAvLyAxXHU3OUQyXHU1QkI5XHU1REVFXG4gICAgICAgICAgZGlmZi5tb2RpZmllZC5wdXNoKGZpbGVuYW1lKTtcblxuICAgICAgICAgIC8vIFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NEUzQVx1NTFCMlx1N0E4MVx1RkYwOFx1NTNDQ1x1NjVCOVx1OTBGRFx1NEZFRVx1NjUzOVx1NEU4Nlx1RkYwOVxuICAgICAgICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMuZmlsZUNhY2hlLmdldChmaWxlbmFtZSk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY2FjaGVkICYmXG4gICAgICAgICAgICBNYXRoLmFicyhjYWNoZWQubW9kaWZpZWQuZ2V0VGltZSgpIC0gcmVtb3RlVGltZSkgPiAxMDAwICYmXG4gICAgICAgICAgICBNYXRoLmFicyhjYWNoZWQubW9kaWZpZWQuZ2V0VGltZSgpIC0gbG9jYWxUaW1lKSA+IDEwMDBcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGRpZmYuY29uZmxpY3RzLnB1c2goZmlsZW5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkaWZmO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBhcHBseURpZmYoZGlmZjogRmlsZURpZmYpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB0b3RhbE9wZXJhdGlvbnMgPSBkaWZmLmFkZGVkLmxlbmd0aCArIGRpZmYubW9kaWZpZWQubGVuZ3RoICsgZGlmZi5kZWxldGVkLmxlbmd0aDtcbiAgICBsZXQgY29tcGxldGVkT3BlcmF0aW9ucyA9IDA7XG5cbiAgICAvLyBcdTU5MDRcdTc0MDZcdTZERkJcdTUyQTBcdTc2ODRcdTY1ODdcdTRFRjZcbiAgICBmb3IgKGNvbnN0IGZpbGVuYW1lIG9mIGRpZmYuYWRkZWQpIHtcbiAgICAgIHRoaXMudXBkYXRlU3RhdHVzKHtcbiAgICAgICAgY3VycmVudEZpbGU6IGBcdTZCNjNcdTU3MjhcdTRFMEJcdThGN0Q6ICR7ZmlsZW5hbWV9YCxcbiAgICAgICAgcHJvZ3Jlc3M6IChjb21wbGV0ZWRPcGVyYXRpb25zIC8gdG90YWxPcGVyYXRpb25zKSAqIDEwMFxuICAgICAgfSk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGZpbGVDb250ZW50ID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuZ2V0RmlsZShmaWxlbmFtZSk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZUxvY2FsRmlsZShmaWxlbmFtZSwgZmlsZUNvbnRlbnQuY29udGVudCk7XG4gICAgICAgIGNvbXBsZXRlZE9wZXJhdGlvbnMrKztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRoaXMuYWRkRXJyb3IoYFx1NEUwQlx1OEY3RFx1NjU4N1x1NEVGNlx1NTkzMVx1OEQyNTogJHtmaWxlbmFtZX1gLCBlcnJvciwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gXHU1OTA0XHU3NDA2XHU0RkVFXHU2NTM5XHU3Njg0XHU2NTg3XHU0RUY2XG4gICAgZm9yIChjb25zdCBmaWxlbmFtZSBvZiBkaWZmLm1vZGlmaWVkKSB7XG4gICAgICB0aGlzLnVwZGF0ZVN0YXR1cyh7XG4gICAgICAgIGN1cnJlbnRGaWxlOiBgXHU2QjYzXHU1NzI4XHU1NDBDXHU2QjY1OiAke2ZpbGVuYW1lfWAsXG4gICAgICAgIHByb2dyZXNzOiAoY29tcGxldGVkT3BlcmF0aW9ucyAvIHRvdGFsT3BlcmF0aW9ucykgKiAxMDBcbiAgICAgIH0pO1xuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBcdTY4MzlcdTYzNkVcdTUxQjJcdTdBODFcdTg5RTNcdTUxQjNcdTdCNTZcdTc1NjVcdTU5MDRcdTc0MDZcbiAgICAgICAgaWYgKGRpZmYuY29uZmxpY3RzLmluY2x1ZGVzKGZpbGVuYW1lKSkge1xuICAgICAgICAgIGF3YWl0IHRoaXMucmVzb2x2ZUNvbmZsaWN0KGZpbGVuYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBcdTgzQjdcdTUzRDZcdTY3MDBcdTY1QjBcdTc2ODRcdTcyNDhcdTY3MkNcbiAgICAgICAgICBjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LmdldEZpbGUoZmlsZW5hbWUpO1xuICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZUxvY2FsRmlsZShmaWxlbmFtZSwgZmlsZUNvbnRlbnQuY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgY29tcGxldGVkT3BlcmF0aW9ucysrO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5hZGRFcnJvcihgXHU1NDBDXHU2QjY1XHU2NTg3XHU0RUY2XHU1OTMxXHU4RDI1OiAke2ZpbGVuYW1lfWAsIGVycm9yLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBcdTU5MDRcdTc0MDZcdTUyMjBcdTk2NjRcdTc2ODRcdTY1ODdcdTRFRjZcbiAgICBmb3IgKGNvbnN0IGZpbGVuYW1lIG9mIGRpZmYuZGVsZXRlZCkge1xuICAgICAgdGhpcy51cGRhdGVTdGF0dXMoe1xuICAgICAgICBjdXJyZW50RmlsZTogYFx1NkI2M1x1NTcyOFx1NTIyMFx1OTY2NDogJHtmaWxlbmFtZX1gLFxuICAgICAgICBwcm9ncmVzczogKGNvbXBsZXRlZE9wZXJhdGlvbnMgLyB0b3RhbE9wZXJhdGlvbnMpICogMTAwXG4gICAgICB9KTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5kZWxldGVMb2NhbEZpbGUoZmlsZW5hbWUpO1xuICAgICAgICBjb21wbGV0ZWRPcGVyYXRpb25zKys7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aGlzLmFkZEVycm9yKGBcdTUyMjBcdTk2NjRcdTY1ODdcdTRFRjZcdTU5MzFcdThEMjU6ICR7ZmlsZW5hbWV9YCwgZXJyb3IsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJlc29sdmVDb25mbGljdChmaWxlbmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgc3dpdGNoICh0aGlzLnNldHRpbmdzLmNvbmZsaWN0U3RyYXRlZ3kpIHtcbiAgICAgIGNhc2UgJ3RpbWVzdGFtcCc6XG4gICAgICAgIGF3YWl0IHRoaXMucmVzb2x2ZUJ5VGltZXN0YW1wKGZpbGVuYW1lKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdsb2NhbCc6XG4gICAgICAgIGF3YWl0IHRoaXMudXBsb2FkTG9jYWxGaWxlKGZpbGVuYW1lKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZW1vdGUnOlxuICAgICAgICBhd2FpdCB0aGlzLmRvd25sb2FkUmVtb3RlRmlsZShmaWxlbmFtZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYXNrJzpcbiAgICAgICAgLy8gXHU1NzI4XHU1QjlFXHU5NjQ1XHU1QjlFXHU3M0IwXHU0RTJEXHVGRjBDXHU4RkQ5XHU5MUNDXHU1RTk0XHU4QkU1XHU1RjM5XHU1MUZBXHU1QkY5XHU4QkREXHU2ODQ2XHU4QkE5XHU3NTI4XHU2MjM3XHU5MDA5XHU2MkU5XG4gICAgICAgIC8vIFx1NjY4Mlx1NjVGNlx1NEY3Rlx1NzUyOFx1NjVGNlx1OTVGNFx1NjIzM1x1N0I1Nlx1NzU2NVxuICAgICAgICBhd2FpdCB0aGlzLnJlc29sdmVCeVRpbWVzdGFtcChmaWxlbmFtZSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVzb2x2ZUJ5VGltZXN0YW1wKGZpbGVuYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVtb3RlRmlsZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LmdldEZpbGUoZmlsZW5hbWUpO1xuICAgICAgY29uc3QgbG9jYWxQYXRoID0gdGhpcy5nZXRMb2NhbFBhdGgoZmlsZW5hbWUpO1xuICAgICAgY29uc3QgbG9jYWxGaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGxvY2FsUGF0aCk7XG5cbiAgICAgIGlmIChsb2NhbEZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xuICAgICAgICBjb25zdCByZW1vdGVUaW1lID0gcmVtb3RlRmlsZS5zdGF0cy5tb2RpZmllZC5nZXRUaW1lKCk7XG4gICAgICAgIGNvbnN0IGxvY2FsVGltZSA9IGxvY2FsRmlsZS5zdGF0Lm10aW1lO1xuXG4gICAgICAgIGlmIChyZW1vdGVUaW1lID4gbG9jYWxUaW1lKSB7XG4gICAgICAgICAgLy8gXHU4RkRDXHU3QTBCXHU3MjQ4XHU2NzJDXHU2NkY0XHU2NUIwXHVGRjBDXHU0RTBCXHU4RjdEXHU4RkRDXHU3QTBCXHU3MjQ4XHU2NzJDXG4gICAgICAgICAgYXdhaXQgdGhpcy5zYXZlTG9jYWxGaWxlKGZpbGVuYW1lLCByZW1vdGVGaWxlLmNvbnRlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFx1NjcyQ1x1NTczMFx1NzI0OFx1NjcyQ1x1NjZGNFx1NjVCMFx1RkYwQ1x1NEUwQVx1NEYyMFx1NjcyQ1x1NTczMFx1NzI0OFx1NjcyQ1xuICAgICAgICAgIGNvbnN0IGxvY2FsQ29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQobG9jYWxGaWxlKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLmFwaUNsaWVudC5zYXZlRmlsZShmaWxlbmFtZSwgbG9jYWxDb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFx1NTFCMlx1N0E4MVx1ODlFM1x1NTFCM1x1NTkzMVx1OEQyNTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZG93bmxvYWRSZW1vdGVGaWxlKGZpbGVuYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LmdldEZpbGUoZmlsZW5hbWUpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZUxvY2FsRmlsZShmaWxlbmFtZSwgZmlsZUNvbnRlbnQuY29udGVudCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHVwbG9hZExvY2FsRmlsZShmaWxlbmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgbG9jYWxQYXRoID0gdGhpcy5nZXRMb2NhbFBhdGgoZmlsZW5hbWUpO1xuICAgIGNvbnN0IGxvY2FsRmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChsb2NhbFBhdGgpO1xuXG4gICAgaWYgKGxvY2FsRmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG4gICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChsb2NhbEZpbGUpO1xuICAgICAgYXdhaXQgdGhpcy5hcGlDbGllbnQuc2F2ZUZpbGUoZmlsZW5hbWUsIGNvbnRlbnQpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc2F2ZUxvY2FsRmlsZShmaWxlbmFtZTogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBmaWxlUGF0aCA9IHRoaXMuZ2V0TG9jYWxQYXRoKGZpbGVuYW1lKTtcbiAgICBjb25zdCBub3JtYWxpemVkUGF0aCA9IG5vcm1hbGl6ZVBhdGgoZmlsZVBhdGgpO1xuXG4gICAgLy8gXHU3ODZFXHU0RkREXHU3NkVFXHU1RjU1XHU1QjU4XHU1NzI4XG4gICAgY29uc3QgZGlyUGF0aCA9IG5vcm1hbGl6ZWRQYXRoLnNwbGl0KCcvJykuc2xpY2UoMCwgLTEpLmpvaW4oJy8nKTtcbiAgICBpZiAoZGlyUGF0aCkge1xuICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlRm9sZGVyKGRpclBhdGgpLmNhdGNoKCgpID0+IHtcbiAgICAgICAgLy8gXHU2NTg3XHU0RUY2XHU1OTM5XHU1M0VGXHU4MEZEXHU1REYyXHU1QjU4XHU1NzI4XHVGRjBDXHU1RkZEXHU3NTY1XHU5NTE5XHU4QkVGXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBleGlzdGluZ0ZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgobm9ybWFsaXplZFBhdGgpO1xuXG4gICAgaWYgKGV4aXN0aW5nRmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG4gICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkoZXhpc3RpbmdGaWxlLCBjb250ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKG5vcm1hbGl6ZWRQYXRoLCBjb250ZW50KTtcbiAgICB9XG5cbiAgICAvLyBcdTY2RjRcdTY1QjBcdTdGMTNcdTVCNThcbiAgICB0aGlzLmZpbGVDYWNoZS5zZXQoZmlsZW5hbWUsIHtcbiAgICAgIGNvbnRlbnQsXG4gICAgICBtb2RpZmllZDogbmV3IERhdGUoKVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBkZWxldGVMb2NhbEZpbGUoZmlsZW5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGZpbGVQYXRoID0gdGhpcy5nZXRMb2NhbFBhdGgoZmlsZW5hbWUpO1xuICAgIGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZVBhdGgpO1xuXG4gICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xuICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuZGVsZXRlKGZpbGUpO1xuICAgIH1cblxuICAgIC8vIFx1NEVDRVx1N0YxM1x1NUI1OFx1NEUyRFx1NzlGQlx1OTY2NFxuICAgIHRoaXMuZmlsZUNhY2hlLmRlbGV0ZShmaWxlbmFtZSk7XG4gIH1cblxuICBwcml2YXRlIGdldExvY2FsUGF0aChmaWxlbmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gbm9ybWFsaXplUGF0aChgJHt0aGlzLnNldHRpbmdzLnRhcmdldEZvbGRlcn0vJHtmaWxlbmFtZX1gKTtcbiAgfVxuXG4gIHByaXZhdGUgaXNFeGNsdWRlZChmaWxlUGF0aDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIHRoaXMuc2V0dGluZ3MuZXhjbHVkZVBhdHRlcm5zKSB7XG4gICAgICBpZiAocGF0dGVybi5zdGFydHNXaXRoKCcqLicpKSB7XG4gICAgICAgIC8vIFx1OTAxQVx1OTE0RFx1N0IyNlx1NjI2OVx1NUM1NVx1NTQwRFx1NTMzOVx1OTE0RFxuICAgICAgICBjb25zdCBleHQgPSBwYXR0ZXJuLnN1YnN0cmluZygxKTtcbiAgICAgICAgaWYgKGZpbGVQYXRoLmVuZHNXaXRoKGV4dCkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXR0ZXJuLnN0YXJ0c1dpdGgoJy4nKSkge1xuICAgICAgICAvLyBcdTk2OTBcdTg1Q0ZcdTY1ODdcdTRFRjZcdTUzMzlcdTkxNERcbiAgICAgICAgY29uc3QgcGFydHMgPSBmaWxlUGF0aC5zcGxpdCgnLycpO1xuICAgICAgICBpZiAocGFydHMuc29tZShwYXJ0ID0+IHBhcnQuc3RhcnRzV2l0aCgnLicpKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhdHRlcm4uZW5kc1dpdGgoJy8nKSkge1xuICAgICAgICAvLyBcdTc2RUVcdTVGNTVcdTUzMzlcdTkxNERcbiAgICAgICAgaWYgKGZpbGVQYXRoLmluY2x1ZGVzKHBhdHRlcm4pKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFx1N0NCRVx1Nzg2RVx1NTMzOVx1OTE0RFxuICAgICAgICBpZiAoZmlsZVBhdGggPT09IHBhdHRlcm4pIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGhhbmRsZVJlbW90ZUNoYW5nZShkYXRhOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5zdGF0dXMuc3RhdGUgIT09IFN5bmNTdGF0ZS5JRExFIHx8IHRoaXMuaXNQYXVzZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IGV2ZW50LCBmaWxlbmFtZSB9ID0gZGF0YTtcblxuICAgIHRyeSB7XG4gICAgICBzd2l0Y2ggKGV2ZW50KSB7XG4gICAgICAgIGNhc2UgJ2FkZGVkJzpcbiAgICAgICAgY2FzZSAnY2hhbmdlZCc6IHtcbiAgICAgICAgICBjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LmdldEZpbGUoZmlsZW5hbWUpO1xuICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZUxvY2FsRmlsZShmaWxlbmFtZSwgZmlsZUNvbnRlbnQuY29udGVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICdkZWxldGVkJzoge1xuICAgICAgICAgIGF3YWl0IHRoaXMuZGVsZXRlTG9jYWxGaWxlKGZpbGVuYW1lKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBcdTU5MDRcdTc0MDZcdThGRENcdTdBMEJcdTUzRDhcdTY2RjRcdTU5MzFcdThEMjUgKCR7ZXZlbnR9OiAke2ZpbGVuYW1lfSk6YCwgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFx1NzJCNlx1NjAwMVx1N0JBMVx1NzQwNlxuICBwcml2YXRlIHVwZGF0ZVN0YXR1cyh1cGRhdGVzOiBQYXJ0aWFsPFN5bmNTdGF0dXM+KTogdm9pZCB7XG4gICAgdGhpcy5zdGF0dXMgPSB7IC4uLnRoaXMuc3RhdHVzLCAuLi51cGRhdGVzIH07XG4gICAgdGhpcy5ub3RpZnlTdGF0dXNDaGFuZ2UoKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkRXJyb3IobWVzc2FnZTogc3RyaW5nLCBlcnJvcjogYW55LCByZXRyeWFibGU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLnN0YXR1cy5lcnJvcnMucHVzaCh7XG4gICAgICBtZXNzYWdlOiBgJHttZXNzYWdlfTogJHtlcnJvci5tZXNzYWdlfWAsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICByZXRyeWFibGVcbiAgICB9KTtcbiAgICB0aGlzLm5vdGlmeVN0YXR1c0NoYW5nZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBub3RpZnlTdGF0dXNDaGFuZ2UoKTogdm9pZCB7XG4gICAgdGhpcy5zdGF0dXNDaGFuZ2VIYW5kbGVycy5mb3JFYWNoKGhhbmRsZXIgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaGFuZGxlcih7IC4uLnRoaXMuc3RhdHVzIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignXHU3MkI2XHU2MDAxXHU1M0Q4XHU2NkY0XHU1OTA0XHU3NDA2XHU1NjY4XHU5NTE5XHU4QkVGOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIFx1NTE2Q1x1NTE3MVx1NjVCOVx1NkNENVxuICBnZXRTdGF0dXMoKTogU3luY1N0YXR1cyB7XG4gICAgcmV0dXJuIHsgLi4udGhpcy5zdGF0dXMgfTtcbiAgfVxuXG4gIG9uU3RhdHVzQ2hhbmdlKGhhbmRsZXI6IChzdGF0dXM6IFN5bmNTdGF0dXMpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXR1c0NoYW5nZUhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gIH1cblxuICBvZmZTdGF0dXNDaGFuZ2UoaGFuZGxlcjogKHN0YXR1czogU3luY1N0YXR1cykgPT4gdm9pZCk6IHZvaWQge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5zdGF0dXNDaGFuZ2VIYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLnN0YXR1c0NoYW5nZUhhbmRsZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgcGF1c2UoKTogdm9pZCB7XG4gICAgdGhpcy5pc1BhdXNlZCA9IHRydWU7XG4gICAgaWYgKHRoaXMuc3RhdHVzLnN0YXRlID09PSBTeW5jU3RhdGUuU1lOQ0lORykge1xuICAgICAgdGhpcy51cGRhdGVTdGF0dXMoeyBzdGF0ZTogU3luY1N0YXRlLlBBVVNFRCB9KTtcbiAgICB9XG4gIH1cblxuICByZXN1bWUoKTogdm9pZCB7XG4gICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xuICAgIGlmICh0aGlzLnN0YXR1cy5zdGF0ZSA9PT0gU3luY1N0YXRlLlBBVVNFRCkge1xuICAgICAgdGhpcy51cGRhdGVTdGF0dXMoeyBzdGF0ZTogU3luY1N0YXRlLklETEUgfSk7XG4gICAgfVxuICB9XG5cbiAgaXNQYXVzZWRTdGF0ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pc1BhdXNlZDtcbiAgfVxuXG4gIGNsZWFudXAoKTogdm9pZCB7XG4gICAgdGhpcy5zdGF0dXNDaGFuZ2VIYW5kbGVycyA9IFtdO1xuICAgIHRoaXMuZmlsZUNhY2hlLmNsZWFyKCk7XG4gICAgdGhpcy5zeW5jUXVldWUgPSBbXTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFwcCwgSXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYsIFRGaWxlLCBURm9sZGVyLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBPcGVuQ2xhd0FQSUNsaWVudCwgTWVtb3J5RmlsZSB9IGZyb20gJy4uLy4uL2FwaS1jbGllbnQnO1xuXG5leHBvcnQgY29uc3QgTUVNT1JZX1ZJRVdfVFlQRSA9ICdvcGVuY2xhdy1tZW1vcnktdmlldyc7XG5cbmV4cG9ydCBjbGFzcyBNZW1vcnlWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xuXHRwcml2YXRlIGFwaUNsaWVudDogT3BlbkNsYXdBUElDbGllbnQ7XG5cdHByaXZhdGUgZmlsZXM6IE1lbW9yeUZpbGVbXSA9IFtdO1xuXHRwcml2YXRlIGZpbHRlcmVkRmlsZXM6IE1lbW9yeUZpbGVbXSA9IFtdO1xuXHRwcml2YXRlIHNlYXJjaFF1ZXJ5OiBzdHJpbmcgPSAnJztcblx0cHJpdmF0ZSBzb3J0Qnk6ICduYW1lJyB8ICdzaXplJyB8ICdtb2RpZmllZCcgfCAnY3JlYXRlZCcgPSAnbW9kaWZpZWQnO1xuXHRwcml2YXRlIHNvcnRPcmRlcjogJ2FzYycgfCAnZGVzYycgPSAnZGVzYyc7XG5cdHByaXZhdGUgaXNMb2FkaW5nOiBib29sZWFuID0gZmFsc2U7XG5cdHByaXZhdGUgbGFzdFJlZnJlc2g6IERhdGUgfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSBzdGF0dXNFbDogSFRNTEVsZW1lbnQ7XG5cblx0Y29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgYXBpQ2xpZW50OiBPcGVuQ2xhd0FQSUNsaWVudCkge1xuXHRcdHN1cGVyKGxlYWYpO1xuXHRcdHRoaXMuYXBpQ2xpZW50ID0gYXBpQ2xpZW50O1xuXHR9XG5cblx0Z2V0Vmlld1R5cGUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gTUVNT1JZX1ZJRVdfVFlQRTtcblx0fVxuXG5cdGdldERpc3BsYXlUZXh0KCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuICdPcGVuQ2xhd1x1OEJCMFx1NUZDNlx1NUU5Myc7XG5cdH1cblxuXHRnZXRJY29uKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuICdicmFpbic7XG5cdH1cblxuXHRhc3luYyBvbk9wZW4oKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXTtcblx0XHRjb250YWluZXIuZW1wdHkoKTtcblxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NEUzQlx1NUJCOVx1NTY2OFxuXHRcdGNvbnN0IG1haW5Db250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnb3BlbmNsYXctbWVtb3J5LXZpZXcnIH0pO1xuXG5cdFx0Ly8gXHU1MjFCXHU1RUZBXHU2ODA3XHU5ODk4XHU2ODBGXG5cdFx0Y29uc3QgaGVhZGVyID0gbWFpbkNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdvcGVuY2xhdy1tZW1vcnktaGVhZGVyJyB9KTtcblx0XHRoZWFkZXIuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnT3BlbkNsYXdcdThCQjBcdTVGQzZcdTVFOTMnIH0pO1xuXG5cdFx0Ly8gXHU1MjFCXHU1RUZBXHU2M0E3XHU1MjM2XHU2ODBGXG5cdFx0Y29uc3QgY29udHJvbHMgPSBtYWluQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ29wZW5jbGF3LW1lbW9yeS1jb250cm9scycgfSk7XG5cblx0XHQvLyBcdTY0MUNcdTdEMjJcdTY4NDZcblx0XHRjb25zdCBzZWFyY2hDb250YWluZXIgPSBjb250cm9scy5jcmVhdGVEaXYoeyBjbHM6ICdzZWFyY2gtY29udGFpbmVyJyB9KTtcblx0XHRjb25zdCBzZWFyY2hJbnB1dCA9IHNlYXJjaENvbnRhaW5lci5jcmVhdGVFbCgnaW5wdXQnLCB7XG5cdFx0XHR0eXBlOiAndGV4dCcsXG5cdFx0XHRwbGFjZWhvbGRlcjogJ1x1NjQxQ1x1N0QyMlx1OEJCMFx1NUZDNlx1NjU4N1x1NEVGNi4uLicsXG5cdFx0XHRjbHM6ICdzZWFyY2gtaW5wdXQnXG5cdFx0fSk7XG5cdFx0c2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4ge1xuXHRcdFx0dGhpcy5zZWFyY2hRdWVyeSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcblx0XHRcdHRoaXMuZmlsdGVyQW5kU29ydEZpbGVzKCk7XG5cdFx0XHR0aGlzLnJlbmRlckZpbGVMaXN0KCk7XG5cdFx0fSk7XG5cblx0XHQvLyBcdTYzOTJcdTVFOEZcdTkwMDlcdTk4Nzlcblx0XHRjb25zdCBzb3J0Q29udGFpbmVyID0gY29udHJvbHMuY3JlYXRlRGl2KHsgY2xzOiAnc29ydC1jb250YWluZXInIH0pO1xuXHRcdFxuXHRcdGNvbnN0IHNvcnRCeVNlbGVjdCA9IHNvcnRDb250YWluZXIuY3JlYXRlRWwoJ3NlbGVjdCcsIHsgY2xzOiAnc29ydC1zZWxlY3QnIH0pO1xuXHRcdHNvcnRCeVNlbGVjdC5jcmVhdGVFbCgnb3B0aW9uJywgeyB2YWx1ZTogJ25hbWUnLCB0ZXh0OiAnXHU2MzA5XHU1NDBEXHU3OUYwJyB9KTtcblx0XHRzb3J0QnlTZWxlY3QuY3JlYXRlRWwoJ29wdGlvbicsIHsgdmFsdWU6ICdzaXplJywgdGV4dDogJ1x1NjMwOVx1NTkyN1x1NUMwRicgfSk7XG5cdFx0c29ydEJ5U2VsZWN0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHZhbHVlOiAnbW9kaWZpZWQnLCB0ZXh0OiAnXHU2MzA5XHU0RkVFXHU2NTM5XHU2NUY2XHU5NUY0JyB9KTtcblx0XHRzb3J0QnlTZWxlY3QuY3JlYXRlRWwoJ29wdGlvbicsIHsgdmFsdWU6ICdjcmVhdGVkJywgdGV4dDogJ1x1NjMwOVx1NTIxQlx1NUVGQVx1NjVGNlx1OTVGNCcgfSk7XG5cdFx0c29ydEJ5U2VsZWN0LnZhbHVlID0gdGhpcy5zb3J0Qnk7XG5cdFx0c29ydEJ5U2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG5cdFx0XHR0aGlzLnNvcnRCeSA9IChlLnRhcmdldCBhcyBIVE1MU2VsZWN0RWxlbWVudCkudmFsdWUgYXMgYW55O1xuXHRcdFx0dGhpcy5maWx0ZXJBbmRTb3J0RmlsZXMoKTtcblx0XHRcdHRoaXMucmVuZGVyRmlsZUxpc3QoKTtcblx0XHR9KTtcblxuXHRcdGNvbnN0IHNvcnRPcmRlckJ1dHRvbiA9IHNvcnRDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHtcblx0XHRcdHRleHQ6IHRoaXMuc29ydE9yZGVyID09PSAnZGVzYycgPyAnXHUyMTkzJyA6ICdcdTIxOTEnLFxuXHRcdFx0Y2xzOiAnc29ydC1vcmRlci1idXR0b24nXG5cdFx0fSk7XG5cdFx0c29ydE9yZGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0dGhpcy5zb3J0T3JkZXIgPSB0aGlzLnNvcnRPcmRlciA9PT0gJ2Rlc2MnID8gJ2FzYycgOiAnZGVzYyc7XG5cdFx0XHRzb3J0T3JkZXJCdXR0b24uc2V0VGV4dCh0aGlzLnNvcnRPcmRlciA9PT0gJ2Rlc2MnID8gJ1x1MjE5MycgOiAnXHUyMTkxJyk7XG5cdFx0XHR0aGlzLmZpbHRlckFuZFNvcnRGaWxlcygpO1xuXHRcdFx0dGhpcy5yZW5kZXJGaWxlTGlzdCgpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gXHU1MjM3XHU2NUIwXHU2MzA5XHU5NEFFXG5cdFx0Y29uc3QgcmVmcmVzaEJ1dHRvbiA9IGNvbnRyb2xzLmNyZWF0ZUVsKCdidXR0b24nLCB7XG5cdFx0XHR0ZXh0OiAnXHU1MjM3XHU2NUIwJyxcblx0XHRcdGNsczogJ3JlZnJlc2gtYnV0dG9uJ1xuXHRcdH0pO1xuXHRcdHJlZnJlc2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHR0aGlzLnJlZnJlc2hGaWxlcygpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gXHU1MjFCXHU1RUZBXHU2NTg3XHU0RUY2XHU1MjE3XHU4ODY4XHU1QkI5XHU1NjY4XG5cdFx0Y29uc3QgZmlsZUxpc3RDb250YWluZXIgPSBtYWluQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2ZpbGUtbGlzdC1jb250YWluZXInIH0pO1xuXHRcdHRoaXMuY29udGVudEVsID0gZmlsZUxpc3RDb250YWluZXI7XG5cblx0XHQvLyBcdTUyMUJcdTVFRkFcdTcyQjZcdTYwMDFcdTY4MEZcblx0XHRjb25zdCBzdGF0dXNCYXIgPSBtYWluQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3N0YXR1cy1iYXInIH0pO1xuXHRcdHRoaXMuc3RhdHVzRWwgPSBzdGF0dXNCYXI7XG5cblx0XHQvLyBcdTUyQTBcdThGN0RcdTY1ODdcdTRFRjZcblx0XHRhd2FpdCB0aGlzLnJlZnJlc2hGaWxlcygpO1xuXHR9XG5cblx0YXN5bmMgb25DbG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHQvLyBcdTZFMDVcdTc0MDZcdThENDRcdTZFOTBcblx0fVxuXG5cdGFzeW5jIHJlZnJlc2hGaWxlcygpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0aGlzLmlzTG9hZGluZyA9IHRydWU7XG5cdFx0dGhpcy51cGRhdGVTdGF0dXMoJ1x1NkI2M1x1NTcyOFx1NTJBMFx1OEY3RFx1NjU4N1x1NEVGNi4uLicpO1xuXG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuZmlsZXMgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5nZXRGaWxlcygpO1xuXHRcdFx0dGhpcy5sYXN0UmVmcmVzaCA9IG5ldyBEYXRlKCk7XG5cdFx0XHR0aGlzLmZpbHRlckFuZFNvcnRGaWxlcygpO1xuXHRcdFx0dGhpcy5yZW5kZXJGaWxlTGlzdCgpO1xuXHRcdFx0dGhpcy51cGRhdGVTdGF0dXMoYFx1NURGMlx1NTJBMFx1OEY3RCAke3RoaXMuZmlsZXMubGVuZ3RofSBcdTRFMkFcdTY1ODdcdTRFRjZgKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy51cGRhdGVTdGF0dXMoYFx1NTJBMFx1OEY3RFx1NTkzMVx1OEQyNTogJHtlcnJvci5tZXNzYWdlfWAsICdlcnJvcicpO1xuXHRcdFx0Y29uc29sZS5lcnJvcignXHU1MkEwXHU4RjdEXHU2NTg3XHU0RUY2XHU1OTMxXHU4RDI1OicsIGVycm9yKTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0dGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGZpbHRlckFuZFNvcnRGaWxlcygpOiB2b2lkIHtcblx0XHQvLyBcdThGQzdcdTZFRTRcdTY1ODdcdTRFRjZcblx0XHRpZiAodGhpcy5zZWFyY2hRdWVyeS50cmltKCkpIHtcblx0XHRcdGNvbnN0IHF1ZXJ5ID0gdGhpcy5zZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0dGhpcy5maWx0ZXJlZEZpbGVzID0gdGhpcy5maWxlcy5maWx0ZXIoZmlsZSA9PiBcblx0XHRcdFx0ZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkpIHx8XG5cdFx0XHRcdGZpbGUucGF0aC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5KVxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5maWx0ZXJlZEZpbGVzID0gWy4uLnRoaXMuZmlsZXNdO1xuXHRcdH1cblxuXHRcdC8vIFx1NjM5Mlx1NUU4Rlx1NjU4N1x1NEVGNlxuXHRcdHRoaXMuZmlsdGVyZWRGaWxlcy5zb3J0KChhLCBiKSA9PiB7XG5cdFx0XHRsZXQgY29tcGFyaXNvbiA9IDA7XG5cdFx0XHRcblx0XHRcdHN3aXRjaCAodGhpcy5zb3J0QnkpIHtcblx0XHRcdFx0Y2FzZSAnbmFtZSc6XG5cdFx0XHRcdFx0Y29tcGFyaXNvbiA9IGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ3NpemUnOlxuXHRcdFx0XHRcdGNvbXBhcmlzb24gPSBhLnNpemUgLSBiLnNpemU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ21vZGlmaWVkJzpcblx0XHRcdFx0XHRjb21wYXJpc29uID0gYS5tb2RpZmllZC5nZXRUaW1lKCkgLSBiLm1vZGlmaWVkLmdldFRpbWUoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnY3JlYXRlZCc6XG5cdFx0XHRcdFx0Y29tcGFyaXNvbiA9IGEuY3JlYXRlZC5nZXRUaW1lKCkgLSBiLmNyZWF0ZWQuZ2V0VGltZSgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcy5zb3J0T3JkZXIgPT09ICdkZXNjJyA/IC1jb21wYXJpc29uIDogY29tcGFyaXNvbjtcblx0XHR9KTtcblx0fVxuXG5cdHByaXZhdGUgcmVuZGVyRmlsZUxpc3QoKTogdm9pZCB7XG5cdFx0dGhpcy5jb250ZW50RWwuZW1wdHkoKTtcblxuXHRcdGlmICh0aGlzLmZpbHRlcmVkRmlsZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRpZiAodGhpcy5zZWFyY2hRdWVyeS50cmltKCkpIHtcblx0XHRcdFx0dGhpcy5jb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7XG5cdFx0XHRcdFx0dGV4dDogYFx1NkNBMVx1NjcwOVx1NjI3RVx1NTIzMFx1NTMwNVx1NTQyQiBcIiR7dGhpcy5zZWFyY2hRdWVyeX1cIiBcdTc2ODRcdTY1ODdcdTRFRjZgLFxuXHRcdFx0XHRcdGNsczogJ25vLXJlc3VsdHMnXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5jb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7XG5cdFx0XHRcdFx0dGV4dDogJ1x1NkNBMVx1NjcwOVx1NjI3RVx1NTIzMFx1NjU4N1x1NEVGNicsXG5cdFx0XHRcdFx0Y2xzOiAnbm8tcmVzdWx0cydcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gXHU1MjFCXHU1RUZBXHU2NTg3XHU0RUY2XHU1MjE3XHU4ODY4XG5cdFx0Y29uc3QgZmlsZUxpc3QgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdmaWxlLWxpc3QnIH0pO1xuXG5cdFx0Zm9yIChjb25zdCBmaWxlIG9mIHRoaXMuZmlsdGVyZWRGaWxlcykge1xuXHRcdFx0Y29uc3QgZmlsZUl0ZW0gPSBmaWxlTGlzdC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdmaWxlLWl0ZW0nIH0pO1xuXHRcdFx0XG5cdFx0XHQvLyBcdTY1ODdcdTRFRjZcdTU2RkVcdTY4MDdcdTU0OENcdTU0MERcdTc5RjBcblx0XHRcdGNvbnN0IGZpbGVIZWFkZXIgPSBmaWxlSXRlbS5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdmaWxlLWhlYWRlcicgfSk7XG5cdFx0XHRmaWxlSGVhZGVyLmNyZWF0ZUVsKCdzcGFuJywgeyBcblx0XHRcdFx0dGV4dDogJ1x1RDgzRFx1RENDNCcsXG5cdFx0XHRcdGNsczogJ2ZpbGUtaWNvbidcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0XHRjb25zdCBmaWxlTmFtZSA9IGZpbGVIZWFkZXIuY3JlYXRlRWwoJ3NwYW4nLCB7XG5cdFx0XHRcdHRleHQ6IGZpbGUubmFtZSxcblx0XHRcdFx0Y2xzOiAnZmlsZS1uYW1lJ1xuXHRcdFx0fSk7XG5cdFx0XHRmaWxlTmFtZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0dGhpcy5vcGVuRmlsZShmaWxlKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBcdTY1ODdcdTRFRjZcdTRGRTFcdTYwNkZcblx0XHRcdGNvbnN0IGZpbGVJbmZvID0gZmlsZUl0ZW0uY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnZmlsZS1pbmZvJyB9KTtcblx0XHRcdFxuXHRcdFx0Ly8gXHU4REVGXHU1Rjg0XG5cdFx0XHRmaWxlSW5mby5jcmVhdGVFbCgnc3BhbicsIHtcblx0XHRcdFx0dGV4dDogZmlsZS5wYXRoLFxuXHRcdFx0XHRjbHM6ICdmaWxlLXBhdGgnXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gXHU1OTI3XHU1QzBGXG5cdFx0XHRmaWxlSW5mby5jcmVhdGVFbCgnc3BhbicsIHtcblx0XHRcdFx0dGV4dDogdGhpcy5mb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpLFxuXHRcdFx0XHRjbHM6ICdmaWxlLXNpemUnXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gXHU4ODRDXHU2NTcwXG5cdFx0XHRmaWxlSW5mby5jcmVhdGVFbCgnc3BhbicsIHtcblx0XHRcdFx0dGV4dDogYCR7ZmlsZS5saW5lc30gXHU4ODRDYCxcblx0XHRcdFx0Y2xzOiAnZmlsZS1saW5lcydcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBcdTRGRUVcdTY1MzlcdTY1RjZcdTk1RjRcblx0XHRcdGZpbGVJbmZvLmNyZWF0ZUVsKCdzcGFuJywge1xuXHRcdFx0XHR0ZXh0OiB0aGlzLmZvcm1hdERhdGUoZmlsZS5tb2RpZmllZCksXG5cdFx0XHRcdGNsczogJ2ZpbGUtbW9kaWZpZWQnXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gXHU2NENEXHU0RjVDXHU2MzA5XHU5NEFFXG5cdFx0XHRjb25zdCBhY3Rpb25zID0gZmlsZUl0ZW0uY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnZmlsZS1hY3Rpb25zJyB9KTtcblx0XHRcdFxuXHRcdFx0Ly8gXHU5ODg0XHU4OUM4XHU2MzA5XHU5NEFFXG5cdFx0XHRjb25zdCBwcmV2aWV3QnV0dG9uID0gYWN0aW9ucy5jcmVhdGVFbCgnYnV0dG9uJywge1xuXHRcdFx0XHR0ZXh0OiAnXHU5ODg0XHU4OUM4Jyxcblx0XHRcdFx0Y2xzOiAncHJldmlldy1idXR0b24nXG5cdFx0XHR9KTtcblx0XHRcdHByZXZpZXdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdHRoaXMucHJldmlld0ZpbGUoZmlsZSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gXHU0RTBCXHU4RjdEXHU2MzA5XHU5NEFFXG5cdFx0XHRjb25zdCBkb3dubG9hZEJ1dHRvbiA9IGFjdGlvbnMuY3JlYXRlRWwoJ2J1dHRvbicsIHtcblx0XHRcdFx0dGV4dDogJ1x1NEUwQlx1OEY3RCcsXG5cdFx0XHRcdGNsczogJ2Rvd25sb2FkLWJ1dHRvbidcblx0XHRcdH0pO1xuXHRcdFx0ZG93bmxvYWRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdHRoaXMuZG93bmxvYWRGaWxlKGZpbGUpO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIFx1NTIyMFx1OTY2NFx1NjMwOVx1OTRBRVxuXHRcdFx0Y29uc3QgZGVsZXRlQnV0dG9uID0gYWN0aW9ucy5jcmVhdGVFbCgnYnV0dG9uJywge1xuXHRcdFx0XHR0ZXh0OiAnXHU1MjIwXHU5NjY0Jyxcblx0XHRcdFx0Y2xzOiAnZGVsZXRlLWJ1dHRvbidcblx0XHRcdH0pO1xuXHRcdFx0ZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0XHR0aGlzLmRlbGV0ZUZpbGUoZmlsZSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIG9wZW5GaWxlKGZpbGU6IE1lbW9yeUZpbGUpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgZmlsZUNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5nZXRGaWxlKGZpbGUubmFtZSk7XG5cdFx0XHRcblx0XHRcdC8vIFx1NTcyOE9ic2lkaWFuXHU0RTJEXHU1MjFCXHU1RUZBXHU2NUIwXHU2ODA3XHU3QjdFXHU5ODc1XHU2MjUzXHU1RjAwXG5cdFx0XHRjb25zdCBsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYodHJ1ZSk7XG5cdFx0XHRhd2FpdCBsZWFmLm9wZW5GaWxlKFxuXHRcdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUoYCR7ZmlsZS5uYW1lfWAsIGZpbGVDb250ZW50LmNvbnRlbnQpXG5cdFx0XHQpO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRuZXcgTm90aWNlKGBcdTYyNTNcdTVGMDBcdTY1ODdcdTRFRjZcdTU5MzFcdThEMjU6ICR7ZXJyb3IubWVzc2FnZX1gKTtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ1x1NjI1M1x1NUYwMFx1NjU4N1x1NEVGNlx1NTkzMVx1OEQyNTonLCBlcnJvcik7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBwcmV2aWV3RmlsZShmaWxlOiBNZW1vcnlGaWxlKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGZpbGVDb250ZW50ID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuZ2V0RmlsZShmaWxlLm5hbWUpO1xuXHRcdFx0XG5cdFx0XHQvLyBcdTUyMUJcdTVFRkFcdTk4ODRcdTg5QzhcdTZBMjFcdTYwMDFcdTY4NDZcblx0XHRcdGNvbnN0IG1vZGFsID0gbmV3IFByZXZpZXdNb2RhbCh0aGlzLmFwcCwgZmlsZS5uYW1lLCBmaWxlQ29udGVudC5jb250ZW50KTtcblx0XHRcdG1vZGFsLm9wZW4oKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0bmV3IE5vdGljZShgXHU5ODg0XHU4OUM4XHU2NTg3XHU0RUY2XHU1OTMxXHU4RDI1OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdFx0XHRjb25zb2xlLmVycm9yKCdcdTk4ODRcdTg5QzhcdTY1ODdcdTRFRjZcdTU5MzFcdThEMjU6JywgZXJyb3IpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgZG93bmxvYWRGaWxlKGZpbGU6IE1lbW9yeUZpbGUpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgZmlsZUNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5nZXRGaWxlKGZpbGUubmFtZSk7XG5cdFx0XHRcblx0XHRcdC8vIFx1NTIxQlx1NUVGQVx1NEUwQlx1OEY3RFx1OTRGRVx1NjNBNVxuXHRcdFx0Y29uc3QgYmxvYiA9IG5ldyBCbG9iKFtmaWxlQ29udGVudC5jb250ZW50XSwgeyB0eXBlOiAndGV4dC9wbGFpbicgfSk7XG5cdFx0XHRjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXHRcdFx0Y29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblx0XHRcdGEuaHJlZiA9IHVybDtcblx0XHRcdGEuZG93bmxvYWQgPSBmaWxlLm5hbWU7XG5cdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuXHRcdFx0YS5jbGljaygpO1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcblx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcblx0XHRcdFxuXHRcdFx0bmV3IE5vdGljZShgXHU1REYyXHU0RTBCXHU4RjdEOiAke2ZpbGUubmFtZX1gKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0bmV3IE5vdGljZShgXHU0RTBCXHU4RjdEXHU2NTg3XHU0RUY2XHU1OTMxXHU4RDI1OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdFx0XHRjb25zb2xlLmVycm9yKCdcdTRFMEJcdThGN0RcdTY1ODdcdTRFRjZcdTU5MzFcdThEMjU6JywgZXJyb3IpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgZGVsZXRlRmlsZShmaWxlOiBNZW1vcnlGaWxlKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgY29uZmlybWVkID0gYXdhaXQgY29uZmlybShgXHU3ODZFXHU1QjlBXHU4OTgxXHU1MjIwXHU5NjY0IFwiJHtmaWxlLm5hbWV9XCIgXHU1NDE3XHVGRjFGYCk7XG5cdFx0aWYgKCFjb25maXJtZWQpIHJldHVybjtcblxuXHRcdHRyeSB7XG5cdFx0XHRhd2FpdCB0aGlzLmFwaUNsaWVudC5kZWxldGVGaWxlKGZpbGUubmFtZSk7XG5cdFx0XHRuZXcgTm90aWNlKGBcdTVERjJcdTUyMjBcdTk2NjQ6ICR7ZmlsZS5uYW1lfWApO1xuXHRcdFx0YXdhaXQgdGhpcy5yZWZyZXNoRmlsZXMoKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0bmV3IE5vdGljZShgXHU1MjIwXHU5NjY0XHU2NTg3XHU0RUY2XHU1OTMxXHU4RDI1OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdFx0XHRjb25zb2xlLmVycm9yKCdcdTUyMjBcdTk2NjRcdTY1ODdcdTRFRjZcdTU5MzFcdThEMjU6JywgZXJyb3IpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgdXBkYXRlU3RhdHVzKG1lc3NhZ2U6IHN0cmluZywgdHlwZTogJ2luZm8nIHwgJ2Vycm9yJyA9ICdpbmZvJyk6IHZvaWQge1xuXHRcdHRoaXMuc3RhdHVzRWwuZW1wdHkoKTtcblx0XHRjb25zdCBzdGF0dXNUZXh0ID0gdGhpcy5zdGF0dXNFbC5jcmVhdGVFbCgnc3BhbicsIHtcblx0XHRcdHRleHQ6IG1lc3NhZ2UsXG5cdFx0XHRjbHM6IGBzdGF0dXMtdGV4dCBzdGF0dXMtJHt0eXBlfWBcblx0XHR9KTtcblxuXHRcdGlmICh0aGlzLmxhc3RSZWZyZXNoKSB7XG5cdFx0XHR0aGlzLnN0YXR1c0VsLmNyZWF0ZUVsKCdzcGFuJywge1xuXHRcdFx0XHR0ZXh0OiBgIHwgXHU2NzAwXHU1NDBFXHU2NkY0XHU2NUIwOiAke3RoaXMuZm9ybWF0RGF0ZSh0aGlzLmxhc3RSZWZyZXNoKX1gLFxuXHRcdFx0XHRjbHM6ICdsYXN0LXJlZnJlc2gnXG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGZvcm1hdEZpbGVTaXplKGJ5dGVzOiBudW1iZXIpOiBzdHJpbmcge1xuXHRcdGlmIChieXRlcyA9PT0gMCkgcmV0dXJuICcwIEInO1xuXHRcdFxuXHRcdGNvbnN0IGsgPSAxMDI0O1xuXHRcdGNvbnN0IHNpemVzID0gWydCJywgJ0tCJywgJ01CJywgJ0dCJ107XG5cdFx0Y29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coaykpO1xuXHRcdFxuXHRcdHJldHVybiBwYXJzZUZsb2F0KChieXRlcyAvIE1hdGgucG93KGssIGkpKS50b0ZpeGVkKDIpKSArICcgJyArIHNpemVzW2ldO1xuXHR9XG5cblx0cHJpdmF0ZSBmb3JtYXREYXRlKGRhdGU6IERhdGUpOiBzdHJpbmcge1xuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3QgZGlmZk1zID0gbm93LmdldFRpbWUoKSAtIGRhdGUuZ2V0VGltZSgpO1xuXHRcdGNvbnN0IGRpZmZEYXlzID0gTWF0aC5mbG9vcihkaWZmTXMgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuXHRcdFxuXHRcdGlmIChkaWZmRGF5cyA9PT0gMCkge1xuXHRcdFx0Ly8gXHU0RUNBXHU1OTI5XG5cdFx0XHRyZXR1cm4gZGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoKTtcblx0XHR9IGVsc2UgaWYgKGRpZmZEYXlzID09PSAxKSB7XG5cdFx0XHQvLyBcdTY2MjhcdTU5Mjlcblx0XHRcdHJldHVybiAnXHU2NjI4XHU1OTI5ICcgKyBkYXRlLnRvTG9jYWxlVGltZVN0cmluZygpO1xuXHRcdH0gZWxzZSBpZiAoZGlmZkRheXMgPCA3KSB7XG5cdFx0XHQvLyBcdTRFMDBcdTU0NjhcdTUxODVcblx0XHRcdHJldHVybiBgJHtkaWZmRGF5c31cdTU5MjlcdTUyNERgO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBcdTY2RjRcdTY1RTlcblx0XHRcdHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuXHRcdH1cblx0fVxuXG5cdHN0YXRpYyBvcGVuKGFwcDogQXBwLCBhcGlDbGllbnQ6IE9wZW5DbGF3QVBJQ2xpZW50KTogdm9pZCB7XG5cdFx0Y29uc3QgbGVhZiA9IGFwcC53b3Jrc3BhY2UuZ2V0TGVhZih0cnVlKTtcblx0XHRsZWFmLnNldFZpZXdTdGF0ZSh7XG5cdFx0XHR0eXBlOiBNRU1PUllfVklFV19UWVBFLFxuXHRcdFx0YWN0aXZlOiB0cnVlXG5cdFx0fSk7XG5cdH1cbn1cblxuY2xhc3MgUHJldmlld01vZGFsIHtcblx0cHJpdmF0ZSBtb2RhbDogYW55O1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCB0aXRsZTogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpIHtcblx0XHQvLyBcdTRGN0ZcdTc1MjhPYnNpZGlhblx1NzY4NE1vZGFsXHU3QzdCXG5cdFx0dGhpcy5tb2RhbCA9IG5ldyAoY2xhc3MgZXh0ZW5kcyAoYXBwIGFzIGFueSkuTW9kYWwge1xuXHRcdFx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHByaXZhdGUgdGl0bGU6IHN0cmluZywgcHJpdmF0ZSBjb250ZW50OiBzdHJpbmcpIHtcblx0XHRcdFx0c3VwZXIoYXBwKTtcblx0XHRcdH1cblxuXHRcdFx0b25PcGVuKCkge1xuXHRcdFx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblx0XHRcdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogdGhpcy50aXRsZSB9KTtcblx0XHRcdFx0XG5cdFx0XHRcdGNvbnN0IHByZXZpZXdBcmVhID0gY29udGVudEVsLmNyZWF0ZUVsKCdkaXYnLCB7XG5cdFx0XHRcdFx0Y2xzOiAncHJldmlldy1hcmVhJ1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdGNvbnN0IHRleHRhcmVhID0gcHJldmlld0FyZWEuY3JlYXRlRWwoJ3RleHRhcmVhJywge1xuXHRcdFx0XHRcdHZhbHVlOiB0aGlzLmNvbnRlbnQsXG5cdFx0XHRcdFx0Y2xzOiAncHJldmlldy10ZXh0YXJlYSdcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHRleHRhcmVhLnJlYWRPbmx5ID0gdHJ1ZTtcblx0XHRcdFx0dGV4dGFyZWEuc3R5bGUud2lkdGggPSAnMTAwJSc7XG5cdFx0XHRcdHRleHRhcmVhLnN0eWxlLmhlaWdodCA9ICc0MDBweCc7XG5cdFx0XHRcdHRleHRhcmVhLnN0eWxlLmZvbnRGYW1pbHkgPSAnbW9ub3NwYWNlJztcblx0XHRcdH1cblxuXHRcdFx0b25DbG9zZSgpIHtcblx0XHRcdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0XHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXHRcdFx0fVxuXHRcdH0pKGFwcCwgdGl0bGUsIGNvbnRlbnQpO1xuXHR9XG5cblx0b3BlbigpOiB2b2lkIHtcblx0XHR0aGlzLm1vZGFsLm9wZW4oKTtcblx0fVxuXG5cdGNsb3NlKCk6IHZvaWQge1xuXHRcdHRoaXMubW9kYWwuY2xvc2UoKTtcblx0fVxufSIsICJpbXBvcnQgeyBBcHAsIEl0ZW1WaWV3LCBXb3Jrc3BhY2VMZWFmLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBTeW5jRW5naW5lLCBTeW5jU3RhdHVzLCBTeW5jU3RhdGUsIFN5bmNFcnJvciB9IGZyb20gJy4uLy4uL3N5bmMtZW5naW5lJztcblxuZXhwb3J0IGNvbnN0IFNZTkNfU1RBVFVTX1ZJRVdfVFlQRSA9ICdvcGVuY2xhdy1zeW5jLXN0YXR1cy12aWV3JztcblxuZXhwb3J0IGNsYXNzIFN5bmNTdGF0dXNWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xuXHRwcml2YXRlIHN5bmNFbmdpbmU6IFN5bmNFbmdpbmU7XG5cdHByaXZhdGUgc3RhdHVzOiBTeW5jU3RhdHVzO1xuXHRwcml2YXRlIGlzQXV0b1JlZnJlc2g6IGJvb2xlYW4gPSB0cnVlO1xuXHRwcml2YXRlIHJlZnJlc2hJbnRlcnZhbElkOiBudW1iZXIgPSAwO1xuXHRwcml2YXRlIGVycm9yRGV0YWlsc1Zpc2libGU6IE1hcDxudW1iZXIsIGJvb2xlYW4+ID0gbmV3IE1hcCgpO1xuXG5cdGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIHN5bmNFbmdpbmU6IFN5bmNFbmdpbmUpIHtcblx0XHRzdXBlcihsZWFmKTtcblx0XHR0aGlzLnN5bmNFbmdpbmUgPSBzeW5jRW5naW5lO1xuXHRcdHRoaXMuc3RhdHVzID0gc3luY0VuZ2luZS5nZXRTdGF0dXMoKTtcblxuXHRcdC8vIFx1NzZEMVx1NTQyQ1x1NzJCNlx1NjAwMVx1NTNEOFx1NTMxNlxuXHRcdHRoaXMuc3luY0VuZ2luZS5vblN0YXR1c0NoYW5nZSgobmV3U3RhdHVzOiBTeW5jU3RhdHVzKSA9PiB7XG5cdFx0XHR0aGlzLnN0YXR1cyA9IG5ld1N0YXR1cztcblx0XHRcdHRoaXMucmVuZGVyKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBTWU5DX1NUQVRVU19WSUVXX1RZUEU7XG5cdH1cblxuXHRnZXREaXNwbGF5VGV4dCgpOiBzdHJpbmcge1xuXHRcdHJldHVybiAnT3BlbkNsYXdcdTU0MENcdTZCNjVcdTcyQjZcdTYwMDEnO1xuXHR9XG5cblx0Z2V0SWNvbigpOiBzdHJpbmcge1xuXHRcdHJldHVybiAncmVmcmVzaC1jdyc7XG5cdH1cblxuXHRhc3luYyBvbk9wZW4oKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXTtcblx0XHRjb250YWluZXIuZW1wdHkoKTtcblxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NEUzQlx1NUJCOVx1NTY2OFxuXHRcdGNvbnN0IG1haW5Db250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnb3BlbmNsYXctc3luYy1zdGF0dXMtdmlldycgfSk7XG5cblx0XHQvLyBcdTUyMUJcdTVFRkFcdTY4MDdcdTk4OThcdTY4MEZcblx0XHRjb25zdCBoZWFkZXIgPSBtYWluQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3N5bmMtc3RhdHVzLWhlYWRlcicgfSk7XG5cdFx0aGVhZGVyLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ09wZW5DbGF3XHU1NDBDXHU2QjY1XHU3MkI2XHU2MDAxJyB9KTtcblxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NjNBN1x1NTIzNlx1NjgwRlxuXHRcdGNvbnN0IGNvbnRyb2xzID0gbWFpbkNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdzeW5jLWNvbnRyb2xzJyB9KTtcblxuXHRcdC8vIFx1N0FDQlx1NTM3M1x1NTQwQ1x1NkI2NVx1NjMwOVx1OTRBRVxuXHRcdGNvbnN0IHN5bmNOb3dCdXR0b24gPSBjb250cm9scy5jcmVhdGVFbCgnYnV0dG9uJywge1xuXHRcdFx0dGV4dDogJ1x1N0FDQlx1NTM3M1x1NTQwQ1x1NkI2NScsXG5cdFx0XHRjbHM6ICdzeW5jLW5vdy1idXR0b24nXG5cdFx0fSk7XG5cdFx0c3luY05vd0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdHRoaXMuc3luY0VuZ2luZS5zeW5jKCkuY2F0Y2goZXJyb3IgPT4ge1xuXHRcdFx0XHRuZXcgTm90aWNlKGBcdTU0MENcdTZCNjVcdTU5MzFcdThEMjU6ICR7ZXJyb3IubWVzc2FnZX1gKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gXHU2NjgyXHU1MDVDL1x1NjA2Mlx1NTkwRFx1NjMwOVx1OTRBRVxuXHRcdGNvbnN0IHBhdXNlUmVzdW1lQnV0dG9uID0gY29udHJvbHMuY3JlYXRlRWwoJ2J1dHRvbicsIHtcblx0XHRcdHRleHQ6IHRoaXMuc3luY0VuZ2luZS5pc1BhdXNlZFN0YXRlKCkgPyAnXHU2MDYyXHU1OTBEXHU1NDBDXHU2QjY1JyA6ICdcdTY2ODJcdTUwNUNcdTU0MENcdTZCNjUnLFxuXHRcdFx0Y2xzOiAncGF1c2UtcmVzdW1lLWJ1dHRvbidcblx0XHR9KTtcblx0XHRwYXVzZVJlc3VtZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdGlmICh0aGlzLnN5bmNFbmdpbmUuaXNQYXVzZWRTdGF0ZSgpKSB7XG5cdFx0XHRcdHRoaXMuc3luY0VuZ2luZS5yZXN1bWUoKTtcblx0XHRcdFx0cGF1c2VSZXN1bWVCdXR0b24uc2V0VGV4dCgnXHU2NjgyXHU1MDVDXHU1NDBDXHU2QjY1Jyk7XG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1x1NTQwQ1x1NkI2NVx1NURGMlx1NjA2Mlx1NTkwRCcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5zeW5jRW5naW5lLnBhdXNlKCk7XG5cdFx0XHRcdHBhdXNlUmVzdW1lQnV0dG9uLnNldFRleHQoJ1x1NjA2Mlx1NTkwRFx1NTQwQ1x1NkI2NScpO1xuXHRcdFx0XHRuZXcgTm90aWNlKCdcdTU0MENcdTZCNjVcdTVERjJcdTY2ODJcdTUwNUMnKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIFx1ODFFQVx1NTJBOFx1NTIzN1x1NjVCMFx1NUYwMFx1NTE3M1xuXHRcdGNvbnN0IGF1dG9SZWZyZXNoQ29udGFpbmVyID0gY29udHJvbHMuY3JlYXRlRGl2KHsgY2xzOiAnYXV0by1yZWZyZXNoLWNvbnRhaW5lcicgfSk7XG5cdFx0Y29uc3QgYXV0b1JlZnJlc2hDaGVja2JveCA9IGF1dG9SZWZyZXNoQ29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHtcblx0XHRcdHR5cGU6ICdjaGVja2JveCcsXG5cdFx0XHRjbHM6ICdhdXRvLXJlZnJlc2gtY2hlY2tib3gnXG5cdFx0fSk7XG5cdFx0YXV0b1JlZnJlc2hDaGVja2JveC5pZCA9ICdhdXRvLXJlZnJlc2gnO1xuXHRcdGF1dG9SZWZyZXNoQ2hlY2tib3guY2hlY2tlZCA9IHRoaXMuaXNBdXRvUmVmcmVzaDtcblx0XHRhdXRvUmVmcmVzaENoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG5cdFx0XHR0aGlzLmlzQXV0b1JlZnJlc2ggPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZDtcblx0XHRcdGlmICh0aGlzLmlzQXV0b1JlZnJlc2gpIHtcblx0XHRcdFx0dGhpcy5zdGFydEF1dG9SZWZyZXNoKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnN0b3BBdXRvUmVmcmVzaCgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGF1dG9SZWZyZXNoQ29udGFpbmVyLmNyZWF0ZUVsKCdsYWJlbCcsIHtcblx0XHRcdHRleHQ6ICdcdTgxRUFcdTUyQThcdTUyMzdcdTY1QjAnLFxuXHRcdFx0YXR0cjogeyBmb3I6ICdhdXRvLXJlZnJlc2gnIH1cblx0XHR9KTtcblxuXHRcdC8vIFx1NjI0Qlx1NTJBOFx1NTIzN1x1NjVCMFx1NjMwOVx1OTRBRVxuXHRcdGNvbnN0IHJlZnJlc2hCdXR0b24gPSBjb250cm9scy5jcmVhdGVFbCgnYnV0dG9uJywge1xuXHRcdFx0dGV4dDogJ1x1NTIzN1x1NjVCMCcsXG5cdFx0XHRjbHM6ICdyZWZyZXNoLWJ1dHRvbidcblx0XHR9KTtcblx0XHRyZWZyZXNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0dGhpcy5yZW5kZXIoKTtcblx0XHR9KTtcblxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NzJCNlx1NjAwMVx1NTE4NVx1NUJCOVx1NUJCOVx1NTY2OFxuXHRcdHRoaXMuY29udGVudEVsID0gbWFpbkNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdzeW5jLXN0YXR1cy1jb250ZW50JyB9KTtcblxuXHRcdC8vIFx1NUYwMFx1NTlDQlx1ODFFQVx1NTJBOFx1NTIzN1x1NjVCMFxuXHRcdGlmICh0aGlzLmlzQXV0b1JlZnJlc2gpIHtcblx0XHRcdHRoaXMuc3RhcnRBdXRvUmVmcmVzaCgpO1xuXHRcdH1cblxuXHRcdC8vIFx1NTIxRFx1NTlDQlx1NkUzMlx1NjdEM1xuXHRcdHRoaXMucmVuZGVyKCk7XG5cdH1cblxuXHRhc3luYyBvbkNsb3NlKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRoaXMuc3RvcEF1dG9SZWZyZXNoKCk7XG5cdH1cblxuXHRwcml2YXRlIHJlbmRlcigpOiB2b2lkIHtcblx0XHR0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xuXG5cdFx0Ly8gXHU3MkI2XHU2MDAxXHU1MzYxXHU3MjQ3XG5cdFx0Y29uc3Qgc3RhdHVzQ2FyZCA9IHRoaXMuY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ3N0YXR1cy1jYXJkJyB9KTtcblx0XHRcblx0XHQvLyBcdTcyQjZcdTYwMDFcdTU2RkVcdTY4MDdcdTU0OENcdTY1ODdcdTY3MkNcblx0XHRjb25zdCBzdGF0dXNIZWFkZXIgPSBzdGF0dXNDYXJkLmNyZWF0ZURpdih7IGNsczogJ3N0YXR1cy1oZWFkZXInIH0pO1xuXHRcdFxuXHRcdGNvbnN0IHN0YXR1c0ljb24gPSBzdGF0dXNIZWFkZXIuY3JlYXRlRWwoJ3NwYW4nLCB7IFxuXHRcdFx0dGV4dDogdGhpcy5nZXRTdGF0dXNJY29uKCksXG5cdFx0XHRjbHM6ICdzdGF0dXMtaWNvbidcblx0XHR9KTtcblx0XHRcblx0XHRjb25zdCBzdGF0dXNUZXh0ID0gc3RhdHVzSGVhZGVyLmNyZWF0ZUVsKCdzcGFuJywge1xuXHRcdFx0dGV4dDogdGhpcy5nZXRTdGF0dXNUZXh0KCksXG5cdFx0XHRjbHM6IGBzdGF0dXMtdGV4dCBzdGF0dXMtJHt0aGlzLnN0YXR1cy5zdGF0ZX1gXG5cdFx0fSk7XG5cblx0XHQvLyBcdThGREJcdTVFQTZcdTY3NjFcblx0XHRpZiAodGhpcy5zdGF0dXMuc3RhdGUgPT09IFN5bmNTdGF0ZS5TWU5DSU5HKSB7XG5cdFx0XHRjb25zdCBwcm9ncmVzc0NvbnRhaW5lciA9IHN0YXR1c0NhcmQuY3JlYXRlRGl2KHsgY2xzOiAncHJvZ3Jlc3MtY29udGFpbmVyJyB9KTtcblx0XHRcdFxuXHRcdFx0Y29uc3QgcHJvZ3Jlc3NCYXIgPSBwcm9ncmVzc0NvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdwcm9ncmVzcy1iYXInIH0pO1xuXHRcdFx0Y29uc3QgcHJvZ3Jlc3NGaWxsID0gcHJvZ3Jlc3NCYXIuY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdFx0Y2xzOiAncHJvZ3Jlc3MtZmlsbCcsXG5cdFx0XHRcdGF0dHI6IHsgc3R5bGU6IGB3aWR0aDogJHt0aGlzLnN0YXR1cy5wcm9ncmVzc30lYCB9XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0Y29uc3QgcHJvZ3Jlc3NUZXh0ID0gcHJvZ3Jlc3NDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdFx0dGV4dDogYCR7dGhpcy5zdGF0dXMucHJvZ3Jlc3MudG9GaXhlZCgxKX0lYCxcblx0XHRcdFx0Y2xzOiAncHJvZ3Jlc3MtdGV4dCdcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8vIFx1NUY1M1x1NTI0RFx1NjU4N1x1NEVGNlxuXHRcdGlmICh0aGlzLnN0YXR1cy5jdXJyZW50RmlsZSkge1xuXHRcdFx0Y29uc3QgY3VycmVudEZpbGUgPSBzdGF0dXNDYXJkLmNyZWF0ZURpdih7IGNsczogJ2N1cnJlbnQtZmlsZScgfSk7XG5cdFx0XHRjdXJyZW50RmlsZS5jcmVhdGVFbCgnc3Ryb25nJywgeyB0ZXh0OiAnXHU1RjUzXHU1MjREXHU2NTg3XHU0RUY2OiAnIH0pO1xuXHRcdFx0Y3VycmVudEZpbGUuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IHRoaXMuc3RhdHVzLmN1cnJlbnRGaWxlIH0pO1xuXHRcdH1cblxuXHRcdC8vIFx1N0VERlx1OEJBMVx1NEZFMVx1NjA2RlxuXHRcdGNvbnN0IHN0YXRzID0gc3RhdHVzQ2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdzdGF0cycgfSk7XG5cdFx0XG5cdFx0aWYgKHRoaXMuc3RhdHVzLmZpbGVzU3luY2VkID4gMCkge1xuXHRcdFx0c3RhdHMuY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdFx0dGV4dDogYFx1NURGMlx1NTQwQ1x1NkI2NVx1NjU4N1x1NEVGNjogJHt0aGlzLnN0YXR1cy5maWxlc1N5bmNlZH1gLFxuXHRcdFx0XHRjbHM6ICdzdGF0LWl0ZW0nXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKHRoaXMuc3RhdHVzLnRvdGFsRmlsZXMgPiAwKSB7XG5cdFx0XHRzdGF0cy5jcmVhdGVFbCgnZGl2Jywge1xuXHRcdFx0XHR0ZXh0OiBgXHU2MDNCXHU2NTg3XHU0RUY2XHU2NTcwOiAke3RoaXMuc3RhdHVzLnRvdGFsRmlsZXN9YCxcblx0XHRcdFx0Y2xzOiAnc3RhdC1pdGVtJ1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdFxuXHRcdGlmICh0aGlzLnN0YXR1cy5sYXN0U3luYykge1xuXHRcdFx0c3RhdHMuY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdFx0dGV4dDogYFx1NjcwMFx1NTQwRVx1NTQwQ1x1NkI2NTogJHt0aGlzLmZvcm1hdERhdGUodGhpcy5zdGF0dXMubGFzdFN5bmMpfWAsXG5cdFx0XHRcdGNsczogJ3N0YXQtaXRlbSdcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8vIFx1OTUxOVx1OEJFRlx1NEZFMVx1NjA2RlxuXHRcdGlmICh0aGlzLnN0YXR1cy5lcnJvcnMubGVuZ3RoID4gMCkge1xuXHRcdFx0Y29uc3QgZXJyb3JzU2VjdGlvbiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ2Vycm9ycy1zZWN0aW9uJyB9KTtcblx0XHRcdGVycm9yc1NlY3Rpb24uY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnXHU5NTE5XHU4QkVGXHU2NUU1XHU1RkQ3JyB9KTtcblx0XHRcdFxuXHRcdFx0Y29uc3QgZXJyb3JzTGlzdCA9IGVycm9yc1NlY3Rpb24uY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnZXJyb3JzLWxpc3QnIH0pO1xuXHRcdFx0XG5cdFx0XHR0aGlzLnN0YXR1cy5lcnJvcnMuZm9yRWFjaCgoZXJyb3IsIGluZGV4KSA9PiB7XG5cdFx0XHRcdGNvbnN0IGVycm9ySXRlbSA9IGVycm9yc0xpc3QuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnZXJyb3ItaXRlbScgfSk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zdCBlcnJvckhlYWRlciA9IGVycm9ySXRlbS5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdlcnJvci1oZWFkZXInIH0pO1xuXHRcdFx0XHRlcnJvckhlYWRlci5jcmVhdGVFbCgnc3BhbicsIHtcblx0XHRcdFx0XHR0ZXh0OiAnXHUyNzRDJyxcblx0XHRcdFx0XHRjbHM6ICdlcnJvci1pY29uJ1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdGVycm9ySGVhZGVyLmNyZWF0ZUVsKCdzcGFuJywge1xuXHRcdFx0XHRcdHRleHQ6IGVycm9yLm1lc3NhZ2UsXG5cdFx0XHRcdFx0Y2xzOiAnZXJyb3ItbWVzc2FnZSdcblx0XHRcdFx0fSk7XG5cdFx0XHRcdFxuXHRcdFx0XHRlcnJvckhlYWRlci5jcmVhdGVFbCgnc3BhbicsIHtcblx0XHRcdFx0XHR0ZXh0OiB0aGlzLmZvcm1hdERhdGUoZXJyb3IudGltZXN0YW1wKSxcblx0XHRcdFx0XHRjbHM6ICdlcnJvci10aW1lJ1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFx1OTUxOVx1OEJFRlx1OEJFNlx1NjBDNVx1NTIwN1x1NjM2MlxuXHRcdFx0XHRjb25zdCB0b2dnbGVCdXR0b24gPSBlcnJvckhlYWRlci5jcmVhdGVFbCgnYnV0dG9uJywge1xuXHRcdFx0XHRcdHRleHQ6IHRoaXMuZXJyb3JEZXRhaWxzVmlzaWJsZS5nZXQoaW5kZXgpID8gJ1x1OTY5MFx1ODVDRlx1OEJFNlx1NjBDNScgOiAnXHU2NjNFXHU3OTNBXHU4QkU2XHU2MEM1Jyxcblx0XHRcdFx0XHRjbHM6ICdlcnJvci10b2dnbGUtYnV0dG9uJ1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdHRvZ2dsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0XHRjb25zdCBpc1Zpc2libGUgPSB0aGlzLmVycm9yRGV0YWlsc1Zpc2libGUuZ2V0KGluZGV4KSB8fCBmYWxzZTtcblx0XHRcdFx0XHR0aGlzLmVycm9yRGV0YWlsc1Zpc2libGUuc2V0KGluZGV4LCAhaXNWaXNpYmxlKTtcblx0XHRcdFx0XHR0aGlzLnJlbmRlcigpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFx1OTUxOVx1OEJFRlx1OEJFNlx1NjBDNVxuXHRcdFx0XHRpZiAodGhpcy5lcnJvckRldGFpbHNWaXNpYmxlLmdldChpbmRleCkpIHtcblx0XHRcdFx0XHRjb25zdCBlcnJvckRldGFpbHMgPSBlcnJvckl0ZW0uY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnZXJyb3ItZGV0YWlscycgfSk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aWYgKGVycm9yLmZpbGUpIHtcblx0XHRcdFx0XHRcdGVycm9yRGV0YWlscy5jcmVhdGVFbCgnZGl2Jywge1xuXHRcdFx0XHRcdFx0XHR0ZXh0OiBgXHU2NTg3XHU0RUY2OiAke2Vycm9yLmZpbGV9YCxcblx0XHRcdFx0XHRcdFx0Y2xzOiAnZXJyb3ItZmlsZSdcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHRcdFx0XHRlcnJvckRldGFpbHMuY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdFx0XHRcdHRleHQ6IGBcdTY1RjZcdTk1RjQ6ICR7ZXJyb3IudGltZXN0YW1wLnRvTG9jYWxlU3RyaW5nKCl9YCxcblx0XHRcdFx0XHRcdGNsczogJ2Vycm9yLXRpbWVzdGFtcCdcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRlcnJvckRldGFpbHMuY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdFx0XHRcdHRleHQ6IGBcdTUzRUZcdTkxQ0RcdThCRDU6ICR7ZXJyb3IucmV0cnlhYmxlID8gJ1x1NjYyRicgOiAnXHU1NDI2J31gLFxuXHRcdFx0XHRcdFx0Y2xzOiAnZXJyb3ItcmV0cnlhYmxlJ1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIFx1OTFDRFx1OEJENVx1NjMwOVx1OTRBRVxuXHRcdFx0XHRcdGlmIChlcnJvci5yZXRyeWFibGUgJiYgZXJyb3IuZmlsZSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgcmV0cnlCdXR0b24gPSBlcnJvckRldGFpbHMuY3JlYXRlRWwoJ2J1dHRvbicsIHtcblx0XHRcdFx0XHRcdFx0dGV4dDogJ1x1OTFDRFx1OEJENScsXG5cdFx0XHRcdFx0XHRcdGNsczogJ3JldHJ5LWJ1dHRvbidcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRyZXRyeUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0XHRcdFx0Ly8gXHU4RkQ5XHU5MUNDXHU1M0VGXHU0RUU1XHU2REZCXHU1MkEwXHU5MUNEXHU4QkQ1XHU5MDNCXHU4RjkxXG5cdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYFx1OTFDRFx1OEJENVx1NjU4N1x1NEVGNjogJHtlcnJvci5maWxlfWApO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0Ly8gXHU2RTA1XHU5NjY0XHU5NTE5XHU4QkVGXHU2MzA5XHU5NEFFXG5cdFx0XHRpZiAodGhpcy5zdGF0dXMuZXJyb3JzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0Y29uc3QgY2xlYXJFcnJvcnNCdXR0b24gPSBlcnJvcnNTZWN0aW9uLmNyZWF0ZUVsKCdidXR0b24nLCB7XG5cdFx0XHRcdFx0dGV4dDogJ1x1NkUwNVx1OTY2NFx1NjI0MFx1NjcwOVx1OTUxOVx1OEJFRicsXG5cdFx0XHRcdFx0Y2xzOiAnY2xlYXItZXJyb3JzLWJ1dHRvbidcblx0XHRcdFx0fSk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjbGVhckVycm9yc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0XHQvLyBcdThGRDlcdTkxQ0NcdTUzRUZcdTRFRTVcdTZERkJcdTUyQTBcdTZFMDVcdTk2NjRcdTk1MTlcdThCRUZcdTkwM0JcdThGOTFcblx0XHRcdFx0XHRuZXcgTm90aWNlKCdcdTk1MTlcdThCRUZcdTY1RTVcdTVGRDdcdTVERjJcdTZFMDVcdTk2NjQnKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gXHU2NENEXHU0RjVDXHU1Mzg2XHU1M0YyXG5cdFx0Y29uc3QgaGlzdG9yeVNlY3Rpb24gPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdoaXN0b3J5LXNlY3Rpb24nIH0pO1xuXHRcdGhpc3RvcnlTZWN0aW9uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1x1NTQwQ1x1NkI2NVx1NTM4Nlx1NTNGMicgfSk7XG5cdFx0XG5cdFx0Ly8gXHU4RkQ5XHU5MUNDXHU1M0VGXHU0RUU1XHU2REZCXHU1MkEwXHU1NDBDXHU2QjY1XHU1Mzg2XHU1M0YyXHU4QkIwXHU1RjU1XG5cdFx0Y29uc3QgaGlzdG9yeVBsYWNlaG9sZGVyID0gaGlzdG9yeVNlY3Rpb24uY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdHRleHQ6ICdcdTU0MENcdTZCNjVcdTUzODZcdTUzRjJcdThCQjBcdTVGNTVcdTVDMDZcdTU3MjhcdThGRDlcdTkxQ0NcdTY2M0VcdTc5M0EnLFxuXHRcdFx0Y2xzOiAnaGlzdG9yeS1wbGFjZWhvbGRlcidcblx0XHR9KTtcblxuXHRcdC8vIFx1NjAyN1x1ODBGRFx1N0VERlx1OEJBMVxuXHRcdGNvbnN0IHBlcmZvcm1hbmNlU2VjdGlvbiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ3BlcmZvcm1hbmNlLXNlY3Rpb24nIH0pO1xuXHRcdHBlcmZvcm1hbmNlU2VjdGlvbi5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdcdTYwMjdcdTgwRkRcdTdFREZcdThCQTEnIH0pO1xuXHRcdFxuXHRcdGNvbnN0IHBlcmZvcm1hbmNlU3RhdHMgPSBwZXJmb3JtYW5jZVNlY3Rpb24uY3JlYXRlRGl2KHsgY2xzOiAncGVyZm9ybWFuY2Utc3RhdHMnIH0pO1xuXHRcdFxuXHRcdC8vIFx1OEZEOVx1OTFDQ1x1NTNFRlx1NEVFNVx1NkRGQlx1NTJBMFx1NjAyN1x1ODBGRFx1N0VERlx1OEJBMVx1NjU3MFx1NjM2RVxuXHRcdHBlcmZvcm1hbmNlU3RhdHMuY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdHRleHQ6ICdcdTVFNzNcdTU3NDdcdTU0MENcdTZCNjVcdTY1RjZcdTk1RjQ6IC0tJyxcblx0XHRcdGNsczogJ3BlcmZvcm1hbmNlLWl0ZW0nXG5cdFx0fSk7XG5cdFx0XG5cdFx0cGVyZm9ybWFuY2VTdGF0cy5jcmVhdGVFbCgnZGl2Jywge1xuXHRcdFx0dGV4dDogJ1x1NjcwMFx1NUZFQlx1NTQwQ1x1NkI2NVx1NjVGNlx1OTVGNDogLS0nLFxuXHRcdFx0Y2xzOiAncGVyZm9ybWFuY2UtaXRlbSdcblx0XHR9KTtcblx0XHRcblx0XHRwZXJmb3JtYW5jZVN0YXRzLmNyZWF0ZUVsKCdkaXYnLCB7XG5cdFx0XHR0ZXh0OiAnXHU2NzAwXHU2MTYyXHU1NDBDXHU2QjY1XHU2NUY2XHU5NUY0OiAtLScsXG5cdFx0XHRjbHM6ICdwZXJmb3JtYW5jZS1pdGVtJ1xuXHRcdH0pO1xuXHRcdFxuXHRcdHBlcmZvcm1hbmNlU3RhdHMuY3JlYXRlRWwoJ2RpdicsIHtcblx0XHRcdHRleHQ6ICdcdTYyMTBcdTUyOUZcdTczODc6IC0tJyxcblx0XHRcdGNsczogJ3BlcmZvcm1hbmNlLWl0ZW0nXG5cdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIGdldFN0YXR1c0ljb24oKTogc3RyaW5nIHtcblx0XHRzd2l0Y2ggKHRoaXMuc3RhdHVzLnN0YXRlKSB7XG5cdFx0XHRjYXNlIFN5bmNTdGF0ZS5JRExFOlxuXHRcdFx0XHRyZXR1cm4gJ1x1MjcwNSc7XG5cdFx0XHRjYXNlIFN5bmNTdGF0ZS5TWU5DSU5HOlxuXHRcdFx0XHRyZXR1cm4gJ1x1RDgzRFx1REQwNCc7XG5cdFx0XHRjYXNlIFN5bmNTdGF0ZS5DT05GTElDVDpcblx0XHRcdFx0cmV0dXJuICdcdTI2QTBcdUZFMEYnO1xuXHRcdFx0Y2FzZSBTeW5jU3RhdGUuRVJST1I6XG5cdFx0XHRcdHJldHVybiAnXHUyNzRDJztcblx0XHRcdGNhc2UgU3luY1N0YXRlLlBBVVNFRDpcblx0XHRcdFx0cmV0dXJuICdcdTIzRjhcdUZFMEYnO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuICdcdTI3NTMnO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgZ2V0U3RhdHVzVGV4dCgpOiBzdHJpbmcge1xuXHRcdHN3aXRjaCAodGhpcy5zdGF0dXMuc3RhdGUpIHtcblx0XHRcdGNhc2UgU3luY1N0YXRlLklETEU6XG5cdFx0XHRcdHJldHVybiAnXHU3QTdBXHU5NUYyJztcblx0XHRcdGNhc2UgU3luY1N0YXRlLlNZTkNJTkc6XG5cdFx0XHRcdHJldHVybiAnXHU1NDBDXHU2QjY1XHU0RTJEJztcblx0XHRcdGNhc2UgU3luY1N0YXRlLkNPTkZMSUNUOlxuXHRcdFx0XHRyZXR1cm4gJ1x1NUI1OFx1NTcyOFx1NTFCMlx1N0E4MSc7XG5cdFx0XHRjYXNlIFN5bmNTdGF0ZS5FUlJPUjpcblx0XHRcdFx0cmV0dXJuICdcdTk1MTlcdThCRUYnO1xuXHRcdFx0Y2FzZSBTeW5jU3RhdGUuUEFVU0VEOlxuXHRcdFx0XHRyZXR1cm4gJ1x1NURGMlx1NjY4Mlx1NTA1Qyc7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gJ1x1NjcyQVx1NzdFNVx1NzJCNlx1NjAwMSc7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBmb3JtYXREYXRlKGRhdGU6IERhdGUpOiBzdHJpbmcge1xuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3QgZGlmZk1zID0gbm93LmdldFRpbWUoKSAtIGRhdGUuZ2V0VGltZSgpO1xuXHRcdGNvbnN0IGRpZmZNaW5zID0gTWF0aC5mbG9vcihkaWZmTXMgLyAoMTAwMCAqIDYwKSk7XG5cdFx0XG5cdFx0aWYgKGRpZmZNaW5zIDwgMSkge1xuXHRcdFx0cmV0dXJuICdcdTUyMUFcdTUyMUEnO1xuXHRcdH0gZWxzZSBpZiAoZGlmZk1pbnMgPCA2MCkge1xuXHRcdFx0cmV0dXJuIGAke2RpZmZNaW5zfVx1NTIwNlx1OTQ5Rlx1NTI0RGA7XG5cdFx0fSBlbHNlIGlmIChkaWZmTWlucyA8IDI0ICogNjApIHtcblx0XHRcdGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihkaWZmTWlucyAvIDYwKTtcblx0XHRcdHJldHVybiBgJHtob3Vyc31cdTVDMEZcdTY1RjZcdTUyNERgO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHN0YXJ0QXV0b1JlZnJlc2goKTogdm9pZCB7XG5cdFx0dGhpcy5zdG9wQXV0b1JlZnJlc2goKTtcblx0XHR0aGlzLnJlZnJlc2hJbnRlcnZhbElkID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHtcblx0XHRcdHRoaXMucmVuZGVyKCk7XG5cdFx0fSwgNTAwMCk7IC8vIFx1NkJDRjVcdTc5RDJcdTUyMzdcdTY1QjBcdTRFMDBcdTZCMjFcblx0fVxuXG5cdHByaXZhdGUgc3RvcEF1dG9SZWZyZXNoKCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLnJlZnJlc2hJbnRlcnZhbElkKSB7XG5cdFx0XHRjbGVhckludGVydmFsKHRoaXMucmVmcmVzaEludGVydmFsSWQpO1xuXHRcdFx0dGhpcy5yZWZyZXNoSW50ZXJ2YWxJZCA9IDA7XG5cdFx0fVxuXHR9XG5cblx0c3RhdGljIG9wZW4oYXBwOiBBcHAsIHN5bmNFbmdpbmU6IFN5bmNFbmdpbmUpOiB2b2lkIHtcblx0XHRjb25zdCBsZWFmID0gYXBwLndvcmtzcGFjZS5nZXRMZWFmKHRydWUpO1xuXHRcdGxlYWYuc2V0Vmlld1N0YXRlKHtcblx0XHRcdHR5cGU6IFNZTkNfU1RBVFVTX1ZJRVdfVFlQRSxcblx0XHRcdGFjdGl2ZTogdHJ1ZVxuXHRcdH0pO1xuXHR9XG59IiwgImV4cG9ydCBpbnRlcmZhY2UgT3BlbkNsYXdNZW1vcnlTeW5jU2V0dGluZ3Mge1xuXHRhcGlVcmw6IHN0cmluZztcblx0YXBpUG9ydDogbnVtYmVyO1xuXHRzeW5jSW50ZXJ2YWw6IG51bWJlcjtcblx0YXV0b1N5bmM6IGJvb2xlYW47XG5cdGNvbmZsaWN0U3RyYXRlZ3k6ICd0aW1lc3RhbXAnIHwgJ2xvY2FsJyB8ICdyZW1vdGUnIHwgJ2Fzayc7XG5cdGV4Y2x1ZGVQYXR0ZXJuczogc3RyaW5nW107XG5cdGVuYWJsZVdlYlNvY2tldDogYm9vbGVhbjtcblx0bG9nTGV2ZWw6ICdkZWJ1ZycgfCAnaW5mbycgfCAnd2FybicgfCAnZXJyb3InO1xuXHR0YXJnZXRGb2xkZXI6IHN0cmluZztcbn1cblxuZXhwb3J0IGVudW0gTG9nTGV2ZWwge1xuXHRERUJVRyA9ICdkZWJ1ZycsXG5cdElORk8gPSAnaW5mbycsXG5cdFdBUk4gPSAnd2FybicsXG5cdEVSUk9SID0gJ2Vycm9yJ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExvZ0VudHJ5IHtcblx0dGltZXN0YW1wOiBEYXRlO1xuXHRsZXZlbDogTG9nTGV2ZWw7XG5cdG1lc3NhZ2U6IHN0cmluZztcblx0c291cmNlPzogc3RyaW5nO1xuXHRkYXRhPzogYW55O1xufVxuXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcblx0cHJpdmF0ZSBsb2dzOiBMb2dFbnRyeVtdID0gW107XG5cdHByaXZhdGUgbWF4TG9nczogbnVtYmVyID0gMTAwMDtcblx0cHJpdmF0ZSBsaXN0ZW5lcnM6ICgoZW50cnk6IExvZ0VudHJ5KSA9PiB2b2lkKVtdID0gW107XG5cblx0Y29uc3RydWN0b3IocHJpdmF0ZSBzZXR0aW5nczogT3BlbkNsYXdNZW1vcnlTeW5jU2V0dGluZ3MpIHt9XG5cblx0ZGVidWcobWVzc2FnZTogc3RyaW5nLCBzb3VyY2U/OiBzdHJpbmcsIGRhdGE/OiBhbnkpOiB2b2lkIHtcblx0XHR0aGlzLmxvZyhMb2dMZXZlbC5ERUJVRywgbWVzc2FnZSwgc291cmNlLCBkYXRhKTtcblx0fVxuXG5cdGluZm8obWVzc2FnZTogc3RyaW5nLCBzb3VyY2U/OiBzdHJpbmcsIGRhdGE/OiBhbnkpOiB2b2lkIHtcblx0XHR0aGlzLmxvZyhMb2dMZXZlbC5JTkZPLCBtZXNzYWdlLCBzb3VyY2UsIGRhdGEpO1xuXHR9XG5cblx0d2FybihtZXNzYWdlOiBzdHJpbmcsIHNvdXJjZT86IHN0cmluZywgZGF0YT86IGFueSk6IHZvaWQge1xuXHRcdHRoaXMubG9nKExvZ0xldmVsLldBUk4sIG1lc3NhZ2UsIHNvdXJjZSwgZGF0YSk7XG5cdH1cblxuXHRlcnJvcihtZXNzYWdlOiBzdHJpbmcsIHNvdXJjZT86IHN0cmluZywgZGF0YT86IGFueSk6IHZvaWQge1xuXHRcdHRoaXMubG9nKExvZ0xldmVsLkVSUk9SLCBtZXNzYWdlLCBzb3VyY2UsIGRhdGEpO1xuXHR9XG5cblx0cHJpdmF0ZSBsb2cobGV2ZWw6IExvZ0xldmVsLCBtZXNzYWdlOiBzdHJpbmcsIHNvdXJjZT86IHN0cmluZywgZGF0YT86IGFueSk6IHZvaWQge1xuXHRcdC8vIFx1NjhDMFx1NjdFNVx1NjVFNVx1NUZEN1x1N0VBN1x1NTIyQlx1NjYyRlx1NTQyNlx1NUU5NFx1OEJFNVx1OEJCMFx1NUY1NVxuXHRcdGlmICghdGhpcy5zaG91bGRMb2cobGV2ZWwpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgZW50cnk6IExvZ0VudHJ5ID0ge1xuXHRcdFx0dGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuXHRcdFx0bGV2ZWwsXG5cdFx0XHRtZXNzYWdlLFxuXHRcdFx0c291cmNlLFxuXHRcdFx0ZGF0YVxuXHRcdH07XG5cblx0XHQvLyBcdTZERkJcdTUyQTBcdTUyMzBcdTY1RTVcdTVGRDdcdTY1NzBcdTdFQzRcblx0XHR0aGlzLmxvZ3MucHVzaChlbnRyeSk7XG5cblx0XHQvLyBcdTk2NTBcdTUyMzZcdTY1RTVcdTVGRDdcdTY1NzBcdTkxQ0Zcblx0XHRpZiAodGhpcy5sb2dzLmxlbmd0aCA+IHRoaXMubWF4TG9ncykge1xuXHRcdFx0dGhpcy5sb2dzID0gdGhpcy5sb2dzLnNsaWNlKC10aGlzLm1heExvZ3MpO1xuXHRcdH1cblxuXHRcdC8vIFx1OEY5M1x1NTFGQVx1NTIzMFx1NjNBN1x1NTIzNlx1NTNGMFxuXHRcdHRoaXMuY29uc29sZUxvZyhlbnRyeSk7XG5cblx0XHQvLyBcdTkwMUFcdTc3RTVcdTc2RDFcdTU0MkNcdTU2Njhcblx0XHR0aGlzLm5vdGlmeUxpc3RlbmVycyhlbnRyeSk7XG5cdH1cblxuXHRwcml2YXRlIHNob3VsZExvZyhsZXZlbDogTG9nTGV2ZWwpOiBib29sZWFuIHtcblx0XHRjb25zdCBsZXZlbE9yZGVyID0ge1xuXHRcdFx0W0xvZ0xldmVsLkRFQlVHXTogMCxcblx0XHRcdFtMb2dMZXZlbC5JTkZPXTogMSxcblx0XHRcdFtMb2dMZXZlbC5XQVJOXTogMixcblx0XHRcdFtMb2dMZXZlbC5FUlJPUl06IDNcblx0XHR9O1xuXG5cdFx0Y29uc3QgY3VycmVudExldmVsID0gbGV2ZWxPcmRlclt0aGlzLnNldHRpbmdzLmxvZ0xldmVsXTtcblx0XHRjb25zdCBtZXNzYWdlTGV2ZWwgPSBsZXZlbE9yZGVyW2xldmVsXTtcblxuXHRcdHJldHVybiBtZXNzYWdlTGV2ZWwgPj0gY3VycmVudExldmVsO1xuXHR9XG5cblx0cHJpdmF0ZSBjb25zb2xlTG9nKGVudHJ5OiBMb2dFbnRyeSk6IHZvaWQge1xuXHRcdGNvbnN0IHRpbWVzdGFtcCA9IGVudHJ5LnRpbWVzdGFtcC50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMV0uc3BsaXQoJy4nKVswXTtcblx0XHRjb25zdCBwcmVmaXggPSBgWyR7dGltZXN0YW1wfV0gWyR7ZW50cnkubGV2ZWwudG9VcHBlckNhc2UoKX1dYDtcblx0XHRjb25zdCBzb3VyY2UgPSBlbnRyeS5zb3VyY2UgPyBgWyR7ZW50cnkuc291cmNlfV1gIDogJyc7XG5cdFx0Y29uc3QgbWVzc2FnZSA9IGAke3ByZWZpeH0ke3NvdXJjZX0gJHtlbnRyeS5tZXNzYWdlfWA7XG5cblx0XHRzd2l0Y2ggKGVudHJ5LmxldmVsKSB7XG5cdFx0XHRjYXNlIExvZ0xldmVsLkRFQlVHOlxuXHRcdFx0XHRjb25zb2xlLmRlYnVnKG1lc3NhZ2UsIGVudHJ5LmRhdGEgfHwgJycpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgTG9nTGV2ZWwuSU5GTzpcblx0XHRcdFx0Y29uc29sZS5pbmZvKG1lc3NhZ2UsIGVudHJ5LmRhdGEgfHwgJycpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgTG9nTGV2ZWwuV0FSTjpcblx0XHRcdFx0Y29uc29sZS53YXJuKG1lc3NhZ2UsIGVudHJ5LmRhdGEgfHwgJycpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgTG9nTGV2ZWwuRVJST1I6XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IobWVzc2FnZSwgZW50cnkuZGF0YSB8fCAnJyk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgbm90aWZ5TGlzdGVuZXJzKGVudHJ5OiBMb2dFbnRyeSk6IHZvaWQge1xuXHRcdHRoaXMubGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0bGlzdGVuZXIoZW50cnkpO1xuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcignXHU2NUU1XHU1RkQ3XHU3NkQxXHU1NDJDXHU1NjY4XHU5NTE5XHU4QkVGOicsIGVycm9yKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8vIFx1NTE2Q1x1NTE3MVx1NjVCOVx1NkNENVxuXHRnZXRMb2dzKGxldmVsPzogTG9nTGV2ZWwsIGxpbWl0PzogbnVtYmVyKTogTG9nRW50cnlbXSB7XG5cdFx0bGV0IGZpbHRlcmVkTG9ncyA9IHRoaXMubG9ncztcblxuXHRcdGlmIChsZXZlbCkge1xuXHRcdFx0ZmlsdGVyZWRMb2dzID0gZmlsdGVyZWRMb2dzLmZpbHRlcihsb2cgPT4gbG9nLmxldmVsID09PSBsZXZlbCk7XG5cdFx0fVxuXG5cdFx0aWYgKGxpbWl0ICYmIGxpbWl0ID4gMCkge1xuXHRcdFx0ZmlsdGVyZWRMb2dzID0gZmlsdGVyZWRMb2dzLnNsaWNlKC1saW1pdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFsuLi5maWx0ZXJlZExvZ3NdO1xuXHR9XG5cblx0Y2xlYXJMb2dzKCk6IHZvaWQge1xuXHRcdHRoaXMubG9ncyA9IFtdO1xuXHR9XG5cblx0b25Mb2cobGlzdGVuZXI6IChlbnRyeTogTG9nRW50cnkpID0+IHZvaWQpOiB2b2lkIHtcblx0XHR0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblx0fVxuXG5cdG9mZkxvZyhsaXN0ZW5lcjogKGVudHJ5OiBMb2dFbnRyeSkgPT4gdm9pZCk6IHZvaWQge1xuXHRcdGNvbnN0IGluZGV4ID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG5cdFx0aWYgKGluZGV4ID4gLTEpIHtcblx0XHRcdHRoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0fVxuXHR9XG5cblx0Z2V0U3RhdHMoKToge1xuXHRcdHRvdGFsOiBudW1iZXI7XG5cdFx0YnlMZXZlbDogUmVjb3JkPExvZ0xldmVsLCBudW1iZXI+O1xuXHRcdGJ5U291cmNlOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuXHRcdG9sZGVzdDogRGF0ZSB8IG51bGw7XG5cdFx0bmV3ZXN0OiBEYXRlIHwgbnVsbDtcblx0fSB7XG5cdFx0Y29uc3Qgc3RhdHMgPSB7XG5cdFx0XHR0b3RhbDogdGhpcy5sb2dzLmxlbmd0aCxcblx0XHRcdGJ5TGV2ZWw6IHtcblx0XHRcdFx0W0xvZ0xldmVsLkRFQlVHXTogMCxcblx0XHRcdFx0W0xvZ0xldmVsLklORk9dOiAwLFxuXHRcdFx0XHRbTG9nTGV2ZWwuV0FSTl06IDAsXG5cdFx0XHRcdFtMb2dMZXZlbC5FUlJPUl06IDBcblx0XHRcdH0sXG5cdFx0XHRieVNvdXJjZToge30gYXMgUmVjb3JkPHN0cmluZywgbnVtYmVyPixcblx0XHRcdG9sZGVzdDogdGhpcy5sb2dzLmxlbmd0aCA+IDAgPyB0aGlzLmxvZ3NbMF0udGltZXN0YW1wIDogbnVsbCxcblx0XHRcdG5ld2VzdDogdGhpcy5sb2dzLmxlbmd0aCA+IDAgPyB0aGlzLmxvZ3NbdGhpcy5sb2dzLmxlbmd0aCAtIDFdLnRpbWVzdGFtcCA6IG51bGxcblx0XHR9O1xuXG5cdFx0Zm9yIChjb25zdCBsb2cgb2YgdGhpcy5sb2dzKSB7XG5cdFx0XHQoc3RhdHMuYnlMZXZlbCBhcyBhbnkpW2xvZy5sZXZlbF0rKztcblxuXHRcdFx0aWYgKGxvZy5zb3VyY2UpIHtcblx0XHRcdFx0c3RhdHMuYnlTb3VyY2VbbG9nLnNvdXJjZV0gPSAoc3RhdHMuYnlTb3VyY2VbbG9nLnNvdXJjZV0gfHwgMCkgKyAxO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBzdGF0cztcblx0fVxuXG5cdGV4cG9ydExvZ3MoZm9ybWF0OiAnanNvbicgfCAndGV4dCcgPSAnanNvbicpOiBzdHJpbmcge1xuXHRcdGlmIChmb3JtYXQgPT09ICdqc29uJykge1xuXHRcdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMubG9ncywgbnVsbCwgMik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0aGlzLmxvZ3MubWFwKGxvZyA9PiB7XG5cdFx0XHRcdGNvbnN0IHRpbWVzdGFtcCA9IGxvZy50aW1lc3RhbXAudG9JU09TdHJpbmcoKTtcblx0XHRcdFx0Y29uc3QgbGV2ZWwgPSBsb2cubGV2ZWwudG9VcHBlckNhc2UoKS5wYWRFbmQoNSk7XG5cdFx0XHRcdGNvbnN0IHNvdXJjZSA9IGxvZy5zb3VyY2UgPyBgIFske2xvZy5zb3VyY2V9XWAgOiAnJztcblx0XHRcdFx0cmV0dXJuIGAke3RpbWVzdGFtcH0gJHtsZXZlbH0ke3NvdXJjZX0gJHtsb2cubWVzc2FnZX1gO1xuXHRcdFx0fSkuam9pbignXFxuJyk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gXHU1REU1XHU1MTc3XHU2NUI5XHU2Q0Q1XG5cdHN0YXRpYyBmb3JtYXRFcnJvcihlcnJvcjogYW55KTogc3RyaW5nIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0cmV0dXJuIGAke2Vycm9yLm5hbWV9OiAke2Vycm9yLm1lc3NhZ2V9XFxuJHtlcnJvci5zdGFjayB8fCAnJ31gO1xuXHRcdH0gZWxzZSBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xuXHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdHJldHVybiBTdHJpbmcoZXJyb3IpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBcdTYwMjdcdTgwRkRcdTc2RDFcdTYzQTdcdUZGMUFcdThCQjBcdTVGNTVcdTY1QjlcdTZDRDVcdTYyNjdcdTg4NENcdTY1RjZcdTk1RjRcblx0ICogQHBhcmFtIG1ldGhvZCBcdTg5ODFcdTc2RDFcdTYzQTdcdTc2ODRcdTY1QjlcdTZDRDVcblx0ICogQHBhcmFtIG1ldGhvZE5hbWUgXHU2NUI5XHU2Q0Q1XHU1NDBEXHU3OUYwXHVGRjA4XHU3NTI4XHU0RThFXHU2NUU1XHU1RkQ3XHVGRjA5XG5cdCAqIEByZXR1cm5zIFx1NTMwNVx1ODhDNVx1NTQwRVx1NzY4NFx1NjVCOVx1NkNENVxuXHQgKi9cblx0c3RhdGljIG1vbml0b3JQZXJmb3JtYW5jZTxUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KFxuXHRcdG1ldGhvZDogVCxcblx0XHRtZXRob2ROYW1lOiBzdHJpbmcsXG5cdFx0bG9nZ2VyOiBMb2dnZXJcblx0KTogVCB7XG5cdFx0cmV0dXJuICgoLi4uYXJnczogUGFyYW1ldGVyczxUPik6IFJldHVyblR5cGU8VD4gPT4ge1xuXHRcdFx0Y29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cdFx0XHRcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IHJlc3VsdCA9IG1ldGhvZCguLi5hcmdzKTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NjYyRlByb21pc2VcdUZGMENcdTc2RDFcdTYzQTdcdTVGMDJcdTZCNjVcdTYyNjdcdTg4NENcdTY1RjZcdTk1RjRcblx0XHRcdFx0aWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0LnRoZW4oYXN5bmNSZXN1bHQgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXHRcdFx0XHRcdFx0Y29uc3QgZHVyYXRpb24gPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuXHRcdFx0XHRcdFx0bG9nZ2VyLmRlYnVnKGBNZXRob2QgJHttZXRob2ROYW1lfSBjb21wbGV0ZWQgaW4gJHtkdXJhdGlvbi50b0ZpeGVkKDIpfW1zYCwgJ3BlcmZvcm1hbmNlJyk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gYXN5bmNSZXN1bHQ7XG5cdFx0XHRcdFx0fSkuY2F0Y2goZXJyb3IgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXHRcdFx0XHRcdFx0Y29uc3QgZHVyYXRpb24gPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuXHRcdFx0XHRcdFx0bG9nZ2VyLmVycm9yKGBNZXRob2QgJHttZXRob2ROYW1lfSBmYWlsZWQgYWZ0ZXIgJHtkdXJhdGlvbi50b0ZpeGVkKDIpfW1zOiAke3RoaXMuZm9ybWF0RXJyb3IoZXJyb3IpfWAsICdwZXJmb3JtYW5jZScpO1xuXHRcdFx0XHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0XHRcdFx0fSkgYXMgUmV0dXJuVHlwZTxUPjtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0Ly8gXHU1NDBDXHU2QjY1XHU2NUI5XHU2Q0Q1XG5cdFx0XHRcdGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcblx0XHRcdFx0Y29uc3QgZHVyYXRpb24gPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuXHRcdFx0XHRsb2dnZXIuZGVidWcoYE1ldGhvZCAke21ldGhvZE5hbWV9IGNvbXBsZXRlZCBpbiAke2R1cmF0aW9uLnRvRml4ZWQoMil9bXNgLCAncGVyZm9ybWFuY2UnKTtcblx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdFx0XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cdFx0XHRcdGNvbnN0IGR1cmF0aW9uID0gZW5kVGltZSAtIHN0YXJ0VGltZTtcblx0XHRcdFx0bG9nZ2VyLmVycm9yKGBNZXRob2QgJHttZXRob2ROYW1lfSBmYWlsZWQgYWZ0ZXIgJHtkdXJhdGlvbi50b0ZpeGVkKDIpfW1zOiAke3RoaXMuZm9ybWF0RXJyb3IoZXJyb3IpfWAsICdwZXJmb3JtYW5jZScpO1xuXHRcdFx0XHR0aHJvdyBlcnJvcjtcblx0XHRcdH1cblx0XHR9KSBhcyBUO1xuXHR9XG5cblx0c3RhdGljIGNyZWF0ZUNvbnRleHRMb2dnZXIoc291cmNlOiBzdHJpbmcsIHNldHRpbmdzOiBPcGVuQ2xhd01lbW9yeVN5bmNTZXR0aW5ncyk6IExvZ2dlciB7XG5cdFx0Y29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihzZXR0aW5ncyk7XG5cdFx0XG5cdFx0cmV0dXJuIHtcblx0XHRcdGRlYnVnOiAobWVzc2FnZTogc3RyaW5nLCBkYXRhPzogYW55KSA9PiBsb2dnZXIuZGVidWcobWVzc2FnZSwgc291cmNlLCBkYXRhKSxcblx0XHRcdGluZm86IChtZXNzYWdlOiBzdHJpbmcsIGRhdGE/OiBhbnkpID0+IGxvZ2dlci5pbmZvKG1lc3NhZ2UsIHNvdXJjZSwgZGF0YSksXG5cdFx0XHR3YXJuOiAobWVzc2FnZTogc3RyaW5nLCBkYXRhPzogYW55KSA9PiBsb2dnZXIud2FybihtZXNzYWdlLCBzb3VyY2UsIGRhdGEpLFxuXHRcdFx0ZXJyb3I6IChtZXNzYWdlOiBzdHJpbmcsIGRhdGE/OiBhbnkpID0+IGxvZ2dlci5lcnJvcihtZXNzYWdlLCBzb3VyY2UsIGRhdGEpLFxuXHRcdFx0Z2V0TG9nczogKGxldmVsPzogTG9nTGV2ZWwsIGxpbWl0PzogbnVtYmVyKSA9PiBsb2dnZXIuZ2V0TG9ncyhsZXZlbCwgbGltaXQpLFxuXHRcdFx0Y2xlYXJMb2dzOiAoKSA9PiBsb2dnZXIuY2xlYXJMb2dzKCksXG5cdFx0XHRvbkxvZzogKGxpc3RlbmVyOiAoZW50cnk6IExvZ0VudHJ5KSA9PiB2b2lkKSA9PiBsb2dnZXIub25Mb2cobGlzdGVuZXIpLFxuXHRcdFx0b2ZmTG9nOiAobGlzdGVuZXI6IChlbnRyeTogTG9nRW50cnkpID0+IHZvaWQpID0+IGxvZ2dlci5vZmZMb2cobGlzdGVuZXIpLFxuXHRcdFx0Z2V0U3RhdHM6ICgpID0+IGxvZ2dlci5nZXRTdGF0cygpLFxuXHRcdFx0ZXhwb3J0TG9nczogKGZvcm1hdD86ICdqc29uJyB8ICd0ZXh0JykgPT4gbG9nZ2VyLmV4cG9ydExvZ3MoZm9ybWF0KVxuXHRcdH0gYXMgTG9nZ2VyO1xuXHR9XG59Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUFBLG1CQUErRTs7O0FDMkR4RSxJQUFN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WSxVQUNYLEtBQ0csZUFBZSwwQkFBMEIsRUFDekMsU0FBUyxLQUFLLE9BQU8sU0FBUyxnQkFBZ0IsS0FBSyxJQUFJLENBQUMsRUFDeEQsU0FBUyxPQUFNLFVBQVM7QUFDdkIsYUFBSyxPQUFPLFNBQVMsa0JBQWtCLE1BQU0sTUFBTSxJQUFJLEVBQUUsT0FBTyxPQUFLLEVBQUUsS0FBSyxDQUFDO0FBQzdFLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNqQyxDQUFDO0FBQUEsSUFDTDtBQUVGLFFBQUkseUJBQVEsV0FBVyxFQUNwQixRQUFRLDBCQUFNLEVBQ2QsUUFBUSw4REFBWSxFQUNwQjtBQUFBLE1BQVksY0FDWCxTQUNHLFVBQVUsU0FBUyxjQUFJLEVBQ3ZCLFVBQVUsUUFBUSxjQUFJLEVBQ3RCLFVBQVUsUUFBUSxjQUFJLEVBQ3RCLFVBQVUsU0FBUyxjQUFJLEVBQ3ZCLFNBQVMsS0FBSyxPQUFPLFNBQVMsUUFBUSxFQUN0QyxTQUFTLE9BQU8sVUFBZTtBQUM5QixhQUFLLE9BQU8sU0FBUyxXQUFXO0FBQ2hDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNqQyxDQUFDO0FBQUEsSUFDTDtBQUdGLFFBQUkseUJBQVEsV0FBVyxFQUNwQixRQUFRLDBCQUFNLEVBQ2QsUUFBUSxvRUFBdUIsRUFDL0I7QUFBQSxNQUFVLFlBQ1QsT0FBTyxjQUFjLDBCQUFNLEVBQUUsUUFBUSxZQUFZO0FBQy9DLFlBQUk7QUFDRixnQkFBTSxLQUFLLE9BQU8sVUFBVSxlQUFlO0FBQzNDLGNBQUksd0JBQU8sNkNBQVU7QUFBQSxRQUN2QixTQUFTLE9BQVA7QUFDQSxjQUFJLHdCQUFPLGdEQUFhLE1BQU0sU0FBUztBQUFBLFFBQ3pDO0FBQUEsTUFDRixDQUFDO0FBQUEsSUFDSDtBQUdGLFFBQUkseUJBQVEsV0FBVyxFQUNwQixRQUFRLDBCQUFNLEVBQ2QsUUFBUSxzQ0FBUSxFQUNoQjtBQUFBLE1BQVUsWUFDVCxPQUFPLGNBQWMsMEJBQU0sRUFBRSxRQUFRLFlBQVk7QUFDL0MsY0FBTSxLQUFLLE9BQU8sUUFBUTtBQUFBLE1BQzVCLENBQUM7QUFBQSxJQUNIO0FBQUEsRUFDSjtBQUNGOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAiZm9sZGVyIiwgImltcG9ydF9vYnNpZGlhbiIsICJhcHAiLCAidGl0bGUiLCAiY29udGVudCIsICJpbXBvcnRfb2JzaWRpYW4iLCAiZW5kVGltZSIsICJkdXJhdGlvbiJdCn0K
