/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => OpenClawMemorySync
});
module.exports = __toCommonJS(main_exports);
var import_obsidian4 = require("obsidian");

// api-client.ts
var OpenClawAPIClient = class {
  constructor(settings) {
    this.settings = settings;
    this.ws = null;
    this.reconnectAttempts = 0;
    this.maxReconnectAttempts = 5;
    this.reconnectDelay = 1e3;
    this.messageHandlers = /* @__PURE__ */ new Map();
    this.baseUrl = `http://${settings.apiUrl}:${settings.apiPort}`;
    this.wsUrl = `ws://${settings.apiUrl}:8766`;
  }
  async connect() {
    await this.testConnection();
    if (this.settings.enableWebSocket) {
      await this.connectWebSocket();
    }
  }
  async disconnect() {
    if (this.ws) {
      this.ws.close();
      this.ws = null;
    }
  }
  async testConnection() {
    try {
      const response = await fetch(`${this.baseUrl}/health`);
      if (!response.ok) {
        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
      }
      const data = await response.json();
      if (data.status !== "ok") {
        throw new Error("API\u670D\u52A1\u5668\u72B6\u6001\u5F02\u5E38");
      }
      console.log("OpenClaw API\u8FDE\u63A5\u6D4B\u8BD5\u6210\u529F");
    } catch (error) {
      console.error("OpenClaw API\u8FDE\u63A5\u6D4B\u8BD5\u5931\u8D25:", error);
      throw new Error(`\u8FDE\u63A5\u6D4B\u8BD5\u5931\u8D25: ${error.message}`);
    }
  }
  async getMemoryInfo() {
    const response = await this.fetchWithRetry(`${this.baseUrl}/api/memory/info`);
    return await response.json();
  }
  async getFiles() {
    const response = await this.fetchWithRetry(`${this.baseUrl}/api/memory/files`);
    const data = await response.json();
    return data.files.map((file) => ({
      ...file,
      created: new Date(file.created),
      modified: new Date(file.modified)
    }));
  }
  async getFile(filename) {
    const response = await this.fetchWithRetry(`${this.baseUrl}/api/memory/files/${filename}`);
    const data = await response.json();
    return {
      ...data,
      stats: {
        ...data.stats,
        created: new Date(data.stats.created),
        modified: new Date(data.stats.modified)
      }
    };
  }
  async saveFile(filename, content) {
    const response = await fetch(`${this.baseUrl}/api/memory/files/${filename}`, {
      method: "POST",
      headers: {
        "Content-Type": "text/plain"
      },
      body: content
    });
    if (!response.ok) {
      throw new Error(`\u4FDD\u5B58\u6587\u4EF6\u5931\u8D25: ${response.statusText}`);
    }
  }
  async deleteFile(filename) {
    const response = await fetch(`${this.baseUrl}/api/memory/files/${filename}`, {
      method: "DELETE"
    });
    if (!response.ok) {
      throw new Error(`\u5220\u9664\u6587\u4EF6\u5931\u8D25: ${response.statusText}`);
    }
  }
  async search(query) {
    const response = await this.fetchWithRetry(`${this.baseUrl}/api/memory/search?q=${encodeURIComponent(query)}`);
    const data = await response.json();
    return data.results;
  }
  async getStats() {
    const response = await this.fetchWithRetry(`${this.baseUrl}/api/memory/stats`);
    const data = await response.json();
    return {
      ...data,
      lastUpdated: new Date(data.lastUpdated)
    };
  }
  async fetchWithRetry(url, options = {}, retries = 3) {
    for (let i = 0; i < retries; i++) {
      try {
        const response = await fetch(url, options);
        if (response.ok) {
          return response;
        }
        if (i < retries - 1) {
          await this.sleep(1e3 * (i + 1));
        }
      } catch (error) {
        if (i < retries - 1) {
          await this.sleep(1e3 * (i + 1));
        } else {
          throw error;
        }
      }
    }
    throw new Error(`\u8BF7\u6C42\u5931\u8D25: ${url}`);
  }
  sleep(ms) {
    return new Promise((resolve) => setTimeout(resolve, ms));
  }
  // WebSocket相关方法
  async connectWebSocket() {
    return new Promise((resolve, reject) => {
      try {
        this.ws = new WebSocket(this.wsUrl);
        this.ws.onopen = () => {
          var _a;
          console.log("OpenClaw WebSocket\u8FDE\u63A5\u6210\u529F");
          this.reconnectAttempts = 0;
          (_a = this.ws) == null ? void 0 : _a.send(JSON.stringify({
            type: "subscribe",
            channels: ["file_changes"]
          }));
          resolve();
        };
        this.ws.onmessage = (event) => {
          try {
            const message = JSON.parse(event.data);
            this.handleWebSocketMessage(message);
          } catch (error) {
            console.error("WebSocket\u6D88\u606F\u89E3\u6790\u5931\u8D25:", error);
          }
        };
        this.ws.onclose = () => {
          console.log("OpenClaw WebSocket\u8FDE\u63A5\u5173\u95ED");
          this.ws = null;
          if (this.reconnectAttempts < this.maxReconnectAttempts) {
            this.reconnectAttempts++;
            const delay = this.reconnectDelay * Math.pow(2, this.reconnectAttempts - 1);
            console.log(`WebSocket\u5C06\u5728 ${delay}ms \u540E\u91CD\u8FDE (\u5C1D\u8BD5 ${this.reconnectAttempts}/${this.maxReconnectAttempts})`);
            setTimeout(() => {
              this.connectWebSocket().catch(console.error);
            }, delay);
          }
        };
        this.ws.onerror = (error) => {
          console.error("OpenClaw WebSocket\u9519\u8BEF:", error);
          reject(error);
        };
      } catch (error) {
        reject(error);
      }
    });
  }
  handleWebSocketMessage(message) {
    var _a;
    switch (message.type) {
      case "welcome":
        console.log("WebSocket\u6B22\u8FCE\u6D88\u606F:", ((_a = message.data) == null ? void 0 : _a.message) || "Connected");
        break;
      case "notification":
        this.emit(message.event || "unknown", message.data);
        break;
      case "pong":
        break;
      default:
        console.log("\u672A\u77E5\u7684WebSocket\u6D88\u606F\u7C7B\u578B:", message.type);
    }
  }
  // 事件系统
  on(event, handler) {
    var _a;
    if (!this.messageHandlers.has(event)) {
      this.messageHandlers.set(event, []);
    }
    (_a = this.messageHandlers.get(event)) == null ? void 0 : _a.push(handler);
  }
  off(event, handler) {
    const handlers = this.messageHandlers.get(event);
    if (handlers) {
      const index = handlers.indexOf(handler);
      if (index > -1) {
        handlers.splice(index, 1);
      }
    }
  }
  emit(event, data) {
    const handlers = this.messageHandlers.get(event);
    if (handlers) {
      handlers.forEach((handler) => {
        try {
          handler(data);
        } catch (error) {
          console.error(`\u4E8B\u4EF6\u5904\u7406\u5668\u9519\u8BEF (${event}):`, error);
        }
      });
    }
  }
  // 工具方法
  isConnected() {
    return this.ws !== null && this.ws.readyState === WebSocket.OPEN;
  }
  getConnectionStatus() {
    if (!this.ws) {
      return "disconnected";
    }
    switch (this.ws.readyState) {
      case WebSocket.CONNECTING:
        return "connecting";
      case WebSocket.OPEN:
        return "connected";
      case WebSocket.CLOSING:
        return "closing";
      case WebSocket.CLOSED:
        return "closed";
      default:
        return "unknown";
    }
  }
};

// sync-engine.ts
var import_obsidian = require("obsidian");
var SyncEngine = class {
  constructor(app, apiClient, settings) {
    this.app = app;
    this.apiClient = apiClient;
    this.settings = settings;
    this.status = {
      state: "idle" /* IDLE */,
      progress: 0,
      currentFile: "",
      filesSynced: 0,
      totalFiles: 0,
      lastSync: null,
      errors: []
    };
    this.statusChangeHandlers = [];
    this.isPaused = false;
    this.syncQueue = [];
    this.fileCache = /* @__PURE__ */ new Map();
    if (this.settings.enableWebSocket) {
      this.apiClient.on("file_changed", (data) => {
        this.handleRemoteChange(data);
      });
    }
  }
  async sync() {
    if (this.status.state === "syncing" /* SYNCING */) {
      throw new Error("\u540C\u6B65\u6B63\u5728\u8FDB\u884C\u4E2D");
    }
    if (this.isPaused) {
      throw new Error("\u540C\u6B65\u5DF2\u6682\u505C");
    }
    try {
      this.updateStatus({
        state: "syncing" /* SYNCING */,
        progress: 0,
        currentFile: "\u6B63\u5728\u51C6\u5907\u540C\u6B65...",
        filesSynced: 0,
        totalFiles: 0,
        errors: []
      });
      const remoteFiles = await this.apiClient.getFiles();
      const localFiles = await this.getLocalFiles();
      const diff = this.calculateDiff(remoteFiles, localFiles);
      await this.applyDiff(diff);
      this.updateStatus({
        state: "idle" /* IDLE */,
        progress: 100,
        currentFile: "",
        filesSynced: diff.added.length + diff.modified.length + diff.deleted.length,
        totalFiles: remoteFiles.length + localFiles.length,
        lastSync: new Date(),
        errors: []
      });
    } catch (error) {
      this.updateStatus({
        state: "error" /* ERROR */,
        errors: [
          {
            message: error.message,
            timestamp: new Date(),
            retryable: true
          }
        ]
      });
      throw error;
    }
  }
  async getLocalFiles() {
    const targetFolder = this.settings.targetFolder;
    const folder = this.app.vault.getAbstractFileByPath(targetFolder);
    if (!folder || !(folder instanceof import_obsidian.TFolder)) {
      return [];
    }
    const files = [];
    const walkFolder = (folder2) => {
      for (const child of folder2.children) {
        if (child instanceof import_obsidian.TFile && child.extension === "md") {
          if (this.isExcluded(child.path)) {
            continue;
          }
          files.push({
            name: child.name,
            path: child.path,
            size: child.stat.size,
            created: new Date(child.stat.ctime),
            modified: new Date(child.stat.mtime),
            lines: this.app.vault.read(child).then((content) => content.split("\n").length).catch(() => 0),
            preview: ""
          });
        } else if (child instanceof import_obsidian.TFolder) {
          walkFolder(child);
        }
      }
    };
    walkFolder(folder);
    for (const file of files) {
      file.lines = await file.lines;
    }
    return files;
  }
  calculateDiff(remoteFiles, localFiles) {
    const diff = {
      added: [],
      modified: [],
      deleted: [],
      conflicts: []
    };
    const remoteMap = new Map(remoteFiles.map((f) => [f.name, f]));
    const localMap = new Map(localFiles.map((f) => [f.name, f]));
    for (const [filename] of remoteMap) {
      if (!localMap.has(filename)) {
        diff.added.push(filename);
      }
    }
    for (const [filename] of localMap) {
      if (!remoteMap.has(filename)) {
        if (this.settings.conflictStrategy === "local") {
          diff.added.push(filename);
        } else {
          diff.deleted.push(filename);
        }
      }
    }
    for (const [filename, remoteFile] of remoteMap) {
      const localFile = localMap.get(filename);
      if (localFile) {
        const remoteTime = remoteFile.modified.getTime();
        const localTime = localFile.modified.getTime();
        if (Math.abs(remoteTime - localTime) > 1e3) {
          diff.modified.push(filename);
          const cached = this.fileCache.get(filename);
          if (cached && Math.abs(cached.modified.getTime() - remoteTime) > 1e3 && Math.abs(cached.modified.getTime() - localTime) > 1e3) {
            diff.conflicts.push(filename);
          }
        }
      }
    }
    return diff;
  }
  async applyDiff(diff) {
    const totalOperations = diff.added.length + diff.modified.length + diff.deleted.length;
    let completedOperations = 0;
    for (const filename of diff.added) {
      this.updateStatus({
        currentFile: `\u6B63\u5728\u4E0B\u8F7D: ${filename}`,
        progress: completedOperations / totalOperations * 100
      });
      try {
        const fileContent = await this.apiClient.getFile(filename);
        await this.saveLocalFile(filename, fileContent.content);
        completedOperations++;
      } catch (error) {
        this.addError(`\u4E0B\u8F7D\u6587\u4EF6\u5931\u8D25: ${filename}`, error, true);
      }
    }
    for (const filename of diff.modified) {
      this.updateStatus({
        currentFile: `\u6B63\u5728\u540C\u6B65: ${filename}`,
        progress: completedOperations / totalOperations * 100
      });
      try {
        if (diff.conflicts.includes(filename)) {
          await this.resolveConflict(filename);
        } else {
          const fileContent = await this.apiClient.getFile(filename);
          await this.saveLocalFile(filename, fileContent.content);
        }
        completedOperations++;
      } catch (error) {
        this.addError(`\u540C\u6B65\u6587\u4EF6\u5931\u8D25: ${filename}`, error, true);
      }
    }
    for (const filename of diff.deleted) {
      this.updateStatus({
        currentFile: `\u6B63\u5728\u5220\u9664: ${filename}`,
        progress: completedOperations / totalOperations * 100
      });
      try {
        await this.deleteLocalFile(filename);
        completedOperations++;
      } catch (error) {
        this.addError(`\u5220\u9664\u6587\u4EF6\u5931\u8D25: ${filename}`, error, false);
      }
    }
  }
  async resolveConflict(filename) {
    switch (this.settings.conflictStrategy) {
      case "timestamp":
        await this.resolveByTimestamp(filename);
        break;
      case "local":
        await this.uploadLocalFile(filename);
        break;
      case "remote":
        await this.downloadRemoteFile(filename);
        break;
      case "ask":
        await this.resolveByTimestamp(filename);
        break;
    }
  }
  async resolveByTimestamp(filename) {
    try {
      const remoteFile = await this.apiClient.getFile(filename);
      const localPath = this.getLocalPath(filename);
      const localFile = this.app.vault.getAbstractFileByPath(localPath);
      if (localFile instanceof import_obsidian.TFile) {
        const remoteTime = remoteFile.stats.modified.getTime();
        const localTime = localFile.stat.mtime;
        if (remoteTime > localTime) {
          await this.saveLocalFile(filename, remoteFile.content);
        } else {
          const localContent = await this.app.vault.read(localFile);
          await this.apiClient.saveFile(filename, localContent);
        }
      }
    } catch (error) {
      throw new Error(`\u51B2\u7A81\u89E3\u51B3\u5931\u8D25: ${error.message}`);
    }
  }
  async downloadRemoteFile(filename) {
    const fileContent = await this.apiClient.getFile(filename);
    await this.saveLocalFile(filename, fileContent.content);
  }
  async uploadLocalFile(filename) {
    const localPath = this.getLocalPath(filename);
    const localFile = this.app.vault.getAbstractFileByPath(localPath);
    if (localFile instanceof import_obsidian.TFile) {
      const content = await this.app.vault.read(localFile);
      await this.apiClient.saveFile(filename, content);
    }
  }
  async saveLocalFile(filename, content) {
    const filePath = this.getLocalPath(filename);
    const normalizedPath = (0, import_obsidian.normalizePath)(filePath);
    const dirPath = normalizedPath.split("/").slice(0, -1).join("/");
    if (dirPath) {
      await this.app.vault.createFolder(dirPath).catch(() => {
      });
    }
    const existingFile = this.app.vault.getAbstractFileByPath(normalizedPath);
    if (existingFile instanceof import_obsidian.TFile) {
      await this.app.vault.modify(existingFile, content);
    } else {
      await this.app.vault.create(normalizedPath, content);
    }
    this.fileCache.set(filename, {
      content,
      modified: new Date()
    });
  }
  async deleteLocalFile(filename) {
    const filePath = this.getLocalPath(filename);
    const file = this.app.vault.getAbstractFileByPath(filePath);
    if (file instanceof import_obsidian.TFile) {
      await this.app.vault.delete(file);
    }
    this.fileCache.delete(filename);
  }
  getLocalPath(filename) {
    return (0, import_obsidian.normalizePath)(`${this.settings.targetFolder}/${filename}`);
  }
  isExcluded(filePath) {
    for (const pattern of this.settings.excludePatterns) {
      if (pattern.startsWith("*.")) {
        const ext = pattern.substring(1);
        if (filePath.endsWith(ext)) {
          return true;
        }
      } else if (pattern.startsWith(".")) {
        const parts = filePath.split("/");
        if (parts.some((part) => part.startsWith("."))) {
          return true;
        }
      } else if (pattern.endsWith("/")) {
        if (filePath.includes(pattern)) {
          return true;
        }
      } else {
        if (filePath === pattern) {
          return true;
        }
      }
    }
    return false;
  }
  async handleRemoteChange(data) {
    if (this.status.state !== "idle" /* IDLE */ || this.isPaused) {
      return;
    }
    const { event, filename } = data;
    try {
      switch (event) {
        case "added":
        case "changed": {
          const fileContent = await this.apiClient.getFile(filename);
          await this.saveLocalFile(filename, fileContent.content);
          break;
        }
        case "deleted": {
          await this.deleteLocalFile(filename);
          break;
        }
      }
    } catch (error) {
      console.error(`\u5904\u7406\u8FDC\u7A0B\u53D8\u66F4\u5931\u8D25 (${event}: ${filename}):`, error);
    }
  }
  // 状态管理
  updateStatus(updates) {
    this.status = { ...this.status, ...updates };
    this.notifyStatusChange();
  }
  addError(message, error, retryable) {
    this.status.errors.push({
      message: `${message}: ${error.message}`,
      timestamp: new Date(),
      retryable
    });
    this.notifyStatusChange();
  }
  notifyStatusChange() {
    this.statusChangeHandlers.forEach((handler) => {
      try {
        handler({ ...this.status });
      } catch (error) {
        console.error("\u72B6\u6001\u53D8\u66F4\u5904\u7406\u5668\u9519\u8BEF:", error);
      }
    });
  }
  // 公共方法
  getStatus() {
    return { ...this.status };
  }
  onStatusChange(handler) {
    this.statusChangeHandlers.push(handler);
  }
  offStatusChange(handler) {
    const index = this.statusChangeHandlers.indexOf(handler);
    if (index > -1) {
      this.statusChangeHandlers.splice(index, 1);
    }
  }
  pause() {
    this.isPaused = true;
    if (this.status.state === "syncing" /* SYNCING */) {
      this.updateStatus({ state: "paused" /* PAUSED */ });
    }
  }
  resume() {
    this.isPaused = false;
    if (this.status.state === "paused" /* PAUSED */) {
      this.updateStatus({ state: "idle" /* IDLE */ });
    }
  }
  isPausedState() {
    return this.isPaused;
  }
  cleanup() {
    this.statusChangeHandlers = [];
    this.fileCache.clear();
    this.syncQueue = [];
  }
};

// src/views/memory-view.ts
var import_obsidian2 = require("obsidian");
var MEMORY_VIEW_TYPE = "openclaw-memory-view";
var MemoryView = class extends import_obsidian2.ItemView {
  constructor(leaf, apiClient) {
    super(leaf);
    this.files = [];
    this.filteredFiles = [];
    this.searchQuery = "";
    this.sortBy = "modified";
    this.sortOrder = "desc";
    this.isLoading = false;
    this.lastRefresh = null;
    this.apiClient = apiClient;
  }
  getViewType() {
    return MEMORY_VIEW_TYPE;
  }
  getDisplayText() {
    return "OpenClaw\u8BB0\u5FC6\u5E93";
  }
  getIcon() {
    return "brain";
  }
  async onOpen() {
    const container = this.containerEl.children[1];
    container.empty();
    const mainContainer = container.createDiv({ cls: "openclaw-memory-view" });
    const header = mainContainer.createDiv({ cls: "openclaw-memory-header" });
    header.createEl("h2", { text: "OpenClaw\u8BB0\u5FC6\u5E93" });
    const controls = mainContainer.createDiv({ cls: "openclaw-memory-controls" });
    const searchContainer = controls.createDiv({ cls: "search-container" });
    const searchInput = searchContainer.createEl("input", {
      type: "text",
      placeholder: "\u641C\u7D22\u8BB0\u5FC6\u6587\u4EF6...",
      cls: "search-input"
    });
    searchInput.addEventListener("input", (e) => {
      this.searchQuery = e.target.value;
      this.filterAndSortFiles();
      this.renderFileList();
    });
    const sortContainer = controls.createDiv({ cls: "sort-container" });
    const sortBySelect = sortContainer.createEl("select", { cls: "sort-select" });
    sortBySelect.createEl("option", { value: "name", text: "\u6309\u540D\u79F0" });
    sortBySelect.createEl("option", { value: "size", text: "\u6309\u5927\u5C0F" });
    sortBySelect.createEl("option", { value: "modified", text: "\u6309\u4FEE\u6539\u65F6\u95F4" });
    sortBySelect.createEl("option", { value: "created", text: "\u6309\u521B\u5EFA\u65F6\u95F4" });
    sortBySelect.value = this.sortBy;
    sortBySelect.addEventListener("change", (e) => {
      this.sortBy = e.target.value;
      this.filterAndSortFiles();
      this.renderFileList();
    });
    const sortOrderButton = sortContainer.createEl("button", {
      text: this.sortOrder === "desc" ? "\u2193" : "\u2191",
      cls: "sort-order-button"
    });
    sortOrderButton.addEventListener("click", () => {
      this.sortOrder = this.sortOrder === "desc" ? "asc" : "desc";
      sortOrderButton.setText(this.sortOrder === "desc" ? "\u2193" : "\u2191");
      this.filterAndSortFiles();
      this.renderFileList();
    });
    const refreshButton = controls.createEl("button", {
      text: "\u5237\u65B0",
      cls: "refresh-button"
    });
    refreshButton.addEventListener("click", () => {
      this.refreshFiles();
    });
    const fileListContainer = mainContainer.createDiv({ cls: "file-list-container" });
    this.contentEl = fileListContainer;
    const statusBar = mainContainer.createDiv({ cls: "status-bar" });
    this.statusEl = statusBar;
    await this.refreshFiles();
  }
  async onClose() {
  }
  async refreshFiles() {
    this.isLoading = true;
    this.updateStatus("\u6B63\u5728\u52A0\u8F7D\u6587\u4EF6...");
    try {
      this.files = await this.apiClient.getFiles();
      this.lastRefresh = new Date();
      this.filterAndSortFiles();
      this.renderFileList();
      this.updateStatus(`\u5DF2\u52A0\u8F7D ${this.files.length} \u4E2A\u6587\u4EF6`);
    } catch (error) {
      this.updateStatus(`\u52A0\u8F7D\u5931\u8D25: ${error.message}`, "error");
      console.error("\u52A0\u8F7D\u6587\u4EF6\u5931\u8D25:", error);
    } finally {
      this.isLoading = false;
    }
  }
  filterAndSortFiles() {
    if (this.searchQuery.trim()) {
      const query = this.searchQuery.toLowerCase();
      this.filteredFiles = this.files.filter(
        (file) => file.name.toLowerCase().includes(query) || file.path.toLowerCase().includes(query)
      );
    } else {
      this.filteredFiles = [...this.files];
    }
    this.filteredFiles.sort((a, b) => {
      let comparison = 0;
      switch (this.sortBy) {
        case "name":
          comparison = a.name.localeCompare(b.name);
          break;
        case "size":
          comparison = a.size - b.size;
          break;
        case "modified":
          comparison = a.modified.getTime() - b.modified.getTime();
          break;
        case "created":
          comparison = a.created.getTime() - b.created.getTime();
          break;
      }
      return this.sortOrder === "desc" ? -comparison : comparison;
    });
  }
  renderFileList() {
    this.contentEl.empty();
    if (this.filteredFiles.length === 0) {
      if (this.searchQuery.trim()) {
        this.contentEl.createEl("p", {
          text: `\u6CA1\u6709\u627E\u5230\u5305\u542B "${this.searchQuery}" \u7684\u6587\u4EF6`,
          cls: "no-results"
        });
      } else {
        this.contentEl.createEl("p", {
          text: "\u6CA1\u6709\u627E\u5230\u6587\u4EF6",
          cls: "no-results"
        });
      }
      return;
    }
    const fileList = this.contentEl.createEl("div", { cls: "file-list" });
    for (const file of this.filteredFiles) {
      const fileItem = fileList.createEl("div", { cls: "file-item" });
      const fileHeader = fileItem.createEl("div", { cls: "file-header" });
      fileHeader.createEl("span", {
        text: "\u{1F4C4}",
        cls: "file-icon"
      });
      const fileName = fileHeader.createEl("span", {
        text: file.name,
        cls: "file-name"
      });
      fileName.addEventListener("click", () => {
        this.openFile(file);
      });
      const fileInfo = fileItem.createEl("div", { cls: "file-info" });
      fileInfo.createEl("span", {
        text: file.path,
        cls: "file-path"
      });
      fileInfo.createEl("span", {
        text: this.formatFileSize(file.size),
        cls: "file-size"
      });
      fileInfo.createEl("span", {
        text: `${file.lines} \u884C`,
        cls: "file-lines"
      });
      fileInfo.createEl("span", {
        text: this.formatDate(file.modified),
        cls: "file-modified"
      });
      const actions = fileItem.createEl("div", { cls: "file-actions" });
      const previewButton = actions.createEl("button", {
        text: "\u9884\u89C8",
        cls: "preview-button"
      });
      previewButton.addEventListener("click", () => {
        this.previewFile(file);
      });
      const downloadButton = actions.createEl("button", {
        text: "\u4E0B\u8F7D",
        cls: "download-button"
      });
      downloadButton.addEventListener("click", () => {
        this.downloadFile(file);
      });
      const deleteButton = actions.createEl("button", {
        text: "\u5220\u9664",
        cls: "delete-button"
      });
      deleteButton.addEventListener("click", () => {
        this.deleteFile(file);
      });
    }
  }
  async openFile(file) {
    try {
      const fileContent = await this.apiClient.getFile(file.name);
      const leaf = this.app.workspace.getLeaf(true);
      await leaf.openFile(await this.app.vault.create(`${file.name}`, fileContent.content));
    } catch (error) {
      new import_obsidian2.Notice(`\u6253\u5F00\u6587\u4EF6\u5931\u8D25: ${error.message}`);
      console.error("\u6253\u5F00\u6587\u4EF6\u5931\u8D25:", error);
    }
  }
  async previewFile(file) {
    try {
      const fileContent = await this.apiClient.getFile(file.name);
      const modal = new PreviewModal(this.app, file.name, fileContent.content);
      modal.open();
    } catch (error) {
      new import_obsidian2.Notice(`\u9884\u89C8\u6587\u4EF6\u5931\u8D25: ${error.message}`);
      console.error("\u9884\u89C8\u6587\u4EF6\u5931\u8D25:", error);
    }
  }
  async downloadFile(file) {
    try {
      const fileContent = await this.apiClient.getFile(file.name);
      const blob = new Blob([fileContent.content], { type: "text/plain" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = file.name;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      new import_obsidian2.Notice(`\u5DF2\u4E0B\u8F7D: ${file.name}`);
    } catch (error) {
      new import_obsidian2.Notice(`\u4E0B\u8F7D\u6587\u4EF6\u5931\u8D25: ${error.message}`);
      console.error("\u4E0B\u8F7D\u6587\u4EF6\u5931\u8D25:", error);
    }
  }
  async deleteFile(file) {
    const confirmed = confirm(`\u786E\u5B9A\u8981\u5220\u9664 "${file.name}" \u5417\uFF1F`);
    if (!confirmed) {
      return;
    }
    try {
      await this.apiClient.deleteFile(file.name);
      new import_obsidian2.Notice(`\u5DF2\u5220\u9664: ${file.name}`);
      await this.refreshFiles();
    } catch (error) {
      new import_obsidian2.Notice(`\u5220\u9664\u6587\u4EF6\u5931\u8D25: ${error.message}`);
      console.error("\u5220\u9664\u6587\u4EF6\u5931\u8D25:", error);
    }
  }
  updateStatus(message, type = "info") {
    this.statusEl.empty();
    this.statusEl.createEl("span", {
      text: message,
      cls: `status-text status-${type}`
    });
    if (this.lastRefresh) {
      this.statusEl.createEl("span", {
        text: ` | \u6700\u540E\u66F4\u65B0: ${this.formatDate(this.lastRefresh)}`,
        cls: "last-refresh"
      });
    }
  }
  formatFileSize(bytes) {
    if (bytes === 0) {
      return "0 B";
    }
    const k = 1024;
    const sizes = ["B", "KB", "MB", "GB"];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + " " + sizes[i];
  }
  formatDate(date) {
    const now = new Date();
    const diffMs = now.getTime() - date.getTime();
    const diffDays = Math.floor(diffMs / (1e3 * 60 * 60 * 24));
    if (diffDays === 0) {
      return date.toLocaleTimeString();
    } else if (diffDays === 1) {
      return "\u6628\u5929 " + date.toLocaleTimeString();
    } else if (diffDays < 7) {
      return `${diffDays}\u5929\u524D`;
    } else {
      return date.toLocaleDateString();
    }
  }
  static open(app) {
    const leaf = app.workspace.getLeaf(true);
    leaf.setViewState({
      type: MEMORY_VIEW_TYPE,
      active: true
    }).then();
  }
};
var PreviewModal = class {
  constructor(app, title, content) {
    this.modal = new class extends app.Modal {
      constructor(app2, title2, content2) {
        super(app2);
        this.title = title2;
        this.content = content2;
      }
      onOpen() {
        const { contentEl } = this;
        contentEl.createEl("h2", { text: this.title });
        const previewArea = contentEl.createEl("div", {
          cls: "preview-area"
        });
        const textarea = previewArea.createEl("textarea", {
          value: this.content,
          cls: "preview-textarea"
        });
        textarea.readOnly = true;
        textarea.style.width = "100%";
        textarea.style.height = "400px";
        textarea.style.fontFamily = "monospace";
      }
      onClose() {
        const { contentEl } = this;
        contentEl.empty();
      }
    }(app, title, content);
  }
  open() {
    this.modal.open();
  }
  close() {
    this.modal.close();
  }
};

// src/views/sync-status.ts
var import_obsidian3 = require("obsidian");
var SYNC_STATUS_VIEW_TYPE = "openclaw-sync-status-view";
var SyncStatusView = class extends import_obsidian3.ItemView {
  constructor(leaf, syncEngine) {
    super(leaf);
    this.isAutoRefresh = true;
    this.refreshIntervalId = 0;
    this.errorDetailsVisible = /* @__PURE__ */ new Map();
    this.syncEngine = syncEngine;
    this.status = syncEngine.getStatus();
    this.syncEngine.onStatusChange((newStatus) => {
      this.status = newStatus;
      this.render();
    });
  }
  getViewType() {
    return SYNC_STATUS_VIEW_TYPE;
  }
  getDisplayText() {
    return "OpenClaw\u540C\u6B65\u72B6\u6001";
  }
  getIcon() {
    return "refresh-cw";
  }
  async onOpen() {
    const container = this.containerEl.children[1];
    container.empty();
    const mainContainer = container.createDiv({ cls: "openclaw-sync-status-view" });
    const header = mainContainer.createDiv({ cls: "sync-status-header" });
    header.createEl("h2", { text: "OpenClaw\u540C\u6B65\u72B6\u6001" });
    const controls = mainContainer.createDiv({ cls: "sync-controls" });
    const syncNowButton = controls.createEl("button", {
      text: "\u7ACB\u5373\u540C\u6B65",
      cls: "sync-now-button"
    });
    syncNowButton.addEventListener("click", () => {
      this.syncEngine.sync().catch((error) => {
        new import_obsidian3.Notice(`\u540C\u6B65\u5931\u8D25: ${error.message}`);
      });
    });
    const pauseResumeButton = controls.createEl("button", {
      text: this.syncEngine.isPausedState() ? "\u6062\u590D\u540C\u6B65" : "\u6682\u505C\u540C\u6B65",
      cls: "pause-resume-button"
    });
    pauseResumeButton.addEventListener("click", () => {
      if (this.syncEngine.isPausedState()) {
        this.syncEngine.resume();
        pauseResumeButton.setText("\u6682\u505C\u540C\u6B65");
        new import_obsidian3.Notice("\u540C\u6B65\u5DF2\u6062\u590D");
      } else {
        this.syncEngine.pause();
        pauseResumeButton.setText("\u6062\u590D\u540C\u6B65");
        new import_obsidian3.Notice("\u540C\u6B65\u5DF2\u6682\u505C");
      }
    });
    const autoRefreshContainer = controls.createDiv({ cls: "auto-refresh-container" });
    const autoRefreshCheckbox = autoRefreshContainer.createEl("input", {
      type: "checkbox",
      cls: "auto-refresh-checkbox"
    });
    autoRefreshCheckbox.id = "auto-refresh";
    autoRefreshCheckbox.checked = this.isAutoRefresh;
    autoRefreshCheckbox.addEventListener("change", (e) => {
      this.isAutoRefresh = e.target.checked;
      if (this.isAutoRefresh) {
        this.startAutoRefresh();
      } else {
        this.stopAutoRefresh();
      }
    });
    autoRefreshContainer.createEl("label", {
      text: "\u81EA\u52A8\u5237\u65B0",
      attr: { for: "auto-refresh" }
    });
    const refreshButton = controls.createEl("button", {
      text: "\u5237\u65B0",
      cls: "refresh-button"
    });
    refreshButton.addEventListener("click", () => {
      this.render();
    });
    this.contentEl = mainContainer.createDiv({ cls: "sync-status-content" });
    if (this.isAutoRefresh) {
      this.startAutoRefresh();
    }
    this.render();
  }
  async onClose() {
    this.stopAutoRefresh();
  }
  render() {
    this.contentEl.empty();
    const statusCard = this.contentEl.createDiv({ cls: "status-card" });
    const statusHeader = statusCard.createDiv({ cls: "status-header" });
    const statusIcon = statusHeader.createEl("span", {
      text: this.getStatusIcon(),
      cls: "status-icon"
    });
    const statusText = statusHeader.createEl("span", {
      text: this.getStatusText(),
      cls: `status-text status-${this.status.state}`
    });
    if (this.status.state === "syncing" /* SYNCING */) {
      const progressContainer = statusCard.createDiv({ cls: "progress-container" });
      const progressBar = progressContainer.createEl("div", { cls: "progress-bar" });
      const progressFill = progressBar.createEl("div", {
        cls: "progress-fill",
        attr: { style: `width: ${this.status.progress}%` }
      });
      const progressText = progressContainer.createEl("div", {
        text: `${this.status.progress.toFixed(1)}%`,
        cls: "progress-text"
      });
    }
    if (this.status.currentFile) {
      const currentFile = statusCard.createDiv({ cls: "current-file" });
      currentFile.createEl("strong", { text: "\u5F53\u524D\u6587\u4EF6: " });
      currentFile.createEl("span", { text: this.status.currentFile });
    }
    const stats = statusCard.createDiv({ cls: "stats" });
    if (this.status.filesSynced > 0) {
      stats.createEl("div", {
        text: `\u5DF2\u540C\u6B65\u6587\u4EF6: ${this.status.filesSynced}`,
        cls: "stat-item"
      });
    }
    if (this.status.totalFiles > 0) {
      stats.createEl("div", {
        text: `\u603B\u6587\u4EF6\u6570: ${this.status.totalFiles}`,
        cls: "stat-item"
      });
    }
    if (this.status.lastSync) {
      stats.createEl("div", {
        text: `\u6700\u540E\u540C\u6B65: ${this.formatDate(this.status.lastSync)}`,
        cls: "stat-item"
      });
    }
    if (this.status.errors.length > 0) {
      const errorsSection = this.contentEl.createDiv({ cls: "errors-section" });
      errorsSection.createEl("h3", { text: "\u9519\u8BEF\u65E5\u5FD7" });
      const errorsList = errorsSection.createEl("div", { cls: "errors-list" });
      this.status.errors.forEach((error, index) => {
        const errorItem = errorsList.createEl("div", { cls: "error-item" });
        const errorHeader = errorItem.createEl("div", { cls: "error-header" });
        errorHeader.createEl("span", {
          text: "\u274C",
          cls: "error-icon"
        });
        errorHeader.createEl("span", {
          text: error.message,
          cls: "error-message"
        });
        errorHeader.createEl("span", {
          text: this.formatDate(error.timestamp),
          cls: "error-time"
        });
        const toggleButton = errorHeader.createEl("button", {
          text: this.errorDetailsVisible.get(index) ? "\u9690\u85CF\u8BE6\u60C5" : "\u663E\u793A\u8BE6\u60C5",
          cls: "error-toggle-button"
        });
        toggleButton.addEventListener("click", () => {
          const isVisible = this.errorDetailsVisible.get(index) || false;
          this.errorDetailsVisible.set(index, !isVisible);
          this.render();
        });
        if (this.errorDetailsVisible.get(index)) {
          const errorDetails = errorItem.createEl("div", { cls: "error-details" });
          if (error.file) {
            errorDetails.createEl("div", {
              text: `\u6587\u4EF6: ${error.file}`,
              cls: "error-file"
            });
          }
          errorDetails.createEl("div", {
            text: `\u65F6\u95F4: ${error.timestamp.toLocaleString()}`,
            cls: "error-timestamp"
          });
          errorDetails.createEl("div", {
            text: `\u53EF\u91CD\u8BD5: ${error.retryable ? "\u662F" : "\u5426"}`,
            cls: "error-retryable"
          });
          if (error.retryable && error.file) {
            const retryButton = errorDetails.createEl("button", {
              text: "\u91CD\u8BD5",
              cls: "retry-button"
            });
            retryButton.addEventListener("click", () => {
              new import_obsidian3.Notice(`\u91CD\u8BD5\u6587\u4EF6: ${error.file}`);
            });
          }
        }
      });
      if (this.status.errors.length > 0) {
        const clearErrorsButton = errorsSection.createEl("button", {
          text: "\u6E05\u9664\u6240\u6709\u9519\u8BEF",
          cls: "clear-errors-button"
        });
        clearErrorsButton.addEventListener("click", () => {
          new import_obsidian3.Notice("\u9519\u8BEF\u65E5\u5FD7\u5DF2\u6E05\u9664");
        });
      }
    }
    const historySection = this.contentEl.createDiv({ cls: "history-section" });
    historySection.createEl("h3", { text: "\u540C\u6B65\u5386\u53F2" });
    const historyPlaceholder = historySection.createEl("div", {
      text: "\u540C\u6B65\u5386\u53F2\u8BB0\u5F55\u5C06\u5728\u8FD9\u91CC\u663E\u793A",
      cls: "history-placeholder"
    });
    const performanceSection = this.contentEl.createDiv({ cls: "performance-section" });
    performanceSection.createEl("h3", { text: "\u6027\u80FD\u7EDF\u8BA1" });
    const performanceStats = performanceSection.createDiv({ cls: "performance-stats" });
    performanceStats.createEl("div", {
      text: "\u5E73\u5747\u540C\u6B65\u65F6\u95F4: --",
      cls: "performance-item"
    });
    performanceStats.createEl("div", {
      text: "\u6700\u5FEB\u540C\u6B65\u65F6\u95F4: --",
      cls: "performance-item"
    });
    performanceStats.createEl("div", {
      text: "\u6700\u6162\u540C\u6B65\u65F6\u95F4: --",
      cls: "performance-item"
    });
    performanceStats.createEl("div", {
      text: "\u6210\u529F\u7387: --",
      cls: "performance-item"
    });
  }
  getStatusIcon() {
    switch (this.status.state) {
      case "idle" /* IDLE */:
        return "\u2705";
      case "syncing" /* SYNCING */:
        return "\u{1F504}";
      case "conflict" /* CONFLICT */:
        return "\u26A0\uFE0F";
      case "error" /* ERROR */:
        return "\u274C";
      case "paused" /* PAUSED */:
        return "\u23F8\uFE0F";
      default:
        return "\u2753";
    }
  }
  getStatusText() {
    switch (this.status.state) {
      case "idle" /* IDLE */:
        return "\u7A7A\u95F2";
      case "syncing" /* SYNCING */:
        return "\u540C\u6B65\u4E2D";
      case "conflict" /* CONFLICT */:
        return "\u5B58\u5728\u51B2\u7A81";
      case "error" /* ERROR */:
        return "\u9519\u8BEF";
      case "paused" /* PAUSED */:
        return "\u5DF2\u6682\u505C";
      default:
        return "\u672A\u77E5\u72B6\u6001";
    }
  }
  formatDate(date) {
    const now = new Date();
    const diffMs = now.getTime() - date.getTime();
    const diffMins = Math.floor(diffMs / (1e3 * 60));
    if (diffMins < 1) {
      return "\u521A\u521A";
    } else if (diffMins < 60) {
      return `${diffMins}\u5206\u949F\u524D`;
    } else if (diffMins < 24 * 60) {
      const hours = Math.floor(diffMins / 60);
      return `${hours}\u5C0F\u65F6\u524D`;
    } else {
      return date.toLocaleDateString();
    }
  }
  startAutoRefresh() {
    this.stopAutoRefresh();
    this.refreshIntervalId = window.setInterval(() => {
      this.render();
    }, 5e3);
  }
  stopAutoRefresh() {
    if (this.refreshIntervalId) {
      clearInterval(this.refreshIntervalId);
      this.refreshIntervalId = 0;
    }
  }
  static open(app, syncEngine) {
    const leaf = app.workspace.getLeaf(true);
    leaf.setViewState({
      type: SYNC_STATUS_VIEW_TYPE,
      active: true
    });
  }
};

// src/utils/logger.ts
var Logger = class {
  constructor(settings) {
    this.settings = settings;
    this.logs = [];
    this.maxLogs = 1e3;
    this.listeners = [];
  }
  debug(message, source, data) {
    this.log("debug" /* DEBUG */, message, source, data);
  }
  info(message, source, data) {
    this.log("info" /* INFO */, message, source, data);
  }
  warn(message, source, data) {
    this.log("warn" /* WARN */, message, source, data);
  }
  error(message, source, data) {
    this.log("error" /* ERROR */, message, source, data);
  }
  log(level, message, source, data) {
    if (!this.shouldLog(level)) {
      return;
    }
    const entry = {
      timestamp: new Date(),
      level,
      message,
      source,
      data
    };
    this.logs.push(entry);
    if (this.logs.length > this.maxLogs) {
      this.logs = this.logs.slice(-this.maxLogs);
    }
    this.consoleLog(entry);
    this.notifyListeners(entry);
  }
  shouldLog(level) {
    const levelOrder = {
      ["debug" /* DEBUG */]: 0,
      ["info" /* INFO */]: 1,
      ["warn" /* WARN */]: 2,
      ["error" /* ERROR */]: 3
    };
    const currentLevel = levelOrder[this.settings.logLevel];
    const messageLevel = levelOrder[level];
    return messageLevel >= currentLevel;
  }
  consoleLog(entry) {
    const timestamp = entry.timestamp.toISOString().split("T")[1].split(".")[0];
    const prefix = `[${timestamp}] [${entry.level.toUpperCase()}]`;
    const source = entry.source ? `[${entry.source}]` : "";
    const message = `${prefix}${source} ${entry.message}`;
    switch (entry.level) {
      case "debug" /* DEBUG */:
        console.debug(message, entry.data || "");
        break;
      case "info" /* INFO */:
        console.info(message, entry.data || "");
        break;
      case "warn" /* WARN */:
        console.warn(message, entry.data || "");
        break;
      case "error" /* ERROR */:
        console.error(message, entry.data || "");
        break;
    }
  }
  notifyListeners(entry) {
    this.listeners.forEach((listener) => {
      try {
        listener(entry);
      } catch (error) {
        console.error("\u65E5\u5FD7\u76D1\u542C\u5668\u9519\u8BEF:", error);
      }
    });
  }
  // 公共方法
  getLogs(level, limit) {
    let filteredLogs = this.logs;
    if (level) {
      filteredLogs = filteredLogs.filter((log) => log.level === level);
    }
    if (limit && limit > 0) {
      filteredLogs = filteredLogs.slice(-limit);
    }
    return [...filteredLogs];
  }
  clearLogs() {
    this.logs = [];
  }
  onLog(listener) {
    this.listeners.push(listener);
  }
  offLog(listener) {
    const index = this.listeners.indexOf(listener);
    if (index > -1) {
      this.listeners.splice(index, 1);
    }
  }
  getStats() {
    const stats = {
      total: this.logs.length,
      byLevel: {
        ["debug" /* DEBUG */]: 0,
        ["info" /* INFO */]: 0,
        ["warn" /* WARN */]: 0,
        ["error" /* ERROR */]: 0
      },
      bySource: {},
      oldest: this.logs.length > 0 ? this.logs[0].timestamp : null,
      newest: this.logs.length > 0 ? this.logs[this.logs.length - 1].timestamp : null
    };
    for (const log of this.logs) {
      stats.byLevel[log.level]++;
      if (log.source) {
        stats.bySource[log.source] = (stats.bySource[log.source] || 0) + 1;
      }
    }
    return stats;
  }
  exportLogs(format = "json") {
    if (format === "json") {
      return JSON.stringify(this.logs, null, 2);
    } else {
      return this.logs.map((log) => {
        const timestamp = log.timestamp.toISOString();
        const level = log.level.toUpperCase().padEnd(5);
        const source = log.source ? ` [${log.source}]` : "";
        return `${timestamp} ${level}${source} ${log.message}`;
      }).join("\n");
    }
  }
  // 工具方法
  static formatError(error) {
    if (error instanceof Error) {
      return `${error.name}: ${error.message}
${error.stack || ""}`;
    } else if (typeof error === "string") {
      return error;
    } else {
      try {
        return JSON.stringify(error);
      } catch (e) {
        return String(error);
      }
    }
  }
  /**
   * 性能监控：记录方法执行时间
   * @param method 要监控的方法
   * @param methodName 方法名称（用于日志）
   * @returns 包装后的方法
   */
  static monitorPerformance(method, methodName, logger) {
    return (...args) => {
      const startTime = performance.now();
      try {
        const result = method(...args);
        if (result instanceof Promise) {
          return result.then((asyncResult) => {
            const endTime2 = performance.now();
            const duration2 = endTime2 - startTime;
            logger.debug(
              `Method ${methodName} completed in ${duration2.toFixed(2)}ms`,
              "performance"
            );
            return asyncResult;
          }).catch((error) => {
            const endTime2 = performance.now();
            const duration2 = endTime2 - startTime;
            logger.error(
              `Method ${methodName} failed after ${duration2.toFixed(2)}ms: ${this.formatError(
                error
              )}`,
              "performance"
            );
            throw error;
          });
        }
        const endTime = performance.now();
        const duration = endTime - startTime;
        logger.debug(`Method ${methodName} completed in ${duration.toFixed(2)}ms`, "performance");
        return result;
      } catch (error) {
        const endTime = performance.now();
        const duration = endTime - startTime;
        logger.error(
          `Method ${methodName} failed after ${duration.toFixed(2)}ms: ${this.formatError(error)}`,
          "performance"
        );
        throw error;
      }
    };
  }
  static createContextLogger(source, settings) {
    const logger = new Logger(settings);
    return {
      debug: (message, data) => logger.debug(message, source, data),
      info: (message, data) => logger.info(message, source, data),
      warn: (message, data) => logger.warn(message, source, data),
      error: (message, data) => logger.error(message, source, data),
      getLogs: (level, limit) => logger.getLogs(level, limit),
      clearLogs: () => logger.clearLogs(),
      onLog: (listener) => logger.onLog(listener),
      offLog: (listener) => logger.offLog(listener),
      getStats: () => logger.getStats(),
      exportLogs: (format) => logger.exportLogs(format)
    };
  }
};

// main.ts
var DEFAULT_SETTINGS = {
  apiUrl: "localhost",
  apiPort: 8765,
  syncInterval: 300,
  // 5 minutes in seconds
  autoSync: true,
  conflictStrategy: "timestamp",
  excludePatterns: ["*.tmp", ".*"],
  enableWebSocket: true,
  logLevel: "info",
  targetFolder: "OpenClaw\u8BB0\u5FC6\u5E93"
};
var OpenClawMemorySync = class extends import_obsidian4.Plugin {
  async onload() {
    await this.loadSettings();
    this.logger = new Logger(this.settings);
    this.logger.info("OpenClaw Memory Sync\u63D2\u4EF6\u5F00\u59CB\u52A0\u8F7D", "plugin");
    this.apiClient = new OpenClawAPIClient(this.settings);
    this.syncEngine = new SyncEngine(this.app, this.apiClient, this.settings);
    this.registerView(MEMORY_VIEW_TYPE, (leaf) => new MemoryView(leaf, this.apiClient));
    this.registerView(SYNC_STATUS_VIEW_TYPE, (leaf) => new SyncStatusView(leaf, this.syncEngine));
    this.addSettingTab(new OpenClawMemorySyncSettingTab(this.app, this));
    this.addCommand({
      id: "openclaw-sync-now",
      name: "\u7ACB\u5373\u540C\u6B65",
      callback: () => this.syncNow()
    });
    this.addCommand({
      id: "openclaw-view-memory",
      name: "\u67E5\u770B\u8BB0\u5FC6\u5E93",
      callback: () => MemoryView.open(this.app, this.apiClient)
    });
    this.addCommand({
      id: "openclaw-view-status",
      name: "\u67E5\u770B\u540C\u6B65\u72B6\u6001",
      callback: () => SyncStatusView.open(this.app, this.syncEngine)
    });
    this.addRibbonIcon("brain", "OpenClaw\u8BB0\u5FC6\u540C\u6B65", () => {
      SyncStatusView.open(this.app, this.syncEngine);
    });
    const statusBarItem = this.addStatusBarItem();
    statusBarItem.setText("\u{1F504} OpenClaw");
    this.syncEngine.onStatusChange((status) => {
      const icons = {
        idle: "\u2705",
        syncing: "\u{1F504}",
        conflict: "\u26A0\uFE0F",
        error: "\u274C",
        paused: "\u23F8\uFE0F"
      };
      statusBarItem.setText(`${icons[status.state]} OpenClaw`);
      if (status.state === "error" && status.errors.length > 0) {
        statusBarItem.setAttr("title", `\u540C\u6B65\u9519\u8BEF: ${status.errors[0].message}`);
      } else {
        statusBarItem.setAttr("title", `\u540C\u6B65\u72B6\u6001: ${status.state}`);
      }
    });
    try {
      this.logger.info("\u6B63\u5728\u8FDE\u63A5OpenClaw API\u670D\u52A1\u5668...", "api");
      await this.apiClient.connect();
      new import_obsidian4.Notice("\u2705 OpenClaw API\u8FDE\u63A5\u6210\u529F");
      this.logger.info("OpenClaw API\u8FDE\u63A5\u6210\u529F", "api");
    } catch (error) {
      const errorMsg = `OpenClaw API\u8FDE\u63A5\u5931\u8D25: ${error.message}`;
      new import_obsidian4.Notice(`\u274C ${errorMsg}`);
      this.logger.error(errorMsg, "api", error);
    }
    if (this.settings.autoSync) {
      this.startAutoSync();
      this.logger.info(`\u81EA\u52A8\u540C\u6B65\u5DF2\u542F\u52A8\uFF0C\u95F4\u9694: ${this.settings.syncInterval}\u79D2`, "sync");
    }
    await this.ensureTargetFolder();
    this.logger.info("OpenClaw Memory Sync\u63D2\u4EF6\u52A0\u8F7D\u5B8C\u6210", "plugin");
  }
  async onunload() {
    this.logger.info("OpenClaw Memory Sync\u63D2\u4EF6\u5F00\u59CB\u5378\u8F7D", "plugin");
    this.stopAutoSync();
    await this.apiClient.disconnect();
    this.syncEngine.cleanup();
    this.logger.info("OpenClaw Memory Sync\u63D2\u4EF6\u5378\u8F7D\u5B8C\u6210", "plugin");
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async syncNow() {
    try {
      this.logger.info("\u5F00\u59CB\u624B\u52A8\u540C\u6B65OpenClaw\u8BB0\u5FC6\u5E93", "sync");
      new import_obsidian4.Notice("\u{1F504} \u5F00\u59CB\u540C\u6B65OpenClaw\u8BB0\u5FC6\u5E93...");
      await this.syncEngine.sync();
      this.logger.info("OpenClaw\u8BB0\u5FC6\u5E93\u540C\u6B65\u5B8C\u6210", "sync");
      new import_obsidian4.Notice("\u2705 OpenClaw\u8BB0\u5FC6\u5E93\u540C\u6B65\u5B8C\u6210");
    } catch (error) {
      const errorMsg = `\u540C\u6B65\u5931\u8D25: ${error.message}`;
      this.logger.error(errorMsg, "sync", error);
      new import_obsidian4.Notice(`\u274C ${errorMsg}`);
    }
  }
  startAutoSync() {
    if (this.syncIntervalId) {
      clearInterval(this.syncIntervalId);
    }
    this.syncIntervalId = window.setInterval(() => {
      if (this.syncEngine.getStatus().state === "idle") {
        this.logger.debug("\u81EA\u52A8\u540C\u6B65\u89E6\u53D1", "sync");
        this.syncNow();
      }
    }, this.settings.syncInterval * 1e3);
    this.logger.info(`\u81EA\u52A8\u540C\u6B65\u5DF2\u542F\u52A8\uFF0C\u95F4\u9694: ${this.settings.syncInterval}\u79D2`, "sync");
  }
  stopAutoSync() {
    if (this.syncIntervalId) {
      clearInterval(this.syncIntervalId);
      this.syncIntervalId = 0;
      this.logger.info("\u81EA\u52A8\u540C\u6B65\u5DF2\u505C\u6B62", "sync");
    }
  }
  async ensureTargetFolder() {
    const { vault } = this.app;
    const folderPath = this.settings.targetFolder;
    const folder = vault.getAbstractFileByPath(folderPath);
    if (!folder) {
      await vault.createFolder(folderPath);
      this.logger.info(`\u521B\u5EFA\u76EE\u6807\u6587\u4EF6\u5939: ${folderPath}`, "filesystem");
    } else if (!(folder instanceof import_obsidian4.TFolder)) {
      this.logger.warn(`\u8DEF\u5F84 ${folderPath} \u5DF2\u5B58\u5728\u4F46\u4E0D\u662F\u6587\u4EF6\u5939`, "filesystem");
    } else {
      this.logger.debug(`\u76EE\u6807\u6587\u4EF6\u5939\u5DF2\u5B58\u5728: ${folderPath}`, "filesystem");
    }
  }
};
var OpenClawMemorySyncSettingTab = class extends import_obsidian4.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "OpenClaw\u8BB0\u5FC6\u540C\u6B65\u8BBE\u7F6E" });
    new import_obsidian4.Setting(containerEl).setName("API\u670D\u52A1\u5668\u5730\u5740").setDesc("OpenClaw API\u670D\u52A1\u5668\u7684\u5730\u5740").addText(
      (text) => text.setPlaceholder("localhost").setValue(this.plugin.settings.apiUrl).onChange(async (value) => {
        this.plugin.settings.apiUrl = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian4.Setting(containerEl).setName("API\u7AEF\u53E3").setDesc("OpenClaw API\u670D\u52A1\u5668\u7684\u7AEF\u53E3").addText(
      (text) => text.setPlaceholder("8765").setValue(this.plugin.settings.apiPort.toString()).onChange(async (value) => {
        this.plugin.settings.apiPort = parseInt(value) || 8765;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian4.Setting(containerEl).setName("\u81EA\u52A8\u540C\u6B65").setDesc("\u542F\u7528\u81EA\u52A8\u540C\u6B65").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.autoSync).onChange(async (value) => {
        this.plugin.settings.autoSync = value;
        await this.plugin.saveSettings();
        if (value) {
          this.plugin.startAutoSync();
        } else {
          this.plugin.stopAutoSync();
        }
      })
    );
    new import_obsidian4.Setting(containerEl).setName("\u540C\u6B65\u95F4\u9694\uFF08\u79D2\uFF09").setDesc("\u81EA\u52A8\u540C\u6B65\u7684\u65F6\u95F4\u95F4\u9694").addText(
      (text) => text.setPlaceholder("300").setValue(this.plugin.settings.syncInterval.toString()).onChange(async (value) => {
        this.plugin.settings.syncInterval = parseInt(value) || 300;
        await this.plugin.saveSettings();
        if (this.plugin.settings.autoSync) {
          this.plugin.stopAutoSync();
          this.plugin.startAutoSync();
        }
      })
    );
    new import_obsidian4.Setting(containerEl).setName("\u51B2\u7A81\u89E3\u51B3\u7B56\u7565").setDesc("\u5F53\u6587\u4EF6\u51B2\u7A81\u65F6\u7684\u89E3\u51B3\u7B56\u7565").addDropdown(
      (dropdown) => dropdown.addOption("timestamp", "\u65F6\u95F4\u6233\u4F18\u5148\uFF08\u6700\u65B0\u7684\u80DC\u51FA\uFF09").addOption("local", "\u672C\u5730\u4F18\u5148").addOption("remote", "\u8FDC\u7A0B\u4F18\u5148").addOption("ask", "\u8BE2\u95EE\u7528\u6237").setValue(this.plugin.settings.conflictStrategy).onChange(async (value) => {
        this.plugin.settings.conflictStrategy = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian4.Setting(containerEl).setName("\u76EE\u6807\u6587\u4EF6\u5939").setDesc("\u8BB0\u5FC6\u6587\u4EF6\u4FDD\u5B58\u7684\u6587\u4EF6\u5939\u8DEF\u5F84").addText(
      (text) => text.setPlaceholder("OpenClaw\u8BB0\u5FC6\u5E93").setValue(this.plugin.settings.targetFolder).onChange(async (value) => {
        this.plugin.settings.targetFolder = value;
        await this.plugin.saveSettings();
        await this.plugin.ensureTargetFolder();
      })
    );
    new import_obsidian4.Setting(containerEl).setName("\u542F\u7528WebSocket").setDesc("\u542F\u7528\u5B9E\u65F6\u66F4\u65B0\u901A\u77E5").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.enableWebSocket).onChange(async (value) => {
        this.plugin.settings.enableWebSocket = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian4.Setting(containerEl).setName("\u6392\u9664\u6A21\u5F0F").setDesc("\u4E0D\u540C\u6B65\u7684\u6587\u4EF6\u6A21\u5F0F\uFF08\u6BCF\u884C\u4E00\u4E2A\uFF09").addTextArea(
      (text) => text.setPlaceholder("*.tmp\n.*\nnode_modules/").setValue(this.plugin.settings.excludePatterns.join("\n")).onChange(async (value) => {
        this.plugin.settings.excludePatterns = value.split("\n").filter((p) => p.trim());
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian4.Setting(containerEl).setName("\u65E5\u5FD7\u7EA7\u522B").setDesc("\u63A7\u5236\u53F0\u65E5\u5FD7\u7684\u8BE6\u7EC6\u7A0B\u5EA6").addDropdown(
      (dropdown) => dropdown.addOption("debug", "\u8C03\u8BD5").addOption("info", "\u4FE1\u606F").addOption("warn", "\u8B66\u544A").addOption("error", "\u9519\u8BEF").setValue(this.plugin.settings.logLevel).onChange(async (value) => {
        this.plugin.settings.logLevel = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian4.Setting(containerEl).setName("\u6D4B\u8BD5\u8FDE\u63A5").setDesc("\u6D4B\u8BD5\u4E0EOpenClaw API\u670D\u52A1\u5668\u7684\u8FDE\u63A5").addButton(
      (button) => button.setButtonText("\u6D4B\u8BD5\u8FDE\u63A5").onClick(async () => {
        try {
          await this.plugin.apiClient.testConnection();
          new import_obsidian4.Notice("\u2705 \u8FDE\u63A5\u6D4B\u8BD5\u6210\u529F");
        } catch (error) {
          new import_obsidian4.Notice(`\u274C \u8FDE\u63A5\u6D4B\u8BD5\u5931\u8D25: ${error.message}`);
        }
      })
    );
    new import_obsidian4.Setting(containerEl).setName("\u7ACB\u5373\u540C\u6B65").setDesc("\u624B\u52A8\u89E6\u53D1\u540C\u6B65").addButton(
      (button) => button.setButtonText("\u5F00\u59CB\u540C\u6B65").onClick(async () => {
        await this.plugin.syncNow();
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJhcGktY2xpZW50LnRzIiwgInN5bmMtZW5naW5lLnRzIiwgInNyYy92aWV3cy9tZW1vcnktdmlldy50cyIsICJzcmMvdmlld3Mvc3luYy1zdGF0dXMudHMiLCAic3JjL3V0aWxzL2xvZ2dlci50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIE5vdGljZSwgVEZpbGUsIFRGb2xkZXIgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBPcGVuQ2xhd0FQSUNsaWVudCB9IGZyb20gJy4vYXBpLWNsaWVudCc7XG5pbXBvcnQgeyBTeW5jRW5naW5lLCBTeW5jU3RhdHVzIH0gZnJvbSAnLi9zeW5jLWVuZ2luZSc7XG5pbXBvcnQgeyBNZW1vcnlWaWV3LCBNRU1PUllfVklFV19UWVBFIH0gZnJvbSAnLi9zcmMvdmlld3MvbWVtb3J5LXZpZXcnO1xuaW1wb3J0IHsgU3luY1N0YXR1c1ZpZXcsIFNZTkNfU1RBVFVTX1ZJRVdfVFlQRSB9IGZyb20gJy4vc3JjL3ZpZXdzL3N5bmMtc3RhdHVzJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4vc3JjL3V0aWxzL2xvZ2dlcic7XG5cbmludGVyZmFjZSBPcGVuQ2xhd01lbW9yeVN5bmNTZXR0aW5ncyB7XG4gIGFwaVVybDogc3RyaW5nO1xuICBhcGlQb3J0OiBudW1iZXI7XG4gIHN5bmNJbnRlcnZhbDogbnVtYmVyO1xuICBhdXRvU3luYzogYm9vbGVhbjtcbiAgY29uZmxpY3RTdHJhdGVneTogJ3RpbWVzdGFtcCcgfCAnbG9jYWwnIHwgJ3JlbW90ZScgfCAnYXNrJztcbiAgZXhjbHVkZVBhdHRlcm5zOiBzdHJpbmdbXTtcbiAgZW5hYmxlV2ViU29ja2V0OiBib29sZWFuO1xuICBsb2dMZXZlbDogJ2RlYnVnJyB8ICdpbmZvJyB8ICd3YXJuJyB8ICdlcnJvcic7XG4gIHRhcmdldEZvbGRlcjogc3RyaW5nO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBPcGVuQ2xhd01lbW9yeVN5bmNTZXR0aW5ncyA9IHtcbiAgYXBpVXJsOiAnbG9jYWxob3N0JyxcbiAgYXBpUG9ydDogODc2NSxcbiAgc3luY0ludGVydmFsOiAzMDAsIC8vIDUgbWludXRlcyBpbiBzZWNvbmRzXG4gIGF1dG9TeW5jOiB0cnVlLFxuICBjb25mbGljdFN0cmF0ZWd5OiAndGltZXN0YW1wJyxcbiAgZXhjbHVkZVBhdHRlcm5zOiBbJyoudG1wJywgJy4qJ10sXG4gIGVuYWJsZVdlYlNvY2tldDogdHJ1ZSxcbiAgbG9nTGV2ZWw6ICdpbmZvJyxcbiAgdGFyZ2V0Rm9sZGVyOiAnT3BlbkNsYXdcdThCQjBcdTVGQzZcdTVFOTMnXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcGVuQ2xhd01lbW9yeVN5bmMgZXh0ZW5kcyBQbHVnaW4ge1xuICBzZXR0aW5nczogT3BlbkNsYXdNZW1vcnlTeW5jU2V0dGluZ3M7XG4gIGFwaUNsaWVudDogT3BlbkNsYXdBUElDbGllbnQ7XG4gIHN5bmNFbmdpbmU6IFN5bmNFbmdpbmU7XG4gIHN5bmNJbnRlcnZhbElkOiBudW1iZXI7XG4gIGxvZ2dlcjogTG9nZ2VyO1xuXG4gIGFzeW5jIG9ubG9hZCgpIHtcbiAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG4gICAgLy8gXHU1MjFEXHU1OUNCXHU1MzE2XHU2NUU1XHU1RkQ3XHU3Q0ZCXHU3RURGXG4gICAgdGhpcy5sb2dnZXIgPSBuZXcgTG9nZ2VyKHRoaXMuc2V0dGluZ3MpO1xuXG4gICAgdGhpcy5sb2dnZXIuaW5mbygnT3BlbkNsYXcgTWVtb3J5IFN5bmNcdTYzRDJcdTRFRjZcdTVGMDBcdTU5Q0JcdTUyQTBcdThGN0QnLCAncGx1Z2luJyk7XG5cbiAgICAvLyBcdTUyMURcdTU5Q0JcdTUzMTZBUElcdTVCQTJcdTYyMzdcdTdBRUZcbiAgICB0aGlzLmFwaUNsaWVudCA9IG5ldyBPcGVuQ2xhd0FQSUNsaWVudCh0aGlzLnNldHRpbmdzKTtcblxuICAgIC8vIFx1NTIxRFx1NTlDQlx1NTMxNlx1NTQwQ1x1NkI2NVx1NUYxNVx1NjRDRVxuICAgIHRoaXMuc3luY0VuZ2luZSA9IG5ldyBTeW5jRW5naW5lKHRoaXMuYXBwLCB0aGlzLmFwaUNsaWVudCwgdGhpcy5zZXR0aW5ncyk7XG5cbiAgICAvLyBcdTZDRThcdTUxOENcdTg5QzZcdTU2RkVcbiAgICB0aGlzLnJlZ2lzdGVyVmlldyhNRU1PUllfVklFV19UWVBFLCBsZWFmID0+IG5ldyBNZW1vcnlWaWV3KGxlYWYsIHRoaXMuYXBpQ2xpZW50KSk7XG5cbiAgICB0aGlzLnJlZ2lzdGVyVmlldyhTWU5DX1NUQVRVU19WSUVXX1RZUEUsIGxlYWYgPT4gbmV3IFN5bmNTdGF0dXNWaWV3KGxlYWYsIHRoaXMuc3luY0VuZ2luZSkpO1xuXG4gICAgLy8gXHU2REZCXHU1MkEwXHU4QkJFXHU3RjZFXHU2ODA3XHU3QjdFXHU5ODc1XG4gICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBPcGVuQ2xhd01lbW9yeVN5bmNTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cbiAgICAvLyBcdTZERkJcdTUyQTBcdTU0N0RcdTRFRTRcbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdvcGVuY2xhdy1zeW5jLW5vdycsXG4gICAgICBuYW1lOiAnXHU3QUNCXHU1MzczXHU1NDBDXHU2QjY1JyxcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLnN5bmNOb3coKVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiAnb3BlbmNsYXctdmlldy1tZW1vcnknLFxuICAgICAgbmFtZTogJ1x1NjdFNVx1NzcwQlx1OEJCMFx1NUZDNlx1NUU5MycsXG4gICAgICBjYWxsYmFjazogKCkgPT4gTWVtb3J5Vmlldy5vcGVuKHRoaXMuYXBwLCB0aGlzLmFwaUNsaWVudClcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogJ29wZW5jbGF3LXZpZXctc3RhdHVzJyxcbiAgICAgIG5hbWU6ICdcdTY3RTVcdTc3MEJcdTU0MENcdTZCNjVcdTcyQjZcdTYwMDEnLFxuICAgICAgY2FsbGJhY2s6ICgpID0+IFN5bmNTdGF0dXNWaWV3Lm9wZW4odGhpcy5hcHAsIHRoaXMuc3luY0VuZ2luZSlcbiAgICB9KTtcblxuICAgIC8vIFx1NkRGQlx1NTJBMFx1NEZBN1x1OEZCOVx1NjgwRlx1NTZGRVx1NjgwN1xuICAgIHRoaXMuYWRkUmliYm9uSWNvbignYnJhaW4nLCAnT3BlbkNsYXdcdThCQjBcdTVGQzZcdTU0MENcdTZCNjUnLCAoKSA9PiB7XG4gICAgICBTeW5jU3RhdHVzVmlldy5vcGVuKHRoaXMuYXBwLCB0aGlzLnN5bmNFbmdpbmUpO1xuICAgIH0pO1xuXG4gICAgLy8gXHU2REZCXHU1MkEwXHU3MkI2XHU2MDAxXHU2ODBGXHU5ODc5XHU3NkVFXG4gICAgY29uc3Qgc3RhdHVzQmFySXRlbSA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xuICAgIHN0YXR1c0Jhckl0ZW0uc2V0VGV4dCgnXHVEODNEXHVERDA0IE9wZW5DbGF3Jyk7XG5cbiAgICAvLyBcdTc2RDFcdTU0MkNcdTU0MENcdTZCNjVcdTcyQjZcdTYwMDFcdTUzRDhcdTUzMTZcbiAgICB0aGlzLnN5bmNFbmdpbmUub25TdGF0dXNDaGFuZ2UoKHN0YXR1czogU3luY1N0YXR1cykgPT4ge1xuICAgICAgY29uc3QgaWNvbnMgPSB7XG4gICAgICAgIGlkbGU6ICdcdTI3MDUnLFxuICAgICAgICBzeW5jaW5nOiAnXHVEODNEXHVERDA0JyxcbiAgICAgICAgY29uZmxpY3Q6ICdcdTI2QTBcdUZFMEYnLFxuICAgICAgICBlcnJvcjogJ1x1Mjc0QycsXG4gICAgICAgIHBhdXNlZDogJ1x1MjNGOFx1RkUwRidcbiAgICAgIH07XG4gICAgICBzdGF0dXNCYXJJdGVtLnNldFRleHQoYCR7aWNvbnNbc3RhdHVzLnN0YXRlXX0gT3BlbkNsYXdgKTtcblxuICAgICAgaWYgKHN0YXR1cy5zdGF0ZSA9PT0gJ2Vycm9yJyAmJiBzdGF0dXMuZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc3RhdHVzQmFySXRlbS5zZXRBdHRyKCd0aXRsZScsIGBcdTU0MENcdTZCNjVcdTk1MTlcdThCRUY6ICR7c3RhdHVzLmVycm9yc1swXS5tZXNzYWdlfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdHVzQmFySXRlbS5zZXRBdHRyKCd0aXRsZScsIGBcdTU0MENcdTZCNjVcdTcyQjZcdTYwMDE6ICR7c3RhdHVzLnN0YXRlfWApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gXHU4RkRFXHU2M0E1QVBJXHU2NzBEXHU1MkExXHU1NjY4XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1x1NkI2M1x1NTcyOFx1OEZERVx1NjNBNU9wZW5DbGF3IEFQSVx1NjcwRFx1NTJBMVx1NTY2OC4uLicsICdhcGknKTtcbiAgICAgIGF3YWl0IHRoaXMuYXBpQ2xpZW50LmNvbm5lY3QoKTtcbiAgICAgIG5ldyBOb3RpY2UoJ1x1MjcwNSBPcGVuQ2xhdyBBUElcdThGREVcdTYzQTVcdTYyMTBcdTUyOUYnKTtcbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ09wZW5DbGF3IEFQSVx1OEZERVx1NjNBNVx1NjIxMFx1NTI5RicsICdhcGknKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZXJyb3JNc2cgPSBgT3BlbkNsYXcgQVBJXHU4RkRFXHU2M0E1XHU1OTMxXHU4RDI1OiAke2Vycm9yLm1lc3NhZ2V9YDtcbiAgICAgIG5ldyBOb3RpY2UoYFx1Mjc0QyAke2Vycm9yTXNnfWApO1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3JNc2csICdhcGknLCBlcnJvcik7XG4gICAgfVxuXG4gICAgLy8gXHU1NDJGXHU1MkE4XHU4MUVBXHU1MkE4XHU1NDBDXHU2QjY1XG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuYXV0b1N5bmMpIHtcbiAgICAgIHRoaXMuc3RhcnRBdXRvU3luYygpO1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgXHU4MUVBXHU1MkE4XHU1NDBDXHU2QjY1XHU1REYyXHU1NDJGXHU1MkE4XHVGRjBDXHU5NUY0XHU5Njk0OiAke3RoaXMuc2V0dGluZ3Muc3luY0ludGVydmFsfVx1NzlEMmAsICdzeW5jJyk7XG4gICAgfVxuXG4gICAgLy8gXHU1MjFCXHU1RUZBXHU3NkVFXHU2ODA3XHU2NTg3XHU0RUY2XHU1OTM5XG4gICAgYXdhaXQgdGhpcy5lbnN1cmVUYXJnZXRGb2xkZXIoKTtcblxuICAgIHRoaXMubG9nZ2VyLmluZm8oJ09wZW5DbGF3IE1lbW9yeSBTeW5jXHU2M0QyXHU0RUY2XHU1MkEwXHU4RjdEXHU1QjhDXHU2MjEwJywgJ3BsdWdpbicpO1xuICB9XG5cbiAgYXN5bmMgb251bmxvYWQoKSB7XG4gICAgdGhpcy5sb2dnZXIuaW5mbygnT3BlbkNsYXcgTWVtb3J5IFN5bmNcdTYzRDJcdTRFRjZcdTVGMDBcdTU5Q0JcdTUzNzhcdThGN0QnLCAncGx1Z2luJyk7XG5cbiAgICAvLyBcdTUwNUNcdTZCNjJcdTgxRUFcdTUyQThcdTU0MENcdTZCNjVcbiAgICB0aGlzLnN0b3BBdXRvU3luYygpO1xuXG4gICAgLy8gXHU2NUFEXHU1RjAwQVBJXHU4RkRFXHU2M0E1XG4gICAgYXdhaXQgdGhpcy5hcGlDbGllbnQuZGlzY29ubmVjdCgpO1xuXG4gICAgLy8gXHU2RTA1XHU3NDA2XHU4RDQ0XHU2RTkwXG4gICAgdGhpcy5zeW5jRW5naW5lLmNsZWFudXAoKTtcblxuICAgIHRoaXMubG9nZ2VyLmluZm8oJ09wZW5DbGF3IE1lbW9yeSBTeW5jXHU2M0QyXHU0RUY2XHU1Mzc4XHU4RjdEXHU1QjhDXHU2MjEwJywgJ3BsdWdpbicpO1xuICB9XG5cbiAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xuICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuICB9XG5cbiAgYXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG4gIH1cblxuICBhc3luYyBzeW5jTm93KCkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKCdcdTVGMDBcdTU5Q0JcdTYyNEJcdTUyQThcdTU0MENcdTZCNjVPcGVuQ2xhd1x1OEJCMFx1NUZDNlx1NUU5MycsICdzeW5jJyk7XG4gICAgICBuZXcgTm90aWNlKCdcdUQ4M0RcdUREMDQgXHU1RjAwXHU1OUNCXHU1NDBDXHU2QjY1T3BlbkNsYXdcdThCQjBcdTVGQzZcdTVFOTMuLi4nKTtcblxuICAgICAgYXdhaXQgdGhpcy5zeW5jRW5naW5lLnN5bmMoKTtcblxuICAgICAgdGhpcy5sb2dnZXIuaW5mbygnT3BlbkNsYXdcdThCQjBcdTVGQzZcdTVFOTNcdTU0MENcdTZCNjVcdTVCOENcdTYyMTAnLCAnc3luYycpO1xuICAgICAgbmV3IE5vdGljZSgnXHUyNzA1IE9wZW5DbGF3XHU4QkIwXHU1RkM2XHU1RTkzXHU1NDBDXHU2QjY1XHU1QjhDXHU2MjEwJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGVycm9yTXNnID0gYFx1NTQwQ1x1NkI2NVx1NTkzMVx1OEQyNTogJHtlcnJvci5tZXNzYWdlfWA7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcihlcnJvck1zZywgJ3N5bmMnLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKGBcdTI3NEMgJHtlcnJvck1zZ31gKTtcbiAgICB9XG4gIH1cblxuICBzdGFydEF1dG9TeW5jKCkge1xuICAgIGlmICh0aGlzLnN5bmNJbnRlcnZhbElkKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuc3luY0ludGVydmFsSWQpO1xuICAgIH1cblxuICAgIHRoaXMuc3luY0ludGVydmFsSWQgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuc3luY0VuZ2luZS5nZXRTdGF0dXMoKS5zdGF0ZSA9PT0gJ2lkbGUnKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdcdTgxRUFcdTUyQThcdTU0MENcdTZCNjVcdTg5RTZcdTUzRDEnLCAnc3luYycpO1xuICAgICAgICB0aGlzLnN5bmNOb3coKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLnNldHRpbmdzLnN5bmNJbnRlcnZhbCAqIDEwMDApO1xuXG4gICAgdGhpcy5sb2dnZXIuaW5mbyhgXHU4MUVBXHU1MkE4XHU1NDBDXHU2QjY1XHU1REYyXHU1NDJGXHU1MkE4XHVGRjBDXHU5NUY0XHU5Njk0OiAke3RoaXMuc2V0dGluZ3Muc3luY0ludGVydmFsfVx1NzlEMmAsICdzeW5jJyk7XG4gIH1cblxuICBzdG9wQXV0b1N5bmMoKSB7XG4gICAgaWYgKHRoaXMuc3luY0ludGVydmFsSWQpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5zeW5jSW50ZXJ2YWxJZCk7XG4gICAgICB0aGlzLnN5bmNJbnRlcnZhbElkID0gMDtcbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1x1ODFFQVx1NTJBOFx1NTQwQ1x1NkI2NVx1NURGMlx1NTA1Q1x1NkI2MicsICdzeW5jJyk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZW5zdXJlVGFyZ2V0Rm9sZGVyKCkge1xuICAgIGNvbnN0IHsgdmF1bHQgfSA9IHRoaXMuYXBwO1xuICAgIGNvbnN0IGZvbGRlclBhdGggPSB0aGlzLnNldHRpbmdzLnRhcmdldEZvbGRlcjtcblxuICAgIC8vIFx1NjhDMFx1NjdFNVx1NjU4N1x1NEVGNlx1NTkzOVx1NjYyRlx1NTQyNlx1NUI1OFx1NTcyOFxuICAgIGNvbnN0IGZvbGRlciA9IHZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmb2xkZXJQYXRoKTtcblxuICAgIGlmICghZm9sZGVyKSB7XG4gICAgICAvLyBcdTUyMUJcdTVFRkFcdTY1ODdcdTRFRjZcdTU5MzlcbiAgICAgIGF3YWl0IHZhdWx0LmNyZWF0ZUZvbGRlcihmb2xkZXJQYXRoKTtcbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oYFx1NTIxQlx1NUVGQVx1NzZFRVx1NjgwN1x1NjU4N1x1NEVGNlx1NTkzOTogJHtmb2xkZXJQYXRofWAsICdmaWxlc3lzdGVtJyk7XG4gICAgfSBlbHNlIGlmICghKGZvbGRlciBpbnN0YW5jZW9mIFRGb2xkZXIpKSB7XG4gICAgICAvLyBcdTVCNThcdTU3MjhcdTU0MENcdTU0MERcdTY1ODdcdTRFRjZcdUZGMENcdTRFMERcdTY2MkZcdTY1ODdcdTRFRjZcdTU5MzlcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oYFx1OERFRlx1NUY4NCAke2ZvbGRlclBhdGh9IFx1NURGMlx1NUI1OFx1NTcyOFx1NEY0Nlx1NEUwRFx1NjYyRlx1NjU4N1x1NEVGNlx1NTkzOWAsICdmaWxlc3lzdGVtJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBcdTc2RUVcdTY4MDdcdTY1ODdcdTRFRjZcdTU5MzlcdTVERjJcdTVCNThcdTU3Mjg6ICR7Zm9sZGVyUGF0aH1gLCAnZmlsZXN5c3RlbScpO1xuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBPcGVuQ2xhd01lbW9yeVN5bmNTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gIHBsdWdpbjogT3BlbkNsYXdNZW1vcnlTeW5jO1xuXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE9wZW5DbGF3TWVtb3J5U3luYykge1xuICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgfVxuXG4gIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblxuICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdPcGVuQ2xhd1x1OEJCMFx1NUZDNlx1NTQwQ1x1NkI2NVx1OEJCRVx1N0Y2RScgfSk7XG5cbiAgICAvLyBBUElcdThCQkVcdTdGNkVcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdBUElcdTY3MERcdTUyQTFcdTU2NjhcdTU3MzBcdTU3NDAnKVxuICAgICAgLnNldERlc2MoJ09wZW5DbGF3IEFQSVx1NjcwRFx1NTJBMVx1NTY2OFx1NzY4NFx1NTczMFx1NTc0MCcpXG4gICAgICAuYWRkVGV4dCh0ZXh0ID0+XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ2xvY2FsaG9zdCcpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaVVybClcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpVXJsID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ0FQSVx1N0FFRlx1NTNFMycpXG4gICAgICAuc2V0RGVzYygnT3BlbkNsYXcgQVBJXHU2NzBEXHU1MkExXHU1NjY4XHU3Njg0XHU3QUVGXHU1M0UzJylcbiAgICAgIC5hZGRUZXh0KHRleHQgPT5cbiAgICAgICAgdGV4dFxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignODc2NScpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaVBvcnQudG9TdHJpbmcoKSlcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpUG9ydCA9IHBhcnNlSW50KHZhbHVlKSB8fCA4NzY1O1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAvLyBcdTU0MENcdTZCNjVcdThCQkVcdTdGNkVcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdcdTgxRUFcdTUyQThcdTU0MENcdTZCNjUnKVxuICAgICAgLnNldERlc2MoJ1x1NTQyRlx1NzUyOFx1ODFFQVx1NTJBOFx1NTQwQ1x1NkI2NScpXG4gICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PlxuICAgICAgICB0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b1N5bmMpLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvU3luYyA9IHZhbHVlO1xuICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXG4gICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zdGFydEF1dG9TeW5jKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnN0b3BBdXRvU3luYygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdcdTU0MENcdTZCNjVcdTk1RjRcdTk2OTRcdUZGMDhcdTc5RDJcdUZGMDknKVxuICAgICAgLnNldERlc2MoJ1x1ODFFQVx1NTJBOFx1NTQwQ1x1NkI2NVx1NzY4NFx1NjVGNlx1OTVGNFx1OTVGNFx1OTY5NCcpXG4gICAgICAuYWRkVGV4dCh0ZXh0ID0+XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJzMwMCcpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnN5bmNJbnRlcnZhbC50b1N0cmluZygpKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zeW5jSW50ZXJ2YWwgPSBwYXJzZUludCh2YWx1ZSkgfHwgMzAwO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvU3luYykge1xuICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zdG9wQXV0b1N5bmMoKTtcbiAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc3RhcnRBdXRvU3luYygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnXHU1MUIyXHU3QTgxXHU4OUUzXHU1MUIzXHU3QjU2XHU3NTY1JylcbiAgICAgIC5zZXREZXNjKCdcdTVGNTNcdTY1ODdcdTRFRjZcdTUxQjJcdTdBODFcdTY1RjZcdTc2ODRcdTg5RTNcdTUxQjNcdTdCNTZcdTc1NjUnKVxuICAgICAgLmFkZERyb3Bkb3duKGRyb3Bkb3duID0+XG4gICAgICAgIGRyb3Bkb3duXG4gICAgICAgICAgLmFkZE9wdGlvbigndGltZXN0YW1wJywgJ1x1NjVGNlx1OTVGNFx1NjIzM1x1NEYxOFx1NTE0OFx1RkYwOFx1NjcwMFx1NjVCMFx1NzY4NFx1ODBEQ1x1NTFGQVx1RkYwOScpXG4gICAgICAgICAgLmFkZE9wdGlvbignbG9jYWwnLCAnXHU2NzJDXHU1NzMwXHU0RjE4XHU1MTQ4JylcbiAgICAgICAgICAuYWRkT3B0aW9uKCdyZW1vdGUnLCAnXHU4RkRDXHU3QTBCXHU0RjE4XHU1MTQ4JylcbiAgICAgICAgICAuYWRkT3B0aW9uKCdhc2snLCAnXHU4QkUyXHU5NUVFXHU3NTI4XHU2MjM3JylcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY29uZmxpY3RTdHJhdGVneSlcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbmZsaWN0U3RyYXRlZ3kgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgLy8gXHU2NTg3XHU0RUY2XHU1OTM5XHU4QkJFXHU3RjZFXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnXHU3NkVFXHU2ODA3XHU2NTg3XHU0RUY2XHU1OTM5JylcbiAgICAgIC5zZXREZXNjKCdcdThCQjBcdTVGQzZcdTY1ODdcdTRFRjZcdTRGRERcdTVCNThcdTc2ODRcdTY1ODdcdTRFRjZcdTU5MzlcdThERUZcdTVGODQnKVxuICAgICAgLmFkZFRleHQodGV4dCA9PlxuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCdPcGVuQ2xhd1x1OEJCMFx1NUZDNlx1NUU5MycpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnRhcmdldEZvbGRlcilcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudGFyZ2V0Rm9sZGVyID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmVuc3VyZVRhcmdldEZvbGRlcigpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgLy8gXHU5QUQ4XHU3RUE3XHU4QkJFXHU3RjZFXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnXHU1NDJGXHU3NTI4V2ViU29ja2V0JylcbiAgICAgIC5zZXREZXNjKCdcdTU0MkZcdTc1MjhcdTVCOUVcdTY1RjZcdTY2RjRcdTY1QjBcdTkwMUFcdTc3RTUnKVxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT5cbiAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZVdlYlNvY2tldCkub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZVdlYlNvY2tldCA9IHZhbHVlO1xuICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ1x1NjM5Mlx1OTY2NFx1NkEyMVx1NUYwRicpXG4gICAgICAuc2V0RGVzYygnXHU0RTBEXHU1NDBDXHU2QjY1XHU3Njg0XHU2NTg3XHU0RUY2XHU2QTIxXHU1RjBGXHVGRjA4XHU2QkNGXHU4ODRDXHU0RTAwXHU0RTJBXHVGRjA5JylcbiAgICAgIC5hZGRUZXh0QXJlYSh0ZXh0ID0+XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJyoudG1wXFxuLipcXG5ub2RlX21vZHVsZXMvJylcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhjbHVkZVBhdHRlcm5zLmpvaW4oJ1xcbicpKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5leGNsdWRlUGF0dGVybnMgPSB2YWx1ZS5zcGxpdCgnXFxuJykuZmlsdGVyKHAgPT4gcC50cmltKCkpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdcdTY1RTVcdTVGRDdcdTdFQTdcdTUyMkInKVxuICAgICAgLnNldERlc2MoJ1x1NjNBN1x1NTIzNlx1NTNGMFx1NjVFNVx1NUZEN1x1NzY4NFx1OEJFNlx1N0VDNlx1N0EwQlx1NUVBNicpXG4gICAgICAuYWRkRHJvcGRvd24oZHJvcGRvd24gPT5cbiAgICAgICAgZHJvcGRvd25cbiAgICAgICAgICAuYWRkT3B0aW9uKCdkZWJ1ZycsICdcdThDMDNcdThCRDUnKVxuICAgICAgICAgIC5hZGRPcHRpb24oJ2luZm8nLCAnXHU0RkUxXHU2MDZGJylcbiAgICAgICAgICAuYWRkT3B0aW9uKCd3YXJuJywgJ1x1OEI2Nlx1NTQ0QScpXG4gICAgICAgICAgLmFkZE9wdGlvbignZXJyb3InLCAnXHU5NTE5XHU4QkVGJylcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubG9nTGV2ZWwpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogYW55KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sb2dMZXZlbCA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAvLyBcdTZENEJcdThCRDVcdThGREVcdTYzQTVcdTYzMDlcdTk0QUVcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdcdTZENEJcdThCRDVcdThGREVcdTYzQTUnKVxuICAgICAgLnNldERlc2MoJ1x1NkQ0Qlx1OEJENVx1NEUwRU9wZW5DbGF3IEFQSVx1NjcwRFx1NTJBMVx1NTY2OFx1NzY4NFx1OEZERVx1NjNBNScpXG4gICAgICAuYWRkQnV0dG9uKGJ1dHRvbiA9PlxuICAgICAgICBidXR0b24uc2V0QnV0dG9uVGV4dCgnXHU2RDRCXHU4QkQ1XHU4RkRFXHU2M0E1Jykub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwaUNsaWVudC50ZXN0Q29ubmVjdGlvbigpO1xuICAgICAgICAgICAgbmV3IE5vdGljZSgnXHUyNzA1IFx1OEZERVx1NjNBNVx1NkQ0Qlx1OEJENVx1NjIxMFx1NTI5RicpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKGBcdTI3NEMgXHU4RkRFXHU2M0E1XHU2RDRCXHU4QkQ1XHU1OTMxXHU4RDI1OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIC8vIFx1N0FDQlx1NTM3M1x1NTQwQ1x1NkI2NVx1NjMwOVx1OTRBRVxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ1x1N0FDQlx1NTM3M1x1NTQwQ1x1NkI2NScpXG4gICAgICAuc2V0RGVzYygnXHU2MjRCXHU1MkE4XHU4OUU2XHU1M0QxXHU1NDBDXHU2QjY1JylcbiAgICAgIC5hZGRCdXR0b24oYnV0dG9uID0+XG4gICAgICAgIGJ1dHRvbi5zZXRCdXR0b25UZXh0KCdcdTVGMDBcdTU5Q0JcdTU0MENcdTZCNjUnKS5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zeW5jTm93KCk7XG4gICAgICAgIH0pXG4gICAgICApO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xuXG5leHBvcnQgaW50ZXJmYWNlIE9wZW5DbGF3TWVtb3J5U3luY1NldHRpbmdzIHtcblx0YXBpVXJsOiBzdHJpbmc7XG5cdGFwaVBvcnQ6IG51bWJlcjtcblx0c3luY0ludGVydmFsOiBudW1iZXI7XG5cdGF1dG9TeW5jOiBib29sZWFuO1xuXHRjb25mbGljdFN0cmF0ZWd5OiAndGltZXN0YW1wJyB8ICdsb2NhbCcgfCAncmVtb3RlJyB8ICdhc2snO1xuXHRleGNsdWRlUGF0dGVybnM6IHN0cmluZ1tdO1xuXHRlbmFibGVXZWJTb2NrZXQ6IGJvb2xlYW47XG5cdGxvZ0xldmVsOiAnZGVidWcnIHwgJ2luZm8nIHwgJ3dhcm4nIHwgJ2Vycm9yJztcblx0dGFyZ2V0Rm9sZGVyOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVtb3J5RmlsZSB7XG5cdG5hbWU6IHN0cmluZztcblx0cGF0aDogc3RyaW5nO1xuXHRzaXplOiBudW1iZXI7XG5cdGNyZWF0ZWQ6IERhdGU7XG5cdG1vZGlmaWVkOiBEYXRlO1xuXHRsaW5lczogbnVtYmVyIHwgUHJvbWlzZTxudW1iZXI+O1xuXHRwcmV2aWV3OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZUNvbnRlbnQge1xuXHRmaWxlbmFtZTogc3RyaW5nO1xuXHRjb250ZW50OiBzdHJpbmc7XG5cdHN0YXRzOiB7XG5cdFx0c2l6ZTogbnVtYmVyO1xuXHRcdGNyZWF0ZWQ6IERhdGU7XG5cdFx0bW9kaWZpZWQ6IERhdGU7XG5cdH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VhcmNoUmVzdWx0IHtcblx0ZmlsZW5hbWU6IHN0cmluZztcblx0bWF0Y2hlczogbnVtYmVyO1xuXHRwcmV2aWV3OiBzdHJpbmdbXTtcblx0Y29udGVudDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lbW9yeVN0YXRzIHtcblx0dG90YWxGaWxlczogbnVtYmVyO1xuXHR0b3RhbFNpemU6IG51bWJlcjtcblx0dG90YWxMaW5lczogbnVtYmVyO1xuXHRhdmVyYWdlU2l6ZTogbnVtYmVyO1xuXHRhdmVyYWdlTGluZXM6IG51bWJlcjtcblx0YnlNb250aDogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcblx0YnlXZWVrZGF5OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuXHRsYXN0VXBkYXRlZDogRGF0ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXZWJTb2NrZXRNZXNzYWdlIHtcblx0dHlwZTogc3RyaW5nO1xuXHRldmVudD86IHN0cmluZztcblx0ZGF0YT86IGFueTtcblx0dGltZXN0YW1wOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBPcGVuQ2xhd0FQSUNsaWVudCB7XG5cdHByaXZhdGUgYmFzZVVybDogc3RyaW5nO1xuXHRwcml2YXRlIHdzVXJsOiBzdHJpbmc7XG5cdHByaXZhdGUgd3M6IFdlYlNvY2tldCB8IG51bGwgPSBudWxsO1xuXHRwcml2YXRlIHJlY29ubmVjdEF0dGVtcHRzID0gMDtcblx0cHJpdmF0ZSBtYXhSZWNvbm5lY3RBdHRlbXB0cyA9IDU7XG5cdHByaXZhdGUgcmVjb25uZWN0RGVsYXkgPSAxMDAwO1xuXHRwcml2YXRlIG1lc3NhZ2VIYW5kbGVyczogTWFwPHN0cmluZywgRnVuY3Rpb25bXT4gPSBuZXcgTWFwKCk7XG5cblx0Y29uc3RydWN0b3IocHJpdmF0ZSBzZXR0aW5nczogT3BlbkNsYXdNZW1vcnlTeW5jU2V0dGluZ3MpIHtcblx0XHR0aGlzLmJhc2VVcmwgPSBgaHR0cDovLyR7c2V0dGluZ3MuYXBpVXJsfToke3NldHRpbmdzLmFwaVBvcnR9YDtcblx0XHR0aGlzLndzVXJsID0gYHdzOi8vJHtzZXR0aW5ncy5hcGlVcmx9Ojg3NjZgO1xuXHR9XG5cblx0YXN5bmMgY29ubmVjdCgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHQvLyBcdTZENEJcdThCRDVIVFRQXHU4RkRFXHU2M0E1XG5cdFx0YXdhaXQgdGhpcy50ZXN0Q29ubmVjdGlvbigpO1xuXHRcdFxuXHRcdC8vIFx1OEZERVx1NjNBNVdlYlNvY2tldFxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZVdlYlNvY2tldCkge1xuXHRcdFx0YXdhaXQgdGhpcy5jb25uZWN0V2ViU29ja2V0KCk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgZGlzY29ubmVjdCgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRpZiAodGhpcy53cykge1xuXHRcdFx0dGhpcy53cy5jbG9zZSgpO1xuXHRcdFx0dGhpcy53cyA9IG51bGw7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgdGVzdENvbm5lY3Rpb24oKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9oZWFsdGhgKTtcblx0XHRcdGlmICghcmVzcG9uc2Uub2spIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXHRcdFx0aWYgKGRhdGEuc3RhdHVzICE9PSAnb2snKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignQVBJXHU2NzBEXHU1MkExXHU1NjY4XHU3MkI2XHU2MDAxXHU1RjAyXHU1RTM4Jyk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGNvbnNvbGUubG9nKCdPcGVuQ2xhdyBBUElcdThGREVcdTYzQTVcdTZENEJcdThCRDVcdTYyMTBcdTUyOUYnKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcignT3BlbkNsYXcgQVBJXHU4RkRFXHU2M0E1XHU2RDRCXHU4QkQ1XHU1OTMxXHU4RDI1OicsIGVycm9yKTtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgXHU4RkRFXHU2M0E1XHU2RDRCXHU4QkQ1XHU1OTMxXHU4RDI1OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgZ2V0TWVtb3J5SW5mbygpOiBQcm9taXNlPGFueT4ge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5mZXRjaFdpdGhSZXRyeShgJHt0aGlzLmJhc2VVcmx9L2FwaS9tZW1vcnkvaW5mb2ApO1xuXHRcdHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdH1cblxuXHRhc3luYyBnZXRGaWxlcygpOiBQcm9taXNlPE1lbW9yeUZpbGVbXT4ge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5mZXRjaFdpdGhSZXRyeShgJHt0aGlzLmJhc2VVcmx9L2FwaS9tZW1vcnkvZmlsZXNgKTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXHRcdHJldHVybiBkYXRhLmZpbGVzLm1hcCgoZmlsZTogYW55KSA9PiAoe1xuXHRcdFx0Li4uZmlsZSxcblx0XHRcdGNyZWF0ZWQ6IG5ldyBEYXRlKGZpbGUuY3JlYXRlZCksXG5cdFx0XHRtb2RpZmllZDogbmV3IERhdGUoZmlsZS5tb2RpZmllZClcblx0XHR9KSk7XG5cdH1cblxuXHRhc3luYyBnZXRGaWxlKGZpbGVuYW1lOiBzdHJpbmcpOiBQcm9taXNlPEZpbGVDb250ZW50PiB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoV2l0aFJldHJ5KGAke3RoaXMuYmFzZVVybH0vYXBpL21lbW9yeS9maWxlcy8ke2ZpbGVuYW1lfWApO1xuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLmRhdGEsXG5cdFx0XHRzdGF0czoge1xuXHRcdFx0XHQuLi5kYXRhLnN0YXRzLFxuXHRcdFx0XHRjcmVhdGVkOiBuZXcgRGF0ZShkYXRhLnN0YXRzLmNyZWF0ZWQpLFxuXHRcdFx0XHRtb2RpZmllZDogbmV3IERhdGUoZGF0YS5zdGF0cy5tb2RpZmllZClcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cblx0YXN5bmMgc2F2ZUZpbGUoZmlsZW5hbWU6IHN0cmluZywgY29udGVudDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2FwaS9tZW1vcnkvZmlsZXMvJHtmaWxlbmFtZX1gLCB7XG5cdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICd0ZXh0L3BsYWluJ1xuXHRcdFx0fSxcblx0XHRcdGJvZHk6IGNvbnRlbnRcblx0XHR9KTtcblx0XHRcblx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFx1NEZERFx1NUI1OFx1NjU4N1x1NEVGNlx1NTkzMVx1OEQyNTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGRlbGV0ZUZpbGUoZmlsZW5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9hcGkvbWVtb3J5L2ZpbGVzLyR7ZmlsZW5hbWV9YCwge1xuXHRcdFx0bWV0aG9kOiAnREVMRVRFJ1xuXHRcdH0pO1xuXHRcdFxuXHRcdGlmICghcmVzcG9uc2Uub2spIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgXHU1MjIwXHU5NjY0XHU2NTg3XHU0RUY2XHU1OTMxXHU4RDI1OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgc2VhcmNoKHF1ZXJ5OiBzdHJpbmcpOiBQcm9taXNlPFNlYXJjaFJlc3VsdFtdPiB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoV2l0aFJldHJ5KGAke3RoaXMuYmFzZVVybH0vYXBpL21lbW9yeS9zZWFyY2g/cT0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSl9YCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHRyZXR1cm4gZGF0YS5yZXN1bHRzO1xuXHR9XG5cblx0YXN5bmMgZ2V0U3RhdHMoKTogUHJvbWlzZTxNZW1vcnlTdGF0cz4ge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5mZXRjaFdpdGhSZXRyeShgJHt0aGlzLmJhc2VVcmx9L2FwaS9tZW1vcnkvc3RhdHNgKTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5kYXRhLFxuXHRcdFx0bGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKGRhdGEubGFzdFVwZGF0ZWQpXG5cdFx0fTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgZmV0Y2hXaXRoUmV0cnkodXJsOiBzdHJpbmcsIG9wdGlvbnM6IFJlcXVlc3RJbml0ID0ge30sIHJldHJpZXMgPSAzKTogUHJvbWlzZTxSZXNwb25zZT4ge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcmV0cmllczsgaSsrKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgb3B0aW9ucyk7XG5cdFx0XHRcdGlmIChyZXNwb25zZS5vaykge1xuXHRcdFx0XHRcdHJldHVybiByZXNwb25zZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0aWYgKGkgPCByZXRyaWVzIC0gMSkge1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMuc2xlZXAoMTAwMCAqIChpICsgMSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRpZiAoaSA8IHJldHJpZXMgLSAxKSB7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5zbGVlcCgxMDAwICogKGkgKyAxKSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBcdThCRjdcdTZDNDJcdTU5MzFcdThEMjU6ICR7dXJsfWApO1xuXHR9XG5cblx0cHJpdmF0ZSBzbGVlcChtczogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xuXHR9XG5cblx0Ly8gV2ViU29ja2V0XHU3NkY4XHU1MTczXHU2NUI5XHU2Q0Q1XG5cdHByaXZhdGUgYXN5bmMgY29ubmVjdFdlYlNvY2tldCgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dGhpcy53cyA9IG5ldyBXZWJTb2NrZXQodGhpcy53c1VybCk7XG5cdFx0XHRcdFxuXHRcdFx0XHR0aGlzLndzLm9ub3BlbiA9ICgpID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnT3BlbkNsYXcgV2ViU29ja2V0XHU4RkRFXHU2M0E1XHU2MjEwXHU1MjlGJyk7XG5cdFx0XHRcdFx0dGhpcy5yZWNvbm5lY3RBdHRlbXB0cyA9IDA7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gXHU1M0QxXHU5MDAxXHU4QkEyXHU5NjA1XHU2RDg4XHU2MDZGXG5cdFx0XHRcdFx0dGhpcy53cz8uc2VuZChKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRcdFx0XHR0eXBlOiAnc3Vic2NyaWJlJyxcblx0XHRcdFx0XHRcdGNoYW5uZWxzOiBbJ2ZpbGVfY2hhbmdlcyddXG5cdFx0XHRcdFx0fSkpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdHJlc29sdmUoKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0XG5cdFx0XHRcdHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGNvbnN0IG1lc3NhZ2U6IFdlYlNvY2tldE1lc3NhZ2UgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuXHRcdFx0XHRcdFx0dGhpcy5oYW5kbGVXZWJTb2NrZXRNZXNzYWdlKG1lc3NhZ2UpO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCdXZWJTb2NrZXRcdTZEODhcdTYwNkZcdTg5RTNcdTY3OTBcdTU5MzFcdThEMjU6JywgZXJyb3IpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdFx0XG5cdFx0XHRcdHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnT3BlbkNsYXcgV2ViU29ja2V0XHU4RkRFXHU2M0E1XHU1MTczXHU5NUVEJyk7XG5cdFx0XHRcdFx0dGhpcy53cyA9IG51bGw7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gXHU1QzFEXHU4QkQ1XHU5MUNEXHU4RkRFXG5cdFx0XHRcdFx0aWYgKHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPCB0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnJlY29ubmVjdEF0dGVtcHRzKys7XG5cdFx0XHRcdFx0XHRjb25zdCBkZWxheSA9IHRoaXMucmVjb25uZWN0RGVsYXkgKiBNYXRoLnBvdygyLCB0aGlzLnJlY29ubmVjdEF0dGVtcHRzIC0gMSk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGBXZWJTb2NrZXRcdTVDMDZcdTU3MjggJHtkZWxheX1tcyBcdTU0MEVcdTkxQ0RcdThGREUgKFx1NUMxRFx1OEJENSAke3RoaXMucmVjb25uZWN0QXR0ZW1wdHN9LyR7dGhpcy5tYXhSZWNvbm5lY3RBdHRlbXB0c30pYCk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0aGlzLmNvbm5lY3RXZWJTb2NrZXQoKS5jYXRjaChjb25zb2xlLmVycm9yKTtcblx0XHRcdFx0XHRcdH0sIGRlbGF5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHRcdFxuXHRcdFx0XHR0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCdPcGVuQ2xhdyBXZWJTb2NrZXRcdTk1MTlcdThCRUY6JywgZXJyb3IpO1xuXHRcdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHRcdH07XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBoYW5kbGVXZWJTb2NrZXRNZXNzYWdlKG1lc3NhZ2U6IFdlYlNvY2tldE1lc3NhZ2UpOiB2b2lkIHtcblx0XHRzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xuXHRcdFx0Y2FzZSAnd2VsY29tZSc6XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdXZWJTb2NrZXRcdTZCMjJcdThGQ0VcdTZEODhcdTYwNkY6JywgbWVzc2FnZS5kYXRhPy5tZXNzYWdlIHx8ICdDb25uZWN0ZWQnKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFxuXHRcdFx0Y2FzZSAnbm90aWZpY2F0aW9uJzpcblx0XHRcdFx0dGhpcy5lbWl0KG1lc3NhZ2UuZXZlbnQgfHwgJ3Vua25vd24nLCBtZXNzYWdlLmRhdGEpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdFx0XG5cdFx0XHRjYXNlICdwb25nJzpcblx0XHRcdFx0Ly8gXHU1RkMzXHU4REYzXHU1NENEXHU1RTk0XHVGRjBDXHU0RTBEXHU1MDVBXHU1OTA0XHU3NDA2XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdcdTY3MkFcdTc3RTVcdTc2ODRXZWJTb2NrZXRcdTZEODhcdTYwNkZcdTdDN0JcdTU3OEI6JywgbWVzc2FnZS50eXBlKTtcblx0XHR9XG5cdH1cblxuXHQvLyBcdTRFOEJcdTRFRjZcdTdDRkJcdTdFREZcblx0b24oZXZlbnQ6IHN0cmluZywgaGFuZGxlcjogRnVuY3Rpb24pOiB2b2lkIHtcblx0XHRpZiAoIXRoaXMubWVzc2FnZUhhbmRsZXJzLmhhcyhldmVudCkpIHtcblx0XHRcdHRoaXMubWVzc2FnZUhhbmRsZXJzLnNldChldmVudCwgW10pO1xuXHRcdH1cblx0XHR0aGlzLm1lc3NhZ2VIYW5kbGVycy5nZXQoZXZlbnQpPy5wdXNoKGhhbmRsZXIpO1xuXHR9XG5cblx0b2ZmKGV2ZW50OiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uKTogdm9pZCB7XG5cdFx0Y29uc3QgaGFuZGxlcnMgPSB0aGlzLm1lc3NhZ2VIYW5kbGVycy5nZXQoZXZlbnQpO1xuXHRcdGlmIChoYW5kbGVycykge1xuXHRcdFx0Y29uc3QgaW5kZXggPSBoYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xuXHRcdFx0aWYgKGluZGV4ID4gLTEpIHtcblx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGVtaXQoZXZlbnQ6IHN0cmluZywgZGF0YTogYW55KTogdm9pZCB7XG5cdFx0Y29uc3QgaGFuZGxlcnMgPSB0aGlzLm1lc3NhZ2VIYW5kbGVycy5nZXQoZXZlbnQpO1xuXHRcdGlmIChoYW5kbGVycykge1xuXHRcdFx0aGFuZGxlcnMuZm9yRWFjaChoYW5kbGVyID0+IHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRoYW5kbGVyKGRhdGEpO1xuXHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoYFx1NEU4Qlx1NEVGNlx1NTkwNFx1NzQwNlx1NTY2OFx1OTUxOVx1OEJFRiAoJHtldmVudH0pOmAsIGVycm9yKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gXHU1REU1XHU1MTc3XHU2NUI5XHU2Q0Q1XG5cdGlzQ29ubmVjdGVkKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLndzICE9PSBudWxsICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU47XG5cdH1cblxuXHRnZXRDb25uZWN0aW9uU3RhdHVzKCk6IHN0cmluZyB7XG5cdFx0aWYgKCF0aGlzLndzKSB7XG5cdFx0XHRyZXR1cm4gJ2Rpc2Nvbm5lY3RlZCc7XG5cdFx0fVxuXHRcdFxuXHRcdHN3aXRjaCAodGhpcy53cy5yZWFkeVN0YXRlKSB7XG5cdFx0XHRjYXNlIFdlYlNvY2tldC5DT05ORUNUSU5HOlxuXHRcdFx0XHRyZXR1cm4gJ2Nvbm5lY3RpbmcnO1xuXHRcdFx0Y2FzZSBXZWJTb2NrZXQuT1BFTjpcblx0XHRcdFx0cmV0dXJuICdjb25uZWN0ZWQnO1xuXHRcdFx0Y2FzZSBXZWJTb2NrZXQuQ0xPU0lORzpcblx0XHRcdFx0cmV0dXJuICdjbG9zaW5nJztcblx0XHRcdGNhc2UgV2ViU29ja2V0LkNMT1NFRDpcblx0XHRcdFx0cmV0dXJuICdjbG9zZWQnO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuICd1bmtub3duJztcblx0XHR9XG5cdH1cbn0iLCAiaW1wb3J0IHsgQXBwLCBURmlsZSwgVEZvbGRlciwgbm9ybWFsaXplUGF0aCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IE9wZW5DbGF3QVBJQ2xpZW50LCBNZW1vcnlGaWxlIH0gZnJvbSAnLi9hcGktY2xpZW50JztcblxuZXhwb3J0IGludGVyZmFjZSBPcGVuQ2xhd01lbW9yeVN5bmNTZXR0aW5ncyB7XG4gIGFwaVVybDogc3RyaW5nO1xuICBhcGlQb3J0OiBudW1iZXI7XG4gIHN5bmNJbnRlcnZhbDogbnVtYmVyO1xuICBhdXRvU3luYzogYm9vbGVhbjtcbiAgY29uZmxpY3RTdHJhdGVneTogJ3RpbWVzdGFtcCcgfCAnbG9jYWwnIHwgJ3JlbW90ZScgfCAnYXNrJztcbiAgZXhjbHVkZVBhdHRlcm5zOiBzdHJpbmdbXTtcbiAgZW5hYmxlV2ViU29ja2V0OiBib29sZWFuO1xuICBsb2dMZXZlbDogJ2RlYnVnJyB8ICdpbmZvJyB8ICd3YXJuJyB8ICdlcnJvcic7XG4gIHRhcmdldEZvbGRlcjogc3RyaW5nO1xufVxuXG5leHBvcnQgZW51bSBTeW5jU3RhdGUge1xuICBJRExFID0gJ2lkbGUnLFxuICBTWU5DSU5HID0gJ3N5bmNpbmcnLFxuICBDT05GTElDVCA9ICdjb25mbGljdCcsXG4gIEVSUk9SID0gJ2Vycm9yJyxcbiAgUEFVU0VEID0gJ3BhdXNlZCdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTeW5jRXJyb3Ige1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGZpbGU/OiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogRGF0ZTtcbiAgcmV0cnlhYmxlOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN5bmNTdGF0dXMge1xuICBzdGF0ZTogU3luY1N0YXRlO1xuICBwcm9ncmVzczogbnVtYmVyO1xuICBjdXJyZW50RmlsZTogc3RyaW5nO1xuICBmaWxlc1N5bmNlZDogbnVtYmVyO1xuICB0b3RhbEZpbGVzOiBudW1iZXI7XG4gIGxhc3RTeW5jOiBEYXRlIHwgbnVsbDtcbiAgZXJyb3JzOiBTeW5jRXJyb3JbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaWxlRGlmZiB7XG4gIGFkZGVkOiBzdHJpbmdbXTtcbiAgbW9kaWZpZWQ6IHN0cmluZ1tdO1xuICBkZWxldGVkOiBzdHJpbmdbXTtcbiAgY29uZmxpY3RzOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGNsYXNzIFN5bmNFbmdpbmUge1xuICBwcml2YXRlIHN0YXR1czogU3luY1N0YXR1cyA9IHtcbiAgICBzdGF0ZTogU3luY1N0YXRlLklETEUsXG4gICAgcHJvZ3Jlc3M6IDAsXG4gICAgY3VycmVudEZpbGU6ICcnLFxuICAgIGZpbGVzU3luY2VkOiAwLFxuICAgIHRvdGFsRmlsZXM6IDAsXG4gICAgbGFzdFN5bmM6IG51bGwsXG4gICAgZXJyb3JzOiBbXVxuICB9O1xuXG4gIHByaXZhdGUgc3RhdHVzQ2hhbmdlSGFuZGxlcnM6ICgoc3RhdHVzOiBTeW5jU3RhdHVzKSA9PiB2b2lkKVtdID0gW107XG4gIHByaXZhdGUgaXNQYXVzZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSBzeW5jUXVldWU6IHN0cmluZ1tdID0gW107XG4gIHByaXZhdGUgZmlsZUNhY2hlOiBNYXA8c3RyaW5nLCB7IGNvbnRlbnQ6IHN0cmluZzsgbW9kaWZpZWQ6IERhdGUgfT4gPSBuZXcgTWFwKCk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBhcHA6IEFwcCxcbiAgICBwcml2YXRlIGFwaUNsaWVudDogT3BlbkNsYXdBUElDbGllbnQsXG4gICAgcHJpdmF0ZSBzZXR0aW5nczogT3BlbkNsYXdNZW1vcnlTeW5jU2V0dGluZ3NcbiAgKSB7XG4gICAgLy8gXHU3NkQxXHU1NDJDV2ViU29ja2V0XHU0RThCXHU0RUY2XG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlV2ViU29ja2V0KSB7XG4gICAgICB0aGlzLmFwaUNsaWVudC5vbignZmlsZV9jaGFuZ2VkJywgKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZVJlbW90ZUNoYW5nZShkYXRhKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHN5bmMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuc3RhdHVzLnN0YXRlID09PSBTeW5jU3RhdGUuU1lOQ0lORykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcdTU0MENcdTZCNjVcdTZCNjNcdTU3MjhcdThGREJcdTg4NENcdTRFMkQnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc1BhdXNlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcdTU0MENcdTZCNjVcdTVERjJcdTY2ODJcdTUwNUMnKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy51cGRhdGVTdGF0dXMoe1xuICAgICAgICBzdGF0ZTogU3luY1N0YXRlLlNZTkNJTkcsXG4gICAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgICBjdXJyZW50RmlsZTogJ1x1NkI2M1x1NTcyOFx1NTFDNlx1NTkwN1x1NTQwQ1x1NkI2NS4uLicsXG4gICAgICAgIGZpbGVzU3luY2VkOiAwLFxuICAgICAgICB0b3RhbEZpbGVzOiAwLFxuICAgICAgICBlcnJvcnM6IFtdXG4gICAgICB9KTtcblxuICAgICAgLy8gMS4gXHU4M0I3XHU1M0Q2XHU4RkRDXHU3QTBCXHU2NTg3XHU0RUY2XHU1MjE3XHU4ODY4XG4gICAgICBjb25zdCByZW1vdGVGaWxlcyA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LmdldEZpbGVzKCk7XG5cbiAgICAgIC8vIDIuIFx1ODNCN1x1NTNENlx1NjcyQ1x1NTczMFx1NjU4N1x1NEVGNlx1NTIxN1x1ODg2OFxuICAgICAgY29uc3QgbG9jYWxGaWxlcyA9IGF3YWl0IHRoaXMuZ2V0TG9jYWxGaWxlcygpO1xuXG4gICAgICAvLyAzLiBcdThCQTFcdTdCOTdcdTVERUVcdTVGMDJcbiAgICAgIGNvbnN0IGRpZmYgPSB0aGlzLmNhbGN1bGF0ZURpZmYocmVtb3RlRmlsZXMsIGxvY2FsRmlsZXMpO1xuXG4gICAgICAvLyA0LiBcdTVFOTRcdTc1MjhcdTVERUVcdTVGMDJcbiAgICAgIGF3YWl0IHRoaXMuYXBwbHlEaWZmKGRpZmYpO1xuXG4gICAgICAvLyA1LiBcdTY2RjRcdTY1QjBcdTcyQjZcdTYwMDFcbiAgICAgIHRoaXMudXBkYXRlU3RhdHVzKHtcbiAgICAgICAgc3RhdGU6IFN5bmNTdGF0ZS5JRExFLFxuICAgICAgICBwcm9ncmVzczogMTAwLFxuICAgICAgICBjdXJyZW50RmlsZTogJycsXG4gICAgICAgIGZpbGVzU3luY2VkOiBkaWZmLmFkZGVkLmxlbmd0aCArIGRpZmYubW9kaWZpZWQubGVuZ3RoICsgZGlmZi5kZWxldGVkLmxlbmd0aCxcbiAgICAgICAgdG90YWxGaWxlczogcmVtb3RlRmlsZXMubGVuZ3RoICsgbG9jYWxGaWxlcy5sZW5ndGgsXG4gICAgICAgIGxhc3RTeW5jOiBuZXcgRGF0ZSgpLFxuICAgICAgICBlcnJvcnM6IFtdXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy51cGRhdGVTdGF0dXMoe1xuICAgICAgICBzdGF0ZTogU3luY1N0YXRlLkVSUk9SLFxuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgcmV0cnlhYmxlOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9KTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldExvY2FsRmlsZXMoKTogUHJvbWlzZTxNZW1vcnlGaWxlW10+IHtcbiAgICBjb25zdCB0YXJnZXRGb2xkZXIgPSB0aGlzLnNldHRpbmdzLnRhcmdldEZvbGRlcjtcbiAgICBjb25zdCBmb2xkZXIgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgodGFyZ2V0Rm9sZGVyKTtcblxuICAgIGlmICghZm9sZGVyIHx8ICEoZm9sZGVyIGluc3RhbmNlb2YgVEZvbGRlcikpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBmaWxlczogTWVtb3J5RmlsZVtdID0gW107XG5cbiAgICAvLyBcdTkwMTJcdTVGNTJcdTkwNERcdTUzODZcdTY1ODdcdTRFRjZcdTU5MzlcbiAgICBjb25zdCB3YWxrRm9sZGVyID0gKGZvbGRlcjogVEZvbGRlcikgPT4ge1xuICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBmb2xkZXIuY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEZpbGUgJiYgY2hpbGQuZXh0ZW5zaW9uID09PSAnbWQnKSB7XG4gICAgICAgICAgLy8gXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU1NzI4XHU2MzkyXHU5NjY0XHU2QTIxXHU1RjBGXHU0RTJEXG4gICAgICAgICAgaWYgKHRoaXMuaXNFeGNsdWRlZChjaGlsZC5wYXRoKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZmlsZXMucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiBjaGlsZC5uYW1lLFxuICAgICAgICAgICAgcGF0aDogY2hpbGQucGF0aCxcbiAgICAgICAgICAgIHNpemU6IGNoaWxkLnN0YXQuc2l6ZSxcbiAgICAgICAgICAgIGNyZWF0ZWQ6IG5ldyBEYXRlKGNoaWxkLnN0YXQuY3RpbWUpLFxuICAgICAgICAgICAgbW9kaWZpZWQ6IG5ldyBEYXRlKGNoaWxkLnN0YXQubXRpbWUpLFxuICAgICAgICAgICAgbGluZXM6IHRoaXMuYXBwLnZhdWx0XG4gICAgICAgICAgICAgIC5yZWFkKGNoaWxkKVxuICAgICAgICAgICAgICAudGhlbihjb250ZW50ID0+IGNvbnRlbnQuc3BsaXQoJ1xcbicpLmxlbmd0aClcbiAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IDApLFxuICAgICAgICAgICAgcHJldmlldzogJydcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcbiAgICAgICAgICB3YWxrRm9sZGVyKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB3YWxrRm9sZGVyKGZvbGRlcik7XG5cbiAgICAvLyBcdTdCNDlcdTVGODVcdTYyNDBcdTY3MDlcdTg4NENcdTY1NzBcdThCQTFcdTdCOTdcdTVCOENcdTYyMTBcbiAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcbiAgICAgIGZpbGUubGluZXMgPSBhd2FpdCBmaWxlLmxpbmVzO1xuICAgIH1cblxuICAgIHJldHVybiBmaWxlcztcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlRGlmZihyZW1vdGVGaWxlczogTWVtb3J5RmlsZVtdLCBsb2NhbEZpbGVzOiBNZW1vcnlGaWxlW10pOiBGaWxlRGlmZiB7XG4gICAgY29uc3QgZGlmZjogRmlsZURpZmYgPSB7XG4gICAgICBhZGRlZDogW10sXG4gICAgICBtb2RpZmllZDogW10sXG4gICAgICBkZWxldGVkOiBbXSxcbiAgICAgIGNvbmZsaWN0czogW11cbiAgICB9O1xuXG4gICAgY29uc3QgcmVtb3RlTWFwID0gbmV3IE1hcChyZW1vdGVGaWxlcy5tYXAoZiA9PiBbZi5uYW1lLCBmXSkpO1xuICAgIGNvbnN0IGxvY2FsTWFwID0gbmV3IE1hcChsb2NhbEZpbGVzLm1hcChmID0+IFtmLm5hbWUsIGZdKSk7XG5cbiAgICAvLyBcdTY4QzBcdTY3RTVcdThGRENcdTdBMEJcdTY3MDlcdTRGNDZcdTY3MkNcdTU3MzBcdTZDQTFcdTY3MDlcdTc2ODRcdTY1ODdcdTRFRjZcdUZGMDhcdTk3MDBcdTg5ODFcdTZERkJcdTUyQTBcdUZGMDlcbiAgICBmb3IgKGNvbnN0IFtmaWxlbmFtZV0gb2YgcmVtb3RlTWFwKSB7XG4gICAgICBpZiAoIWxvY2FsTWFwLmhhcyhmaWxlbmFtZSkpIHtcbiAgICAgICAgZGlmZi5hZGRlZC5wdXNoKGZpbGVuYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBcdTY4QzBcdTY3RTVcdTY3MkNcdTU3MzBcdTY3MDlcdTRGNDZcdThGRENcdTdBMEJcdTZDQTFcdTY3MDlcdTc2ODRcdTY1ODdcdTRFRjZcdUZGMDhcdTk3MDBcdTg5ODFcdTUyMjBcdTk2NjRcdTYyMTZcdTRFMEFcdTRGMjBcdUZGMDlcbiAgICBmb3IgKGNvbnN0IFtmaWxlbmFtZV0gb2YgbG9jYWxNYXApIHtcbiAgICAgIGlmICghcmVtb3RlTWFwLmhhcyhmaWxlbmFtZSkpIHtcbiAgICAgICAgLy8gXHU2ODM5XHU2MzZFXHU4QkJFXHU3RjZFXHU1MUIzXHU1QjlBXHU2NjJGXHU1MjIwXHU5NjY0XHU4RkQ4XHU2NjJGXHU0RTBBXHU0RjIwXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmNvbmZsaWN0U3RyYXRlZ3kgPT09ICdsb2NhbCcpIHtcbiAgICAgICAgICBkaWZmLmFkZGVkLnB1c2goZmlsZW5hbWUpOyAvLyBcdTVCOUVcdTk2NDVcdTRFMEFcdTRGMjBcdTY3MkNcdTU3MzBcdTY1ODdcdTRFRjZcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaWZmLmRlbGV0ZWQucHVzaChmaWxlbmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBcdTY4QzBcdTY3RTVcdTkwRkRcdTY3MDlcdTRGNDZcdTRGRUVcdTY1MzlcdTY1RjZcdTk1RjRcdTRFMERcdTU0MENcdTc2ODRcdTY1ODdcdTRFRjZcbiAgICBmb3IgKGNvbnN0IFtmaWxlbmFtZSwgcmVtb3RlRmlsZV0gb2YgcmVtb3RlTWFwKSB7XG4gICAgICBjb25zdCBsb2NhbEZpbGUgPSBsb2NhbE1hcC5nZXQoZmlsZW5hbWUpO1xuICAgICAgaWYgKGxvY2FsRmlsZSkge1xuICAgICAgICBjb25zdCByZW1vdGVUaW1lID0gcmVtb3RlRmlsZS5tb2RpZmllZC5nZXRUaW1lKCk7XG4gICAgICAgIGNvbnN0IGxvY2FsVGltZSA9IGxvY2FsRmlsZS5tb2RpZmllZC5nZXRUaW1lKCk7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKHJlbW90ZVRpbWUgLSBsb2NhbFRpbWUpID4gMTAwMCkge1xuICAgICAgICAgIC8vIDFcdTc5RDJcdTVCQjlcdTVERUVcbiAgICAgICAgICBkaWZmLm1vZGlmaWVkLnB1c2goZmlsZW5hbWUpO1xuXG4gICAgICAgICAgLy8gXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU0RTNBXHU1MUIyXHU3QTgxXHVGRjA4XHU1M0NDXHU2NUI5XHU5MEZEXHU0RkVFXHU2NTM5XHU0RTg2XHVGRjA5XG4gICAgICAgICAgY29uc3QgY2FjaGVkID0gdGhpcy5maWxlQ2FjaGUuZ2V0KGZpbGVuYW1lKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjYWNoZWQgJiZcbiAgICAgICAgICAgIE1hdGguYWJzKGNhY2hlZC5tb2RpZmllZC5nZXRUaW1lKCkgLSByZW1vdGVUaW1lKSA+IDEwMDAgJiZcbiAgICAgICAgICAgIE1hdGguYWJzKGNhY2hlZC5tb2RpZmllZC5nZXRUaW1lKCkgLSBsb2NhbFRpbWUpID4gMTAwMFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZGlmZi5jb25mbGljdHMucHVzaChmaWxlbmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpZmY7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGFwcGx5RGlmZihkaWZmOiBGaWxlRGlmZik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHRvdGFsT3BlcmF0aW9ucyA9IGRpZmYuYWRkZWQubGVuZ3RoICsgZGlmZi5tb2RpZmllZC5sZW5ndGggKyBkaWZmLmRlbGV0ZWQubGVuZ3RoO1xuICAgIGxldCBjb21wbGV0ZWRPcGVyYXRpb25zID0gMDtcblxuICAgIC8vIFx1NTkwNFx1NzQwNlx1NkRGQlx1NTJBMFx1NzY4NFx1NjU4N1x1NEVGNlxuICAgIGZvciAoY29uc3QgZmlsZW5hbWUgb2YgZGlmZi5hZGRlZCkge1xuICAgICAgdGhpcy51cGRhdGVTdGF0dXMoe1xuICAgICAgICBjdXJyZW50RmlsZTogYFx1NkI2M1x1NTcyOFx1NEUwQlx1OEY3RDogJHtmaWxlbmFtZX1gLFxuICAgICAgICBwcm9ncmVzczogKGNvbXBsZXRlZE9wZXJhdGlvbnMgLyB0b3RhbE9wZXJhdGlvbnMpICogMTAwXG4gICAgICB9KTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZmlsZUNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5nZXRGaWxlKGZpbGVuYW1lKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlTG9jYWxGaWxlKGZpbGVuYW1lLCBmaWxlQ29udGVudC5jb250ZW50KTtcbiAgICAgICAgY29tcGxldGVkT3BlcmF0aW9ucysrO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5hZGRFcnJvcihgXHU0RTBCXHU4RjdEXHU2NTg3XHU0RUY2XHU1OTMxXHU4RDI1OiAke2ZpbGVuYW1lfWAsIGVycm9yLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBcdTU5MDRcdTc0MDZcdTRGRUVcdTY1MzlcdTc2ODRcdTY1ODdcdTRFRjZcbiAgICBmb3IgKGNvbnN0IGZpbGVuYW1lIG9mIGRpZmYubW9kaWZpZWQpIHtcbiAgICAgIHRoaXMudXBkYXRlU3RhdHVzKHtcbiAgICAgICAgY3VycmVudEZpbGU6IGBcdTZCNjNcdTU3MjhcdTU0MENcdTZCNjU6ICR7ZmlsZW5hbWV9YCxcbiAgICAgICAgcHJvZ3Jlc3M6IChjb21wbGV0ZWRPcGVyYXRpb25zIC8gdG90YWxPcGVyYXRpb25zKSAqIDEwMFxuICAgICAgfSk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFx1NjgzOVx1NjM2RVx1NTFCMlx1N0E4MVx1ODlFM1x1NTFCM1x1N0I1Nlx1NzU2NVx1NTkwNFx1NzQwNlxuICAgICAgICBpZiAoZGlmZi5jb25mbGljdHMuaW5jbHVkZXMoZmlsZW5hbWUpKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5yZXNvbHZlQ29uZmxpY3QoZmlsZW5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFx1ODNCN1x1NTNENlx1NjcwMFx1NjVCMFx1NzY4NFx1NzI0OFx1NjcyQ1xuICAgICAgICAgIGNvbnN0IGZpbGVDb250ZW50ID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuZ2V0RmlsZShmaWxlbmFtZSk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5zYXZlTG9jYWxGaWxlKGZpbGVuYW1lLCBmaWxlQ29udGVudC5jb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBjb21wbGV0ZWRPcGVyYXRpb25zKys7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aGlzLmFkZEVycm9yKGBcdTU0MENcdTZCNjVcdTY1ODdcdTRFRjZcdTU5MzFcdThEMjU6ICR7ZmlsZW5hbWV9YCwgZXJyb3IsIHRydWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFx1NTkwNFx1NzQwNlx1NTIyMFx1OTY2NFx1NzY4NFx1NjU4N1x1NEVGNlxuICAgIGZvciAoY29uc3QgZmlsZW5hbWUgb2YgZGlmZi5kZWxldGVkKSB7XG4gICAgICB0aGlzLnVwZGF0ZVN0YXR1cyh7XG4gICAgICAgIGN1cnJlbnRGaWxlOiBgXHU2QjYzXHU1NzI4XHU1MjIwXHU5NjY0OiAke2ZpbGVuYW1lfWAsXG4gICAgICAgIHByb2dyZXNzOiAoY29tcGxldGVkT3BlcmF0aW9ucyAvIHRvdGFsT3BlcmF0aW9ucykgKiAxMDBcbiAgICAgIH0pO1xuXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLmRlbGV0ZUxvY2FsRmlsZShmaWxlbmFtZSk7XG4gICAgICAgIGNvbXBsZXRlZE9wZXJhdGlvbnMrKztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRoaXMuYWRkRXJyb3IoYFx1NTIyMFx1OTY2NFx1NjU4N1x1NEVGNlx1NTkzMVx1OEQyNTogJHtmaWxlbmFtZX1gLCBlcnJvciwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVzb2x2ZUNvbmZsaWN0KGZpbGVuYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBzd2l0Y2ggKHRoaXMuc2V0dGluZ3MuY29uZmxpY3RTdHJhdGVneSkge1xuICAgICAgY2FzZSAndGltZXN0YW1wJzpcbiAgICAgICAgYXdhaXQgdGhpcy5yZXNvbHZlQnlUaW1lc3RhbXAoZmlsZW5hbWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2xvY2FsJzpcbiAgICAgICAgYXdhaXQgdGhpcy51cGxvYWRMb2NhbEZpbGUoZmlsZW5hbWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlbW90ZSc6XG4gICAgICAgIGF3YWl0IHRoaXMuZG93bmxvYWRSZW1vdGVGaWxlKGZpbGVuYW1lKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdhc2snOlxuICAgICAgICAvLyBcdTU3MjhcdTVCOUVcdTk2NDVcdTVCOUVcdTczQjBcdTRFMkRcdUZGMENcdThGRDlcdTkxQ0NcdTVFOTRcdThCRTVcdTVGMzlcdTUxRkFcdTVCRjlcdThCRERcdTY4NDZcdThCQTlcdTc1MjhcdTYyMzdcdTkwMDlcdTYyRTlcbiAgICAgICAgLy8gXHU2NjgyXHU2NUY2XHU0RjdGXHU3NTI4XHU2NUY2XHU5NUY0XHU2MjMzXHU3QjU2XHU3NTY1XG4gICAgICAgIGF3YWl0IHRoaXMucmVzb2x2ZUJ5VGltZXN0YW1wKGZpbGVuYW1lKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyByZXNvbHZlQnlUaW1lc3RhbXAoZmlsZW5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZW1vdGVGaWxlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuZ2V0RmlsZShmaWxlbmFtZSk7XG4gICAgICBjb25zdCBsb2NhbFBhdGggPSB0aGlzLmdldExvY2FsUGF0aChmaWxlbmFtZSk7XG4gICAgICBjb25zdCBsb2NhbEZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgobG9jYWxQYXRoKTtcblxuICAgICAgaWYgKGxvY2FsRmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG4gICAgICAgIGNvbnN0IHJlbW90ZVRpbWUgPSByZW1vdGVGaWxlLnN0YXRzLm1vZGlmaWVkLmdldFRpbWUoKTtcbiAgICAgICAgY29uc3QgbG9jYWxUaW1lID0gbG9jYWxGaWxlLnN0YXQubXRpbWU7XG5cbiAgICAgICAgaWYgKHJlbW90ZVRpbWUgPiBsb2NhbFRpbWUpIHtcbiAgICAgICAgICAvLyBcdThGRENcdTdBMEJcdTcyNDhcdTY3MkNcdTY2RjRcdTY1QjBcdUZGMENcdTRFMEJcdThGN0RcdThGRENcdTdBMEJcdTcyNDhcdTY3MkNcbiAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVMb2NhbEZpbGUoZmlsZW5hbWUsIHJlbW90ZUZpbGUuY29udGVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gXHU2NzJDXHU1NzMwXHU3MjQ4XHU2NzJDXHU2NkY0XHU2NUIwXHVGRjBDXHU0RTBBXHU0RjIwXHU2NzJDXHU1NzMwXHU3MjQ4XHU2NzJDXG4gICAgICAgICAgY29uc3QgbG9jYWxDb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChsb2NhbEZpbGUpO1xuICAgICAgICAgIGF3YWl0IHRoaXMuYXBpQ2xpZW50LnNhdmVGaWxlKGZpbGVuYW1lLCBsb2NhbENvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgXHU1MUIyXHU3QTgxXHU4OUUzXHU1MUIzXHU1OTMxXHU4RDI1OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBkb3dubG9hZFJlbW90ZUZpbGUoZmlsZW5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGZpbGVDb250ZW50ID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuZ2V0RmlsZShmaWxlbmFtZSk7XG4gICAgYXdhaXQgdGhpcy5zYXZlTG9jYWxGaWxlKGZpbGVuYW1lLCBmaWxlQ29udGVudC5jb250ZW50KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgdXBsb2FkTG9jYWxGaWxlKGZpbGVuYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBsb2NhbFBhdGggPSB0aGlzLmdldExvY2FsUGF0aChmaWxlbmFtZSk7XG4gICAgY29uc3QgbG9jYWxGaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGxvY2FsUGF0aCk7XG5cbiAgICBpZiAobG9jYWxGaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGxvY2FsRmlsZSk7XG4gICAgICBhd2FpdCB0aGlzLmFwaUNsaWVudC5zYXZlRmlsZShmaWxlbmFtZSwgY29udGVudCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzYXZlTG9jYWxGaWxlKGZpbGVuYW1lOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGZpbGVQYXRoID0gdGhpcy5nZXRMb2NhbFBhdGgoZmlsZW5hbWUpO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRQYXRoID0gbm9ybWFsaXplUGF0aChmaWxlUGF0aCk7XG5cbiAgICAvLyBcdTc4NkVcdTRGRERcdTc2RUVcdTVGNTVcdTVCNThcdTU3MjhcbiAgICBjb25zdCBkaXJQYXRoID0gbm9ybWFsaXplZFBhdGguc3BsaXQoJy8nKS5zbGljZSgwLCAtMSkuam9pbignLycpO1xuICAgIGlmIChkaXJQYXRoKSB7XG4gICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGVGb2xkZXIoZGlyUGF0aCkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAvLyBcdTY1ODdcdTRFRjZcdTU5MzlcdTUzRUZcdTgwRkRcdTVERjJcdTVCNThcdTU3MjhcdUZGMENcdTVGRkRcdTc1NjVcdTk1MTlcdThCRUZcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGV4aXN0aW5nRmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChub3JtYWxpemVkUGF0aCk7XG5cbiAgICBpZiAoZXhpc3RpbmdGaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcbiAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0Lm1vZGlmeShleGlzdGluZ0ZpbGUsIGNvbnRlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUobm9ybWFsaXplZFBhdGgsIGNvbnRlbnQpO1xuICAgIH1cblxuICAgIC8vIFx1NjZGNFx1NjVCMFx1N0YxM1x1NUI1OFxuICAgIHRoaXMuZmlsZUNhY2hlLnNldChmaWxlbmFtZSwge1xuICAgICAgY29udGVudCxcbiAgICAgIG1vZGlmaWVkOiBuZXcgRGF0ZSgpXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGRlbGV0ZUxvY2FsRmlsZShmaWxlbmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZmlsZVBhdGggPSB0aGlzLmdldExvY2FsUGF0aChmaWxlbmFtZSk7XG4gICAgY29uc3QgZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmaWxlUGF0aCk7XG5cbiAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG4gICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5kZWxldGUoZmlsZSk7XG4gICAgfVxuXG4gICAgLy8gXHU0RUNFXHU3RjEzXHU1QjU4XHU0RTJEXHU3OUZCXHU5NjY0XG4gICAgdGhpcy5maWxlQ2FjaGUuZGVsZXRlKGZpbGVuYW1lKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TG9jYWxQYXRoKGZpbGVuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBub3JtYWxpemVQYXRoKGAke3RoaXMuc2V0dGluZ3MudGFyZ2V0Rm9sZGVyfS8ke2ZpbGVuYW1lfWApO1xuICB9XG5cbiAgcHJpdmF0ZSBpc0V4Y2x1ZGVkKGZpbGVQYXRoOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgdGhpcy5zZXR0aW5ncy5leGNsdWRlUGF0dGVybnMpIHtcbiAgICAgIGlmIChwYXR0ZXJuLnN0YXJ0c1dpdGgoJyouJykpIHtcbiAgICAgICAgLy8gXHU5MDFBXHU5MTREXHU3QjI2XHU2MjY5XHU1QzU1XHU1NDBEXHU1MzM5XHU5MTREXG4gICAgICAgIGNvbnN0IGV4dCA9IHBhdHRlcm4uc3Vic3RyaW5nKDEpO1xuICAgICAgICBpZiAoZmlsZVBhdGguZW5kc1dpdGgoZXh0KSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhdHRlcm4uc3RhcnRzV2l0aCgnLicpKSB7XG4gICAgICAgIC8vIFx1OTY5MFx1ODVDRlx1NjU4N1x1NEVGNlx1NTMzOVx1OTE0RFxuICAgICAgICBjb25zdCBwYXJ0cyA9IGZpbGVQYXRoLnNwbGl0KCcvJyk7XG4gICAgICAgIGlmIChwYXJ0cy5zb21lKHBhcnQgPT4gcGFydC5zdGFydHNXaXRoKCcuJykpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocGF0dGVybi5lbmRzV2l0aCgnLycpKSB7XG4gICAgICAgIC8vIFx1NzZFRVx1NUY1NVx1NTMzOVx1OTE0RFxuICAgICAgICBpZiAoZmlsZVBhdGguaW5jbHVkZXMocGF0dGVybikpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gXHU3Q0JFXHU3ODZFXHU1MzM5XHU5MTREXG4gICAgICAgIGlmIChmaWxlUGF0aCA9PT0gcGF0dGVybikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlUmVtb3RlQ2hhbmdlKGRhdGE6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLnN0YXR1cy5zdGF0ZSAhPT0gU3luY1N0YXRlLklETEUgfHwgdGhpcy5pc1BhdXNlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHsgZXZlbnQsIGZpbGVuYW1lIH0gPSBkYXRhO1xuXG4gICAgdHJ5IHtcbiAgICAgIHN3aXRjaCAoZXZlbnQpIHtcbiAgICAgICAgY2FzZSAnYWRkZWQnOlxuICAgICAgICBjYXNlICdjaGFuZ2VkJzoge1xuICAgICAgICAgIGNvbnN0IGZpbGVDb250ZW50ID0gYXdhaXQgdGhpcy5hcGlDbGllbnQuZ2V0RmlsZShmaWxlbmFtZSk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5zYXZlTG9jYWxGaWxlKGZpbGVuYW1lLCBmaWxlQ29udGVudC5jb250ZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ2RlbGV0ZWQnOiB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5kZWxldGVMb2NhbEZpbGUoZmlsZW5hbWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFx1NTkwNFx1NzQwNlx1OEZEQ1x1N0EwQlx1NTNEOFx1NjZGNFx1NTkzMVx1OEQyNSAoJHtldmVudH06ICR7ZmlsZW5hbWV9KTpgLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLy8gXHU3MkI2XHU2MDAxXHU3QkExXHU3NDA2XG4gIHByaXZhdGUgdXBkYXRlU3RhdHVzKHVwZGF0ZXM6IFBhcnRpYWw8U3luY1N0YXR1cz4pOiB2b2lkIHtcbiAgICB0aGlzLnN0YXR1cyA9IHsgLi4udGhpcy5zdGF0dXMsIC4uLnVwZGF0ZXMgfTtcbiAgICB0aGlzLm5vdGlmeVN0YXR1c0NoYW5nZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRFcnJvcihtZXNzYWdlOiBzdHJpbmcsIGVycm9yOiBhbnksIHJldHJ5YWJsZTogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuc3RhdHVzLmVycm9ycy5wdXNoKHtcbiAgICAgIG1lc3NhZ2U6IGAke21lc3NhZ2V9OiAke2Vycm9yLm1lc3NhZ2V9YCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgIHJldHJ5YWJsZVxuICAgIH0pO1xuICAgIHRoaXMubm90aWZ5U3RhdHVzQ2hhbmdlKCk7XG4gIH1cblxuICBwcml2YXRlIG5vdGlmeVN0YXR1c0NoYW5nZSgpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXR1c0NoYW5nZUhhbmRsZXJzLmZvckVhY2goaGFuZGxlciA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBoYW5kbGVyKHsgLi4udGhpcy5zdGF0dXMgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdcdTcyQjZcdTYwMDFcdTUzRDhcdTY2RjRcdTU5MDRcdTc0MDZcdTU2NjhcdTk1MTlcdThCRUY6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gXHU1MTZDXHU1MTcxXHU2NUI5XHU2Q0Q1XG4gIGdldFN0YXR1cygpOiBTeW5jU3RhdHVzIHtcbiAgICByZXR1cm4geyAuLi50aGlzLnN0YXR1cyB9O1xuICB9XG5cbiAgb25TdGF0dXNDaGFuZ2UoaGFuZGxlcjogKHN0YXR1czogU3luY1N0YXR1cykgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMuc3RhdHVzQ2hhbmdlSGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgfVxuXG4gIG9mZlN0YXR1c0NoYW5nZShoYW5kbGVyOiAoc3RhdHVzOiBTeW5jU3RhdHVzKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnN0YXR1c0NoYW5nZUhhbmRsZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHRoaXMuc3RhdHVzQ2hhbmdlSGFuZGxlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuICBwYXVzZSgpOiB2b2lkIHtcbiAgICB0aGlzLmlzUGF1c2VkID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5zdGF0dXMuc3RhdGUgPT09IFN5bmNTdGF0ZS5TWU5DSU5HKSB7XG4gICAgICB0aGlzLnVwZGF0ZVN0YXR1cyh7IHN0YXRlOiBTeW5jU3RhdGUuUEFVU0VEIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJlc3VtZSgpOiB2b2lkIHtcbiAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XG4gICAgaWYgKHRoaXMuc3RhdHVzLnN0YXRlID09PSBTeW5jU3RhdGUuUEFVU0VEKSB7XG4gICAgICB0aGlzLnVwZGF0ZVN0YXR1cyh7IHN0YXRlOiBTeW5jU3RhdGUuSURMRSB9KTtcbiAgICB9XG4gIH1cblxuICBpc1BhdXNlZFN0YXRlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmlzUGF1c2VkO1xuICB9XG5cbiAgY2xlYW51cCgpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXR1c0NoYW5nZUhhbmRsZXJzID0gW107XG4gICAgdGhpcy5maWxlQ2FjaGUuY2xlYXIoKTtcbiAgICB0aGlzLnN5bmNRdWV1ZSA9IFtdO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQXBwLCBJdGVtVmlldywgV29ya3NwYWNlTGVhZiwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgT3BlbkNsYXdBUElDbGllbnQsIE1lbW9yeUZpbGUgfSBmcm9tICcuLi8uLi9hcGktY2xpZW50JztcblxuZXhwb3J0IGNvbnN0IE1FTU9SWV9WSUVXX1RZUEUgPSAnb3BlbmNsYXctbWVtb3J5LXZpZXcnO1xuXG5leHBvcnQgY2xhc3MgTWVtb3J5VmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcbiAgcHJpdmF0ZSBhcGlDbGllbnQ6IE9wZW5DbGF3QVBJQ2xpZW50O1xuICBwcml2YXRlIGZpbGVzOiBNZW1vcnlGaWxlW10gPSBbXTtcbiAgcHJpdmF0ZSBmaWx0ZXJlZEZpbGVzOiBNZW1vcnlGaWxlW10gPSBbXTtcbiAgcHJpdmF0ZSBzZWFyY2hRdWVyeSA9ICcnO1xuICBwcml2YXRlIHNvcnRCeTogJ25hbWUnIHwgJ3NpemUnIHwgJ21vZGlmaWVkJyB8ICdjcmVhdGVkJyA9ICdtb2RpZmllZCc7XG4gIHByaXZhdGUgc29ydE9yZGVyOiAnYXNjJyB8ICdkZXNjJyA9ICdkZXNjJztcbiAgcHJpdmF0ZSBpc0xvYWRpbmcgPSBmYWxzZTtcbiAgcHJpdmF0ZSBsYXN0UmVmcmVzaDogRGF0ZSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHN0YXR1c0VsOiBIVE1MRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBhcGlDbGllbnQ6IE9wZW5DbGF3QVBJQ2xpZW50KSB7XG4gICAgc3VwZXIobGVhZik7XG4gICAgdGhpcy5hcGlDbGllbnQgPSBhcGlDbGllbnQ7XG4gIH1cblxuICBnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBNRU1PUllfVklFV19UWVBFO1xuICB9XG5cbiAgZ2V0RGlzcGxheVRleHQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ09wZW5DbGF3XHU4QkIwXHU1RkM2XHU1RTkzJztcbiAgfVxuXG4gIGdldEljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ2JyYWluJztcbiAgfVxuXG4gIGFzeW5jIG9uT3BlbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdO1xuICAgIGNvbnRhaW5lci5lbXB0eSgpO1xuXG4gICAgLy8gXHU1MjFCXHU1RUZBXHU0RTNCXHU1QkI5XHU1NjY4XG4gICAgY29uc3QgbWFpbkNvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdvcGVuY2xhdy1tZW1vcnktdmlldycgfSk7XG5cbiAgICAvLyBcdTUyMUJcdTVFRkFcdTY4MDdcdTk4OThcdTY4MEZcbiAgICBjb25zdCBoZWFkZXIgPSBtYWluQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ29wZW5jbGF3LW1lbW9yeS1oZWFkZXInIH0pO1xuICAgIGhlYWRlci5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdPcGVuQ2xhd1x1OEJCMFx1NUZDNlx1NUU5MycgfSk7XG5cbiAgICAvLyBcdTUyMUJcdTVFRkFcdTYzQTdcdTUyMzZcdTY4MEZcbiAgICBjb25zdCBjb250cm9scyA9IG1haW5Db250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnb3BlbmNsYXctbWVtb3J5LWNvbnRyb2xzJyB9KTtcblxuICAgIC8vIFx1NjQxQ1x1N0QyMlx1Njg0NlxuICAgIGNvbnN0IHNlYXJjaENvbnRhaW5lciA9IGNvbnRyb2xzLmNyZWF0ZURpdih7IGNsczogJ3NlYXJjaC1jb250YWluZXInIH0pO1xuICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2VhcmNoQ29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHtcbiAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgIHBsYWNlaG9sZGVyOiAnXHU2NDFDXHU3RDIyXHU4QkIwXHU1RkM2XHU2NTg3XHU0RUY2Li4uJyxcbiAgICAgIGNsczogJ3NlYXJjaC1pbnB1dCdcbiAgICB9KTtcbiAgICBzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGUgPT4ge1xuICAgICAgdGhpcy5zZWFyY2hRdWVyeSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcbiAgICAgIHRoaXMuZmlsdGVyQW5kU29ydEZpbGVzKCk7XG4gICAgICB0aGlzLnJlbmRlckZpbGVMaXN0KCk7XG4gICAgfSk7XG5cbiAgICAvLyBcdTYzOTJcdTVFOEZcdTkwMDlcdTk4NzlcbiAgICBjb25zdCBzb3J0Q29udGFpbmVyID0gY29udHJvbHMuY3JlYXRlRGl2KHsgY2xzOiAnc29ydC1jb250YWluZXInIH0pO1xuXG4gICAgY29uc3Qgc29ydEJ5U2VsZWN0ID0gc29ydENvbnRhaW5lci5jcmVhdGVFbCgnc2VsZWN0JywgeyBjbHM6ICdzb3J0LXNlbGVjdCcgfSk7XG4gICAgc29ydEJ5U2VsZWN0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHZhbHVlOiAnbmFtZScsIHRleHQ6ICdcdTYzMDlcdTU0MERcdTc5RjAnIH0pO1xuICAgIHNvcnRCeVNlbGVjdC5jcmVhdGVFbCgnb3B0aW9uJywgeyB2YWx1ZTogJ3NpemUnLCB0ZXh0OiAnXHU2MzA5XHU1OTI3XHU1QzBGJyB9KTtcbiAgICBzb3J0QnlTZWxlY3QuY3JlYXRlRWwoJ29wdGlvbicsIHsgdmFsdWU6ICdtb2RpZmllZCcsIHRleHQ6ICdcdTYzMDlcdTRGRUVcdTY1MzlcdTY1RjZcdTk1RjQnIH0pO1xuICAgIHNvcnRCeVNlbGVjdC5jcmVhdGVFbCgnb3B0aW9uJywgeyB2YWx1ZTogJ2NyZWF0ZWQnLCB0ZXh0OiAnXHU2MzA5XHU1MjFCXHU1RUZBXHU2NUY2XHU5NUY0JyB9KTtcbiAgICBzb3J0QnlTZWxlY3QudmFsdWUgPSB0aGlzLnNvcnRCeTtcbiAgICBzb3J0QnlTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZSA9PiB7XG4gICAgICB0aGlzLnNvcnRCeSA9IChlLnRhcmdldCBhcyBIVE1MU2VsZWN0RWxlbWVudCkudmFsdWUgYXMgYW55O1xuICAgICAgdGhpcy5maWx0ZXJBbmRTb3J0RmlsZXMoKTtcbiAgICAgIHRoaXMucmVuZGVyRmlsZUxpc3QoKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHNvcnRPcmRlckJ1dHRvbiA9IHNvcnRDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgIHRleHQ6IHRoaXMuc29ydE9yZGVyID09PSAnZGVzYycgPyAnXHUyMTkzJyA6ICdcdTIxOTEnLFxuICAgICAgY2xzOiAnc29ydC1vcmRlci1idXR0b24nXG4gICAgfSk7XG4gICAgc29ydE9yZGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5zb3J0T3JkZXIgPSB0aGlzLnNvcnRPcmRlciA9PT0gJ2Rlc2MnID8gJ2FzYycgOiAnZGVzYyc7XG4gICAgICBzb3J0T3JkZXJCdXR0b24uc2V0VGV4dCh0aGlzLnNvcnRPcmRlciA9PT0gJ2Rlc2MnID8gJ1x1MjE5MycgOiAnXHUyMTkxJyk7XG4gICAgICB0aGlzLmZpbHRlckFuZFNvcnRGaWxlcygpO1xuICAgICAgdGhpcy5yZW5kZXJGaWxlTGlzdCgpO1xuICAgIH0pO1xuXG4gICAgLy8gXHU1MjM3XHU2NUIwXHU2MzA5XHU5NEFFXG4gICAgY29uc3QgcmVmcmVzaEJ1dHRvbiA9IGNvbnRyb2xzLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICB0ZXh0OiAnXHU1MjM3XHU2NUIwJyxcbiAgICAgIGNsczogJ3JlZnJlc2gtYnV0dG9uJ1xuICAgIH0pO1xuICAgIHJlZnJlc2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnJlZnJlc2hGaWxlcygpO1xuICAgIH0pO1xuXG4gICAgLy8gXHU1MjFCXHU1RUZBXHU2NTg3XHU0RUY2XHU1MjE3XHU4ODY4XHU1QkI5XHU1NjY4XG4gICAgY29uc3QgZmlsZUxpc3RDb250YWluZXIgPSBtYWluQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2ZpbGUtbGlzdC1jb250YWluZXInIH0pO1xuICAgIHRoaXMuY29udGVudEVsID0gZmlsZUxpc3RDb250YWluZXI7XG5cbiAgICAvLyBcdTUyMUJcdTVFRkFcdTcyQjZcdTYwMDFcdTY4MEZcbiAgICBjb25zdCBzdGF0dXNCYXIgPSBtYWluQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3N0YXR1cy1iYXInIH0pO1xuICAgIHRoaXMuc3RhdHVzRWwgPSBzdGF0dXNCYXI7XG5cbiAgICAvLyBcdTUyQTBcdThGN0RcdTY1ODdcdTRFRjZcbiAgICBhd2FpdCB0aGlzLnJlZnJlc2hGaWxlcygpO1xuICB9XG5cbiAgYXN5bmMgb25DbG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBcdTZFMDVcdTc0MDZcdThENDRcdTZFOTBcbiAgfVxuXG4gIGFzeW5jIHJlZnJlc2hGaWxlcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7XG4gICAgdGhpcy51cGRhdGVTdGF0dXMoJ1x1NkI2M1x1NTcyOFx1NTJBMFx1OEY3RFx1NjU4N1x1NEVGNi4uLicpO1xuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuZmlsZXMgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5nZXRGaWxlcygpO1xuICAgICAgdGhpcy5sYXN0UmVmcmVzaCA9IG5ldyBEYXRlKCk7XG4gICAgICB0aGlzLmZpbHRlckFuZFNvcnRGaWxlcygpO1xuICAgICAgdGhpcy5yZW5kZXJGaWxlTGlzdCgpO1xuICAgICAgdGhpcy51cGRhdGVTdGF0dXMoYFx1NURGMlx1NTJBMFx1OEY3RCAke3RoaXMuZmlsZXMubGVuZ3RofSBcdTRFMkFcdTY1ODdcdTRFRjZgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy51cGRhdGVTdGF0dXMoYFx1NTJBMFx1OEY3RFx1NTkzMVx1OEQyNTogJHtlcnJvci5tZXNzYWdlfWAsICdlcnJvcicpO1xuICAgICAgY29uc29sZS5lcnJvcignXHU1MkEwXHU4RjdEXHU2NTg3XHU0RUY2XHU1OTMxXHU4RDI1OicsIGVycm9yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZpbHRlckFuZFNvcnRGaWxlcygpOiB2b2lkIHtcbiAgICAvLyBcdThGQzdcdTZFRTRcdTY1ODdcdTRFRjZcbiAgICBpZiAodGhpcy5zZWFyY2hRdWVyeS50cmltKCkpIHtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5zZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpO1xuICAgICAgdGhpcy5maWx0ZXJlZEZpbGVzID0gdGhpcy5maWxlcy5maWx0ZXIoXG4gICAgICAgIGZpbGUgPT4gZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkpIHx8IGZpbGUucGF0aC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5KVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5maWx0ZXJlZEZpbGVzID0gWy4uLnRoaXMuZmlsZXNdO1xuICAgIH1cblxuICAgIC8vIFx1NjM5Mlx1NUU4Rlx1NjU4N1x1NEVGNlxuICAgIHRoaXMuZmlsdGVyZWRGaWxlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBsZXQgY29tcGFyaXNvbiA9IDA7XG5cbiAgICAgIHN3aXRjaCAodGhpcy5zb3J0QnkpIHtcbiAgICAgICAgY2FzZSAnbmFtZSc6XG4gICAgICAgICAgY29tcGFyaXNvbiA9IGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3NpemUnOlxuICAgICAgICAgIGNvbXBhcmlzb24gPSBhLnNpemUgLSBiLnNpemU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ21vZGlmaWVkJzpcbiAgICAgICAgICBjb21wYXJpc29uID0gYS5tb2RpZmllZC5nZXRUaW1lKCkgLSBiLm1vZGlmaWVkLmdldFRpbWUoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY3JlYXRlZCc6XG4gICAgICAgICAgY29tcGFyaXNvbiA9IGEuY3JlYXRlZC5nZXRUaW1lKCkgLSBiLmNyZWF0ZWQuZ2V0VGltZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5zb3J0T3JkZXIgPT09ICdkZXNjJyA/IC1jb21wYXJpc29uIDogY29tcGFyaXNvbjtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRmlsZUxpc3QoKTogdm9pZCB7XG4gICAgdGhpcy5jb250ZW50RWwuZW1wdHkoKTtcblxuICAgIGlmICh0aGlzLmZpbHRlcmVkRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAodGhpcy5zZWFyY2hRdWVyeS50cmltKCkpIHtcbiAgICAgICAgdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7XG4gICAgICAgICAgdGV4dDogYFx1NkNBMVx1NjcwOVx1NjI3RVx1NTIzMFx1NTMwNVx1NTQyQiBcIiR7dGhpcy5zZWFyY2hRdWVyeX1cIiBcdTc2ODRcdTY1ODdcdTRFRjZgLFxuICAgICAgICAgIGNsczogJ25vLXJlc3VsdHMnXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7XG4gICAgICAgICAgdGV4dDogJ1x1NkNBMVx1NjcwOVx1NjI3RVx1NTIzMFx1NjU4N1x1NEVGNicsXG4gICAgICAgICAgY2xzOiAnbm8tcmVzdWx0cydcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gXHU1MjFCXHU1RUZBXHU2NTg3XHU0RUY2XHU1MjE3XHU4ODY4XG4gICAgY29uc3QgZmlsZUxpc3QgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdmaWxlLWxpc3QnIH0pO1xuXG4gICAgZm9yIChjb25zdCBmaWxlIG9mIHRoaXMuZmlsdGVyZWRGaWxlcykge1xuICAgICAgY29uc3QgZmlsZUl0ZW0gPSBmaWxlTGlzdC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdmaWxlLWl0ZW0nIH0pO1xuXG4gICAgICAvLyBcdTY1ODdcdTRFRjZcdTU2RkVcdTY4MDdcdTU0OENcdTU0MERcdTc5RjBcbiAgICAgIGNvbnN0IGZpbGVIZWFkZXIgPSBmaWxlSXRlbS5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdmaWxlLWhlYWRlcicgfSk7XG4gICAgICBmaWxlSGVhZGVyLmNyZWF0ZUVsKCdzcGFuJywge1xuICAgICAgICB0ZXh0OiAnXHVEODNEXHVEQ0M0JyxcbiAgICAgICAgY2xzOiAnZmlsZS1pY29uJ1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGZpbGVOYW1lID0gZmlsZUhlYWRlci5jcmVhdGVFbCgnc3BhbicsIHtcbiAgICAgICAgdGV4dDogZmlsZS5uYW1lLFxuICAgICAgICBjbHM6ICdmaWxlLW5hbWUnXG4gICAgICB9KTtcbiAgICAgIGZpbGVOYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLm9wZW5GaWxlKGZpbGUpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFx1NjU4N1x1NEVGNlx1NEZFMVx1NjA2RlxuICAgICAgY29uc3QgZmlsZUluZm8gPSBmaWxlSXRlbS5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdmaWxlLWluZm8nIH0pO1xuXG4gICAgICAvLyBcdThERUZcdTVGODRcbiAgICAgIGZpbGVJbmZvLmNyZWF0ZUVsKCdzcGFuJywge1xuICAgICAgICB0ZXh0OiBmaWxlLnBhdGgsXG4gICAgICAgIGNsczogJ2ZpbGUtcGF0aCdcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcdTU5MjdcdTVDMEZcbiAgICAgIGZpbGVJbmZvLmNyZWF0ZUVsKCdzcGFuJywge1xuICAgICAgICB0ZXh0OiB0aGlzLmZvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSksXG4gICAgICAgIGNsczogJ2ZpbGUtc2l6ZSdcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcdTg4NENcdTY1NzBcbiAgICAgIGZpbGVJbmZvLmNyZWF0ZUVsKCdzcGFuJywge1xuICAgICAgICB0ZXh0OiBgJHtmaWxlLmxpbmVzfSBcdTg4NENgLFxuICAgICAgICBjbHM6ICdmaWxlLWxpbmVzJ1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFx1NEZFRVx1NjUzOVx1NjVGNlx1OTVGNFxuICAgICAgZmlsZUluZm8uY3JlYXRlRWwoJ3NwYW4nLCB7XG4gICAgICAgIHRleHQ6IHRoaXMuZm9ybWF0RGF0ZShmaWxlLm1vZGlmaWVkKSxcbiAgICAgICAgY2xzOiAnZmlsZS1tb2RpZmllZCdcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcdTY0Q0RcdTRGNUNcdTYzMDlcdTk0QUVcbiAgICAgIGNvbnN0IGFjdGlvbnMgPSBmaWxlSXRlbS5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdmaWxlLWFjdGlvbnMnIH0pO1xuXG4gICAgICAvLyBcdTk4ODRcdTg5QzhcdTYzMDlcdTk0QUVcbiAgICAgIGNvbnN0IHByZXZpZXdCdXR0b24gPSBhY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICAgIHRleHQ6ICdcdTk4ODRcdTg5QzgnLFxuICAgICAgICBjbHM6ICdwcmV2aWV3LWJ1dHRvbidcbiAgICAgIH0pO1xuICAgICAgcHJldmlld0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5wcmV2aWV3RmlsZShmaWxlKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcdTRFMEJcdThGN0RcdTYzMDlcdTk0QUVcbiAgICAgIGNvbnN0IGRvd25sb2FkQnV0dG9uID0gYWN0aW9ucy5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgICB0ZXh0OiAnXHU0RTBCXHU4RjdEJyxcbiAgICAgICAgY2xzOiAnZG93bmxvYWQtYnV0dG9uJ1xuICAgICAgfSk7XG4gICAgICBkb3dubG9hZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5kb3dubG9hZEZpbGUoZmlsZSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gXHU1MjIwXHU5NjY0XHU2MzA5XHU5NEFFXG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBhY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICAgIHRleHQ6ICdcdTUyMjBcdTk2NjQnLFxuICAgICAgICBjbHM6ICdkZWxldGUtYnV0dG9uJ1xuICAgICAgfSk7XG4gICAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZGVsZXRlRmlsZShmaWxlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgb3BlbkZpbGUoZmlsZTogTWVtb3J5RmlsZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LmdldEZpbGUoZmlsZS5uYW1lKTtcblxuICAgICAgLy8gXHU1NzI4T2JzaWRpYW5cdTRFMkRcdTUyMUJcdTVFRkFcdTY1QjBcdTY4MDdcdTdCN0VcdTk4NzVcdTYyNTNcdTVGMDBcbiAgICAgIGNvbnN0IGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZih0cnVlKTtcbiAgICAgIGF3YWl0IGxlYWYub3BlbkZpbGUoYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKGAke2ZpbGUubmFtZX1gLCBmaWxlQ29udGVudC5jb250ZW50KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5ldyBOb3RpY2UoYFx1NjI1M1x1NUYwMFx1NjU4N1x1NEVGNlx1NTkzMVx1OEQyNTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgY29uc29sZS5lcnJvcignXHU2MjUzXHU1RjAwXHU2NTg3XHU0RUY2XHU1OTMxXHU4RDI1OicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHByZXZpZXdGaWxlKGZpbGU6IE1lbW9yeUZpbGUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmlsZUNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5nZXRGaWxlKGZpbGUubmFtZSk7XG5cbiAgICAgIC8vIFx1NTIxQlx1NUVGQVx1OTg4NFx1ODlDOFx1NkEyMVx1NjAwMVx1Njg0NlxuICAgICAgY29uc3QgbW9kYWwgPSBuZXcgUHJldmlld01vZGFsKHRoaXMuYXBwLCBmaWxlLm5hbWUsIGZpbGVDb250ZW50LmNvbnRlbnQpO1xuICAgICAgbW9kYWwub3BlbigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXcgTm90aWNlKGBcdTk4ODRcdTg5QzhcdTY1ODdcdTRFRjZcdTU5MzFcdThEMjU6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1x1OTg4NFx1ODlDOFx1NjU4N1x1NEVGNlx1NTkzMVx1OEQyNTonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBkb3dubG9hZEZpbGUoZmlsZTogTWVtb3J5RmlsZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LmdldEZpbGUoZmlsZS5uYW1lKTtcblxuICAgICAgLy8gXHU1MjFCXHU1RUZBXHU0RTBCXHU4RjdEXHU5NEZFXHU2M0E1XG4gICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2ZpbGVDb250ZW50LmNvbnRlbnRdLCB7IHR5cGU6ICd0ZXh0L3BsYWluJyB9KTtcbiAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgYS5ocmVmID0gdXJsO1xuICAgICAgYS5kb3dubG9hZCA9IGZpbGUubmFtZTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgICBhLmNsaWNrKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xuICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuXG4gICAgICBuZXcgTm90aWNlKGBcdTVERjJcdTRFMEJcdThGN0Q6ICR7ZmlsZS5uYW1lfWApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXcgTm90aWNlKGBcdTRFMEJcdThGN0RcdTY1ODdcdTRFRjZcdTU5MzFcdThEMjU6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1x1NEUwQlx1OEY3RFx1NjU4N1x1NEVGNlx1NTkzMVx1OEQyNTonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBkZWxldGVGaWxlKGZpbGU6IE1lbW9yeUZpbGUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBjb25maXJtZWQgPSBjb25maXJtKGBcdTc4NkVcdTVCOUFcdTg5ODFcdTUyMjBcdTk2NjQgXCIke2ZpbGUubmFtZX1cIiBcdTU0MTdcdUZGMUZgKTtcbiAgICBpZiAoIWNvbmZpcm1lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLmFwaUNsaWVudC5kZWxldGVGaWxlKGZpbGUubmFtZSk7XG4gICAgICBuZXcgTm90aWNlKGBcdTVERjJcdTUyMjBcdTk2NjQ6ICR7ZmlsZS5uYW1lfWApO1xuICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoRmlsZXMoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV3IE5vdGljZShgXHU1MjIwXHU5NjY0XHU2NTg3XHU0RUY2XHU1OTMxXHU4RDI1OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICBjb25zb2xlLmVycm9yKCdcdTUyMjBcdTk2NjRcdTY1ODdcdTRFRjZcdTU5MzFcdThEMjU6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlU3RhdHVzKG1lc3NhZ2U6IHN0cmluZywgdHlwZTogJ2luZm8nIHwgJ2Vycm9yJyA9ICdpbmZvJyk6IHZvaWQge1xuICAgIHRoaXMuc3RhdHVzRWwuZW1wdHkoKTtcbiAgICB0aGlzLnN0YXR1c0VsLmNyZWF0ZUVsKCdzcGFuJywge1xuICAgICAgdGV4dDogbWVzc2FnZSxcbiAgICAgIGNsczogYHN0YXR1cy10ZXh0IHN0YXR1cy0ke3R5cGV9YFxuICAgIH0pO1xuICAgIGlmICh0aGlzLmxhc3RSZWZyZXNoKSB7XG4gICAgICB0aGlzLnN0YXR1c0VsLmNyZWF0ZUVsKCdzcGFuJywge1xuICAgICAgICB0ZXh0OiBgIHwgXHU2NzAwXHU1NDBFXHU2NkY0XHU2NUIwOiAke3RoaXMuZm9ybWF0RGF0ZSh0aGlzLmxhc3RSZWZyZXNoKX1gLFxuICAgICAgICBjbHM6ICdsYXN0LXJlZnJlc2gnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZvcm1hdEZpbGVTaXplKGJ5dGVzOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGlmIChieXRlcyA9PT0gMCkge1xuICAgICAgcmV0dXJuICcwIEInO1xuICAgIH1cblxuICAgIGNvbnN0IGsgPSAxMDI0O1xuICAgIGNvbnN0IHNpemVzID0gWydCJywgJ0tCJywgJ01CJywgJ0dCJ107XG4gICAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coaykpO1xuXG4gICAgcmV0dXJuIHBhcnNlRmxvYXQoKGJ5dGVzIC8gTWF0aC5wb3coaywgaSkpLnRvRml4ZWQoMikpICsgJyAnICsgc2l6ZXNbaV07XG4gIH1cblxuICBwcml2YXRlIGZvcm1hdERhdGUoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBkaWZmTXMgPSBub3cuZ2V0VGltZSgpIC0gZGF0ZS5nZXRUaW1lKCk7XG4gICAgY29uc3QgZGlmZkRheXMgPSBNYXRoLmZsb29yKGRpZmZNcyAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7XG5cbiAgICBpZiAoZGlmZkRheXMgPT09IDApIHtcbiAgICAgIC8vIFx1NEVDQVx1NTkyOVxuICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCk7XG4gICAgfSBlbHNlIGlmIChkaWZmRGF5cyA9PT0gMSkge1xuICAgICAgLy8gXHU2NjI4XHU1OTI5XG4gICAgICByZXR1cm4gJ1x1NjYyOFx1NTkyOSAnICsgZGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoKTtcbiAgICB9IGVsc2UgaWYgKGRpZmZEYXlzIDwgNykge1xuICAgICAgLy8gXHU0RTAwXHU1NDY4XHU1MTg1XG4gICAgICByZXR1cm4gYCR7ZGlmZkRheXN9XHU1OTI5XHU1MjREYDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gXHU2NkY0XHU2NUU5XG4gICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgb3BlbihhcHA6IEFwcCk6IHZvaWQge1xuICAgIGNvbnN0IGxlYWYgPSBhcHAud29ya3NwYWNlLmdldExlYWYodHJ1ZSk7XG4gICAgbGVhZlxuICAgICAgLnNldFZpZXdTdGF0ZSh7XG4gICAgICAgIHR5cGU6IE1FTU9SWV9WSUVXX1RZUEUsXG4gICAgICAgIGFjdGl2ZTogdHJ1ZVxuICAgICAgfSlcbiAgICAgIC50aGVuKCk7XG4gIH1cbn1cblxuY2xhc3MgUHJldmlld01vZGFsIHtcbiAgcHJpdmF0ZSBtb2RhbDogYW55O1xuXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCB0aXRsZTogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpIHtcbiAgICAvLyBcdTRGN0ZcdTc1MjhPYnNpZGlhblx1NzY4NE1vZGFsXHU3QzdCXG4gICAgdGhpcy5tb2RhbCA9IG5ldyAoY2xhc3MgZXh0ZW5kcyAoYXBwIGFzIGFueSkuTW9kYWwge1xuICAgICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHByaXZhdGUgdGl0bGU6IHN0cmluZywgcHJpdmF0ZSBjb250ZW50OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoYXBwKTtcbiAgICAgIH1cblxuICAgICAgb25PcGVuKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogdGhpcy50aXRsZSB9KTtcblxuICAgICAgICBjb25zdCBwcmV2aWV3QXJlYSA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2Jywge1xuICAgICAgICAgIGNsczogJ3ByZXZpZXctYXJlYSdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdGV4dGFyZWEgPSBwcmV2aWV3QXJlYS5jcmVhdGVFbCgndGV4dGFyZWEnLCB7XG4gICAgICAgICAgdmFsdWU6IHRoaXMuY29udGVudCxcbiAgICAgICAgICBjbHM6ICdwcmV2aWV3LXRleHRhcmVhJ1xuICAgICAgICB9KTtcbiAgICAgICAgdGV4dGFyZWEucmVhZE9ubHkgPSB0cnVlO1xuICAgICAgICB0ZXh0YXJlYS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgdGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gJzQwMHB4JztcbiAgICAgICAgdGV4dGFyZWEuc3R5bGUuZm9udEZhbWlseSA9ICdtb25vc3BhY2UnO1xuICAgICAgfVxuXG4gICAgICBvbkNsb3NlKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgICB9XG4gICAgfSkoYXBwLCB0aXRsZSwgY29udGVudCk7XG4gIH1cblxuICBvcGVuKCk6IHZvaWQge1xuICAgIHRoaXMubW9kYWwub3BlbigpO1xuICB9XG5cbiAgY2xvc2UoKTogdm9pZCB7XG4gICAgdGhpcy5tb2RhbC5jbG9zZSgpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQXBwLCBJdGVtVmlldywgV29ya3NwYWNlTGVhZiwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgU3luY0VuZ2luZSwgU3luY1N0YXR1cywgU3luY1N0YXRlLCBTeW5jRXJyb3IgfSBmcm9tICcuLi8uLi9zeW5jLWVuZ2luZSc7XG5cbmV4cG9ydCBjb25zdCBTWU5DX1NUQVRVU19WSUVXX1RZUEUgPSAnb3BlbmNsYXctc3luYy1zdGF0dXMtdmlldyc7XG5cbmV4cG9ydCBjbGFzcyBTeW5jU3RhdHVzVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcbiAgcHJpdmF0ZSBzeW5jRW5naW5lOiBTeW5jRW5naW5lO1xuICBwcml2YXRlIHN0YXR1czogU3luY1N0YXR1cztcbiAgcHJpdmF0ZSBpc0F1dG9SZWZyZXNoOiBib29sZWFuID0gdHJ1ZTtcbiAgcHJpdmF0ZSByZWZyZXNoSW50ZXJ2YWxJZDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBlcnJvckRldGFpbHNWaXNpYmxlOiBNYXA8bnVtYmVyLCBib29sZWFuPiA9IG5ldyBNYXAoKTtcblxuICBjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBzeW5jRW5naW5lOiBTeW5jRW5naW5lKSB7XG4gICAgc3VwZXIobGVhZik7XG4gICAgdGhpcy5zeW5jRW5naW5lID0gc3luY0VuZ2luZTtcbiAgICB0aGlzLnN0YXR1cyA9IHN5bmNFbmdpbmUuZ2V0U3RhdHVzKCk7XG5cbiAgICAvLyBcdTc2RDFcdTU0MkNcdTcyQjZcdTYwMDFcdTUzRDhcdTUzMTZcbiAgICB0aGlzLnN5bmNFbmdpbmUub25TdGF0dXNDaGFuZ2UoKG5ld1N0YXR1czogU3luY1N0YXR1cykgPT4ge1xuICAgICAgdGhpcy5zdGF0dXMgPSBuZXdTdGF0dXM7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0Vmlld1R5cGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gU1lOQ19TVEFUVVNfVklFV19UWVBFO1xuICB9XG5cbiAgZ2V0RGlzcGxheVRleHQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ09wZW5DbGF3XHU1NDBDXHU2QjY1XHU3MkI2XHU2MDAxJztcbiAgfVxuXG4gIGdldEljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ3JlZnJlc2gtY3cnO1xuICB9XG5cbiAgYXN5bmMgb25PcGVuKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyRWwuY2hpbGRyZW5bMV07XG4gICAgY29udGFpbmVyLmVtcHR5KCk7XG5cbiAgICAvLyBcdTUyMUJcdTVFRkFcdTRFM0JcdTVCQjlcdTU2NjhcbiAgICBjb25zdCBtYWluQ29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ29wZW5jbGF3LXN5bmMtc3RhdHVzLXZpZXcnIH0pO1xuXG4gICAgLy8gXHU1MjFCXHU1RUZBXHU2ODA3XHU5ODk4XHU2ODBGXG4gICAgY29uc3QgaGVhZGVyID0gbWFpbkNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdzeW5jLXN0YXR1cy1oZWFkZXInIH0pO1xuICAgIGhlYWRlci5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdPcGVuQ2xhd1x1NTQwQ1x1NkI2NVx1NzJCNlx1NjAwMScgfSk7XG5cbiAgICAvLyBcdTUyMUJcdTVFRkFcdTYzQTdcdTUyMzZcdTY4MEZcbiAgICBjb25zdCBjb250cm9scyA9IG1haW5Db250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnc3luYy1jb250cm9scycgfSk7XG5cbiAgICAvLyBcdTdBQ0JcdTUzNzNcdTU0MENcdTZCNjVcdTYzMDlcdTk0QUVcbiAgICBjb25zdCBzeW5jTm93QnV0dG9uID0gY29udHJvbHMuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgIHRleHQ6ICdcdTdBQ0JcdTUzNzNcdTU0MENcdTZCNjUnLFxuICAgICAgY2xzOiAnc3luYy1ub3ctYnV0dG9uJ1xuICAgIH0pO1xuICAgIHN5bmNOb3dCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnN5bmNFbmdpbmUuc3luYygpLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgbmV3IE5vdGljZShgXHU1NDBDXHU2QjY1XHU1OTMxXHU4RDI1OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIFx1NjY4Mlx1NTA1Qy9cdTYwNjJcdTU5MERcdTYzMDlcdTk0QUVcbiAgICBjb25zdCBwYXVzZVJlc3VtZUJ1dHRvbiA9IGNvbnRyb2xzLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICB0ZXh0OiB0aGlzLnN5bmNFbmdpbmUuaXNQYXVzZWRTdGF0ZSgpID8gJ1x1NjA2Mlx1NTkwRFx1NTQwQ1x1NkI2NScgOiAnXHU2NjgyXHU1MDVDXHU1NDBDXHU2QjY1JyxcbiAgICAgIGNsczogJ3BhdXNlLXJlc3VtZS1idXR0b24nXG4gICAgfSk7XG4gICAgcGF1c2VSZXN1bWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5zeW5jRW5naW5lLmlzUGF1c2VkU3RhdGUoKSkge1xuICAgICAgICB0aGlzLnN5bmNFbmdpbmUucmVzdW1lKCk7XG4gICAgICAgIHBhdXNlUmVzdW1lQnV0dG9uLnNldFRleHQoJ1x1NjY4Mlx1NTA1Q1x1NTQwQ1x1NkI2NScpO1xuICAgICAgICBuZXcgTm90aWNlKCdcdTU0MENcdTZCNjVcdTVERjJcdTYwNjJcdTU5MEQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3luY0VuZ2luZS5wYXVzZSgpO1xuICAgICAgICBwYXVzZVJlc3VtZUJ1dHRvbi5zZXRUZXh0KCdcdTYwNjJcdTU5MERcdTU0MENcdTZCNjUnKTtcbiAgICAgICAgbmV3IE5vdGljZSgnXHU1NDBDXHU2QjY1XHU1REYyXHU2NjgyXHU1MDVDJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBcdTgxRUFcdTUyQThcdTUyMzdcdTY1QjBcdTVGMDBcdTUxNzNcbiAgICBjb25zdCBhdXRvUmVmcmVzaENvbnRhaW5lciA9IGNvbnRyb2xzLmNyZWF0ZURpdih7IGNsczogJ2F1dG8tcmVmcmVzaC1jb250YWluZXInIH0pO1xuICAgIGNvbnN0IGF1dG9SZWZyZXNoQ2hlY2tib3ggPSBhdXRvUmVmcmVzaENvbnRhaW5lci5jcmVhdGVFbCgnaW5wdXQnLCB7XG4gICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgY2xzOiAnYXV0by1yZWZyZXNoLWNoZWNrYm94J1xuICAgIH0pO1xuICAgIGF1dG9SZWZyZXNoQ2hlY2tib3guaWQgPSAnYXV0by1yZWZyZXNoJztcbiAgICBhdXRvUmVmcmVzaENoZWNrYm94LmNoZWNrZWQgPSB0aGlzLmlzQXV0b1JlZnJlc2g7XG4gICAgYXV0b1JlZnJlc2hDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBlID0+IHtcbiAgICAgIHRoaXMuaXNBdXRvUmVmcmVzaCA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkO1xuICAgICAgaWYgKHRoaXMuaXNBdXRvUmVmcmVzaCkge1xuICAgICAgICB0aGlzLnN0YXJ0QXV0b1JlZnJlc2goKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3RvcEF1dG9SZWZyZXNoKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXV0b1JlZnJlc2hDb250YWluZXIuY3JlYXRlRWwoJ2xhYmVsJywge1xuICAgICAgdGV4dDogJ1x1ODFFQVx1NTJBOFx1NTIzN1x1NjVCMCcsXG4gICAgICBhdHRyOiB7IGZvcjogJ2F1dG8tcmVmcmVzaCcgfVxuICAgIH0pO1xuXG4gICAgLy8gXHU2MjRCXHU1MkE4XHU1MjM3XHU2NUIwXHU2MzA5XHU5NEFFXG4gICAgY29uc3QgcmVmcmVzaEJ1dHRvbiA9IGNvbnRyb2xzLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICB0ZXh0OiAnXHU1MjM3XHU2NUIwJyxcbiAgICAgIGNsczogJ3JlZnJlc2gtYnV0dG9uJ1xuICAgIH0pO1xuICAgIHJlZnJlc2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH0pO1xuXG4gICAgLy8gXHU1MjFCXHU1RUZBXHU3MkI2XHU2MDAxXHU1MTg1XHU1QkI5XHU1QkI5XHU1NjY4XG4gICAgdGhpcy5jb250ZW50RWwgPSBtYWluQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3N5bmMtc3RhdHVzLWNvbnRlbnQnIH0pO1xuXG4gICAgLy8gXHU1RjAwXHU1OUNCXHU4MUVBXHU1MkE4XHU1MjM3XHU2NUIwXG4gICAgaWYgKHRoaXMuaXNBdXRvUmVmcmVzaCkge1xuICAgICAgdGhpcy5zdGFydEF1dG9SZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgLy8gXHU1MjFEXHU1OUNCXHU2RTMyXHU2N0QzXG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIGFzeW5jIG9uQ2xvc2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5zdG9wQXV0b1JlZnJlc2goKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyKCk6IHZvaWQge1xuICAgIHRoaXMuY29udGVudEVsLmVtcHR5KCk7XG5cbiAgICAvLyBcdTcyQjZcdTYwMDFcdTUzNjFcdTcyNDdcbiAgICBjb25zdCBzdGF0dXNDYXJkID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdHVzLWNhcmQnIH0pO1xuXG4gICAgLy8gXHU3MkI2XHU2MDAxXHU1NkZFXHU2ODA3XHU1NDhDXHU2NTg3XHU2NzJDXG4gICAgY29uc3Qgc3RhdHVzSGVhZGVyID0gc3RhdHVzQ2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdzdGF0dXMtaGVhZGVyJyB9KTtcblxuICAgIGNvbnN0IHN0YXR1c0ljb24gPSBzdGF0dXNIZWFkZXIuY3JlYXRlRWwoJ3NwYW4nLCB7XG4gICAgICB0ZXh0OiB0aGlzLmdldFN0YXR1c0ljb24oKSxcbiAgICAgIGNsczogJ3N0YXR1cy1pY29uJ1xuICAgIH0pO1xuXG4gICAgY29uc3Qgc3RhdHVzVGV4dCA9IHN0YXR1c0hlYWRlci5jcmVhdGVFbCgnc3BhbicsIHtcbiAgICAgIHRleHQ6IHRoaXMuZ2V0U3RhdHVzVGV4dCgpLFxuICAgICAgY2xzOiBgc3RhdHVzLXRleHQgc3RhdHVzLSR7dGhpcy5zdGF0dXMuc3RhdGV9YFxuICAgIH0pO1xuXG4gICAgLy8gXHU4RkRCXHU1RUE2XHU2NzYxXG4gICAgaWYgKHRoaXMuc3RhdHVzLnN0YXRlID09PSBTeW5jU3RhdGUuU1lOQ0lORykge1xuICAgICAgY29uc3QgcHJvZ3Jlc3NDb250YWluZXIgPSBzdGF0dXNDYXJkLmNyZWF0ZURpdih7IGNsczogJ3Byb2dyZXNzLWNvbnRhaW5lcicgfSk7XG5cbiAgICAgIGNvbnN0IHByb2dyZXNzQmFyID0gcHJvZ3Jlc3NDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAncHJvZ3Jlc3MtYmFyJyB9KTtcbiAgICAgIGNvbnN0IHByb2dyZXNzRmlsbCA9IHByb2dyZXNzQmFyLmNyZWF0ZUVsKCdkaXYnLCB7XG4gICAgICAgIGNsczogJ3Byb2dyZXNzLWZpbGwnLFxuICAgICAgICBhdHRyOiB7IHN0eWxlOiBgd2lkdGg6ICR7dGhpcy5zdGF0dXMucHJvZ3Jlc3N9JWAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHByb2dyZXNzVGV4dCA9IHByb2dyZXNzQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7XG4gICAgICAgIHRleHQ6IGAke3RoaXMuc3RhdHVzLnByb2dyZXNzLnRvRml4ZWQoMSl9JWAsXG4gICAgICAgIGNsczogJ3Byb2dyZXNzLXRleHQnXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBcdTVGNTNcdTUyNERcdTY1ODdcdTRFRjZcbiAgICBpZiAodGhpcy5zdGF0dXMuY3VycmVudEZpbGUpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRGaWxlID0gc3RhdHVzQ2FyZC5jcmVhdGVEaXYoeyBjbHM6ICdjdXJyZW50LWZpbGUnIH0pO1xuICAgICAgY3VycmVudEZpbGUuY3JlYXRlRWwoJ3N0cm9uZycsIHsgdGV4dDogJ1x1NUY1M1x1NTI0RFx1NjU4N1x1NEVGNjogJyB9KTtcbiAgICAgIGN1cnJlbnRGaWxlLmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiB0aGlzLnN0YXR1cy5jdXJyZW50RmlsZSB9KTtcbiAgICB9XG5cbiAgICAvLyBcdTdFREZcdThCQTFcdTRGRTFcdTYwNkZcbiAgICBjb25zdCBzdGF0cyA9IHN0YXR1c0NhcmQuY3JlYXRlRGl2KHsgY2xzOiAnc3RhdHMnIH0pO1xuXG4gICAgaWYgKHRoaXMuc3RhdHVzLmZpbGVzU3luY2VkID4gMCkge1xuICAgICAgc3RhdHMuY3JlYXRlRWwoJ2RpdicsIHtcbiAgICAgICAgdGV4dDogYFx1NURGMlx1NTQwQ1x1NkI2NVx1NjU4N1x1NEVGNjogJHt0aGlzLnN0YXR1cy5maWxlc1N5bmNlZH1gLFxuICAgICAgICBjbHM6ICdzdGF0LWl0ZW0nXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0dXMudG90YWxGaWxlcyA+IDApIHtcbiAgICAgIHN0YXRzLmNyZWF0ZUVsKCdkaXYnLCB7XG4gICAgICAgIHRleHQ6IGBcdTYwM0JcdTY1ODdcdTRFRjZcdTY1NzA6ICR7dGhpcy5zdGF0dXMudG90YWxGaWxlc31gLFxuICAgICAgICBjbHM6ICdzdGF0LWl0ZW0nXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0dXMubGFzdFN5bmMpIHtcbiAgICAgIHN0YXRzLmNyZWF0ZUVsKCdkaXYnLCB7XG4gICAgICAgIHRleHQ6IGBcdTY3MDBcdTU0MEVcdTU0MENcdTZCNjU6ICR7dGhpcy5mb3JtYXREYXRlKHRoaXMuc3RhdHVzLmxhc3RTeW5jKX1gLFxuICAgICAgICBjbHM6ICdzdGF0LWl0ZW0nXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBcdTk1MTlcdThCRUZcdTRGRTFcdTYwNkZcbiAgICBpZiAodGhpcy5zdGF0dXMuZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGVycm9yc1NlY3Rpb24gPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICdlcnJvcnMtc2VjdGlvbicgfSk7XG4gICAgICBlcnJvcnNTZWN0aW9uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1x1OTUxOVx1OEJFRlx1NjVFNVx1NUZENycgfSk7XG5cbiAgICAgIGNvbnN0IGVycm9yc0xpc3QgPSBlcnJvcnNTZWN0aW9uLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2Vycm9ycy1saXN0JyB9KTtcblxuICAgICAgdGhpcy5zdGF0dXMuZXJyb3JzLmZvckVhY2goKGVycm9yLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBlcnJvckl0ZW0gPSBlcnJvcnNMaXN0LmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2Vycm9yLWl0ZW0nIH0pO1xuXG4gICAgICAgIGNvbnN0IGVycm9ySGVhZGVyID0gZXJyb3JJdGVtLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2Vycm9yLWhlYWRlcicgfSk7XG4gICAgICAgIGVycm9ySGVhZGVyLmNyZWF0ZUVsKCdzcGFuJywge1xuICAgICAgICAgIHRleHQ6ICdcdTI3NEMnLFxuICAgICAgICAgIGNsczogJ2Vycm9yLWljb24nXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVycm9ySGVhZGVyLmNyZWF0ZUVsKCdzcGFuJywge1xuICAgICAgICAgIHRleHQ6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgY2xzOiAnZXJyb3ItbWVzc2FnZSdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXJyb3JIZWFkZXIuY3JlYXRlRWwoJ3NwYW4nLCB7XG4gICAgICAgICAgdGV4dDogdGhpcy5mb3JtYXREYXRlKGVycm9yLnRpbWVzdGFtcCksXG4gICAgICAgICAgY2xzOiAnZXJyb3ItdGltZSdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gXHU5NTE5XHU4QkVGXHU4QkU2XHU2MEM1XHU1MjA3XHU2MzYyXG4gICAgICAgIGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IGVycm9ySGVhZGVyLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICAgICAgdGV4dDogdGhpcy5lcnJvckRldGFpbHNWaXNpYmxlLmdldChpbmRleCkgPyAnXHU5NjkwXHU4NUNGXHU4QkU2XHU2MEM1JyA6ICdcdTY2M0VcdTc5M0FcdThCRTZcdTYwQzUnLFxuICAgICAgICAgIGNsczogJ2Vycm9yLXRvZ2dsZS1idXR0b24nXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRvZ2dsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLmVycm9yRGV0YWlsc1Zpc2libGUuZ2V0KGluZGV4KSB8fCBmYWxzZTtcbiAgICAgICAgICB0aGlzLmVycm9yRGV0YWlsc1Zpc2libGUuc2V0KGluZGV4LCAhaXNWaXNpYmxlKTtcbiAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBcdTk1MTlcdThCRUZcdThCRTZcdTYwQzVcbiAgICAgICAgaWYgKHRoaXMuZXJyb3JEZXRhaWxzVmlzaWJsZS5nZXQoaW5kZXgpKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JEZXRhaWxzID0gZXJyb3JJdGVtLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2Vycm9yLWRldGFpbHMnIH0pO1xuXG4gICAgICAgICAgaWYgKGVycm9yLmZpbGUpIHtcbiAgICAgICAgICAgIGVycm9yRGV0YWlscy5jcmVhdGVFbCgnZGl2Jywge1xuICAgICAgICAgICAgICB0ZXh0OiBgXHU2NTg3XHU0RUY2OiAke2Vycm9yLmZpbGV9YCxcbiAgICAgICAgICAgICAgY2xzOiAnZXJyb3ItZmlsZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVycm9yRGV0YWlscy5jcmVhdGVFbCgnZGl2Jywge1xuICAgICAgICAgICAgdGV4dDogYFx1NjVGNlx1OTVGNDogJHtlcnJvci50aW1lc3RhbXAudG9Mb2NhbGVTdHJpbmcoKX1gLFxuICAgICAgICAgICAgY2xzOiAnZXJyb3ItdGltZXN0YW1wJ1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgZXJyb3JEZXRhaWxzLmNyZWF0ZUVsKCdkaXYnLCB7XG4gICAgICAgICAgICB0ZXh0OiBgXHU1M0VGXHU5MUNEXHU4QkQ1OiAke2Vycm9yLnJldHJ5YWJsZSA/ICdcdTY2MkYnIDogJ1x1NTQyNid9YCxcbiAgICAgICAgICAgIGNsczogJ2Vycm9yLXJldHJ5YWJsZSdcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIFx1OTFDRFx1OEJENVx1NjMwOVx1OTRBRVxuICAgICAgICAgIGlmIChlcnJvci5yZXRyeWFibGUgJiYgZXJyb3IuZmlsZSkge1xuICAgICAgICAgICAgY29uc3QgcmV0cnlCdXR0b24gPSBlcnJvckRldGFpbHMuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgICAgICAgICAgdGV4dDogJ1x1OTFDRFx1OEJENScsXG4gICAgICAgICAgICAgIGNsczogJ3JldHJ5LWJ1dHRvbidcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXRyeUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgLy8gXHU4RkQ5XHU5MUNDXHU1M0VGXHU0RUU1XHU2REZCXHU1MkEwXHU5MUNEXHU4QkQ1XHU5MDNCXHU4RjkxXG4gICAgICAgICAgICAgIG5ldyBOb3RpY2UoYFx1OTFDRFx1OEJENVx1NjU4N1x1NEVGNjogJHtlcnJvci5maWxlfWApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gXHU2RTA1XHU5NjY0XHU5NTE5XHU4QkVGXHU2MzA5XHU5NEFFXG4gICAgICBpZiAodGhpcy5zdGF0dXMuZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgY2xlYXJFcnJvcnNCdXR0b24gPSBlcnJvcnNTZWN0aW9uLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICAgICAgdGV4dDogJ1x1NkUwNVx1OTY2NFx1NjI0MFx1NjcwOVx1OTUxOVx1OEJFRicsXG4gICAgICAgICAgY2xzOiAnY2xlYXItZXJyb3JzLWJ1dHRvbidcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2xlYXJFcnJvcnNCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgLy8gXHU4RkQ5XHU5MUNDXHU1M0VGXHU0RUU1XHU2REZCXHU1MkEwXHU2RTA1XHU5NjY0XHU5NTE5XHU4QkVGXHU5MDNCXHU4RjkxXG4gICAgICAgICAgbmV3IE5vdGljZSgnXHU5NTE5XHU4QkVGXHU2NUU1XHU1RkQ3XHU1REYyXHU2RTA1XHU5NjY0Jyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFx1NjRDRFx1NEY1Q1x1NTM4Nlx1NTNGMlxuICAgIGNvbnN0IGhpc3RvcnlTZWN0aW9uID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnaGlzdG9yeS1zZWN0aW9uJyB9KTtcbiAgICBoaXN0b3J5U2VjdGlvbi5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdcdTU0MENcdTZCNjVcdTUzODZcdTUzRjInIH0pO1xuXG4gICAgLy8gXHU4RkQ5XHU5MUNDXHU1M0VGXHU0RUU1XHU2REZCXHU1MkEwXHU1NDBDXHU2QjY1XHU1Mzg2XHU1M0YyXHU4QkIwXHU1RjU1XG4gICAgY29uc3QgaGlzdG9yeVBsYWNlaG9sZGVyID0gaGlzdG9yeVNlY3Rpb24uY3JlYXRlRWwoJ2RpdicsIHtcbiAgICAgIHRleHQ6ICdcdTU0MENcdTZCNjVcdTUzODZcdTUzRjJcdThCQjBcdTVGNTVcdTVDMDZcdTU3MjhcdThGRDlcdTkxQ0NcdTY2M0VcdTc5M0EnLFxuICAgICAgY2xzOiAnaGlzdG9yeS1wbGFjZWhvbGRlcidcbiAgICB9KTtcblxuICAgIC8vIFx1NjAyN1x1ODBGRFx1N0VERlx1OEJBMVxuICAgIGNvbnN0IHBlcmZvcm1hbmNlU2VjdGlvbiA9IHRoaXMuY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ3BlcmZvcm1hbmNlLXNlY3Rpb24nIH0pO1xuICAgIHBlcmZvcm1hbmNlU2VjdGlvbi5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdcdTYwMjdcdTgwRkRcdTdFREZcdThCQTEnIH0pO1xuXG4gICAgY29uc3QgcGVyZm9ybWFuY2VTdGF0cyA9IHBlcmZvcm1hbmNlU2VjdGlvbi5jcmVhdGVEaXYoeyBjbHM6ICdwZXJmb3JtYW5jZS1zdGF0cycgfSk7XG5cbiAgICAvLyBcdThGRDlcdTkxQ0NcdTUzRUZcdTRFRTVcdTZERkJcdTUyQTBcdTYwMjdcdTgwRkRcdTdFREZcdThCQTFcdTY1NzBcdTYzNkVcbiAgICBwZXJmb3JtYW5jZVN0YXRzLmNyZWF0ZUVsKCdkaXYnLCB7XG4gICAgICB0ZXh0OiAnXHU1RTczXHU1NzQ3XHU1NDBDXHU2QjY1XHU2NUY2XHU5NUY0OiAtLScsXG4gICAgICBjbHM6ICdwZXJmb3JtYW5jZS1pdGVtJ1xuICAgIH0pO1xuXG4gICAgcGVyZm9ybWFuY2VTdGF0cy5jcmVhdGVFbCgnZGl2Jywge1xuICAgICAgdGV4dDogJ1x1NjcwMFx1NUZFQlx1NTQwQ1x1NkI2NVx1NjVGNlx1OTVGNDogLS0nLFxuICAgICAgY2xzOiAncGVyZm9ybWFuY2UtaXRlbSdcbiAgICB9KTtcblxuICAgIHBlcmZvcm1hbmNlU3RhdHMuY3JlYXRlRWwoJ2RpdicsIHtcbiAgICAgIHRleHQ6ICdcdTY3MDBcdTYxNjJcdTU0MENcdTZCNjVcdTY1RjZcdTk1RjQ6IC0tJyxcbiAgICAgIGNsczogJ3BlcmZvcm1hbmNlLWl0ZW0nXG4gICAgfSk7XG5cbiAgICBwZXJmb3JtYW5jZVN0YXRzLmNyZWF0ZUVsKCdkaXYnLCB7XG4gICAgICB0ZXh0OiAnXHU2MjEwXHU1MjlGXHU3Mzg3OiAtLScsXG4gICAgICBjbHM6ICdwZXJmb3JtYW5jZS1pdGVtJ1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTdGF0dXNJY29uKCk6IHN0cmluZyB7XG4gICAgc3dpdGNoICh0aGlzLnN0YXR1cy5zdGF0ZSkge1xuICAgICAgY2FzZSBTeW5jU3RhdGUuSURMRTpcbiAgICAgICAgcmV0dXJuICdcdTI3MDUnO1xuICAgICAgY2FzZSBTeW5jU3RhdGUuU1lOQ0lORzpcbiAgICAgICAgcmV0dXJuICdcdUQ4M0RcdUREMDQnO1xuICAgICAgY2FzZSBTeW5jU3RhdGUuQ09ORkxJQ1Q6XG4gICAgICAgIHJldHVybiAnXHUyNkEwXHVGRTBGJztcbiAgICAgIGNhc2UgU3luY1N0YXRlLkVSUk9SOlxuICAgICAgICByZXR1cm4gJ1x1Mjc0Qyc7XG4gICAgICBjYXNlIFN5bmNTdGF0ZS5QQVVTRUQ6XG4gICAgICAgIHJldHVybiAnXHUyM0Y4XHVGRTBGJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAnXHUyNzUzJztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldFN0YXR1c1RleHQoKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHRoaXMuc3RhdHVzLnN0YXRlKSB7XG4gICAgICBjYXNlIFN5bmNTdGF0ZS5JRExFOlxuICAgICAgICByZXR1cm4gJ1x1N0E3QVx1OTVGMic7XG4gICAgICBjYXNlIFN5bmNTdGF0ZS5TWU5DSU5HOlxuICAgICAgICByZXR1cm4gJ1x1NTQwQ1x1NkI2NVx1NEUyRCc7XG4gICAgICBjYXNlIFN5bmNTdGF0ZS5DT05GTElDVDpcbiAgICAgICAgcmV0dXJuICdcdTVCNThcdTU3MjhcdTUxQjJcdTdBODEnO1xuICAgICAgY2FzZSBTeW5jU3RhdGUuRVJST1I6XG4gICAgICAgIHJldHVybiAnXHU5NTE5XHU4QkVGJztcbiAgICAgIGNhc2UgU3luY1N0YXRlLlBBVVNFRDpcbiAgICAgICAgcmV0dXJuICdcdTVERjJcdTY2ODJcdTUwNUMnO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICdcdTY3MkFcdTc3RTVcdTcyQjZcdTYwMDEnO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZm9ybWF0RGF0ZShkYXRlOiBEYXRlKTogc3RyaW5nIHtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGRpZmZNcyA9IG5vdy5nZXRUaW1lKCkgLSBkYXRlLmdldFRpbWUoKTtcbiAgICBjb25zdCBkaWZmTWlucyA9IE1hdGguZmxvb3IoZGlmZk1zIC8gKDEwMDAgKiA2MCkpO1xuXG4gICAgaWYgKGRpZmZNaW5zIDwgMSkge1xuICAgICAgcmV0dXJuICdcdTUyMUFcdTUyMUEnO1xuICAgIH0gZWxzZSBpZiAoZGlmZk1pbnMgPCA2MCkge1xuICAgICAgcmV0dXJuIGAke2RpZmZNaW5zfVx1NTIwNlx1OTQ5Rlx1NTI0RGA7XG4gICAgfSBlbHNlIGlmIChkaWZmTWlucyA8IDI0ICogNjApIHtcbiAgICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihkaWZmTWlucyAvIDYwKTtcbiAgICAgIHJldHVybiBgJHtob3Vyc31cdTVDMEZcdTY1RjZcdTUyNERgO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXJ0QXV0b1JlZnJlc2goKTogdm9pZCB7XG4gICAgdGhpcy5zdG9wQXV0b1JlZnJlc2goKTtcbiAgICB0aGlzLnJlZnJlc2hJbnRlcnZhbElkID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfSwgNTAwMCk7IC8vIFx1NkJDRjVcdTc5RDJcdTUyMzdcdTY1QjBcdTRFMDBcdTZCMjFcbiAgfVxuXG4gIHByaXZhdGUgc3RvcEF1dG9SZWZyZXNoKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnJlZnJlc2hJbnRlcnZhbElkKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMucmVmcmVzaEludGVydmFsSWQpO1xuICAgICAgdGhpcy5yZWZyZXNoSW50ZXJ2YWxJZCA9IDA7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIG9wZW4oYXBwOiBBcHAsIHN5bmNFbmdpbmU6IFN5bmNFbmdpbmUpOiB2b2lkIHtcbiAgICBjb25zdCBsZWFmID0gYXBwLndvcmtzcGFjZS5nZXRMZWFmKHRydWUpO1xuICAgIGxlYWYuc2V0Vmlld1N0YXRlKHtcbiAgICAgIHR5cGU6IFNZTkNfU1RBVFVTX1ZJRVdfVFlQRSxcbiAgICAgIGFjdGl2ZTogdHJ1ZVxuICAgIH0pO1xuICB9XG59XG4iLCAiZXhwb3J0IGludGVyZmFjZSBPcGVuQ2xhd01lbW9yeVN5bmNTZXR0aW5ncyB7XG4gIGFwaVVybDogc3RyaW5nO1xuICBhcGlQb3J0OiBudW1iZXI7XG4gIHN5bmNJbnRlcnZhbDogbnVtYmVyO1xuICBhdXRvU3luYzogYm9vbGVhbjtcbiAgY29uZmxpY3RTdHJhdGVneTogJ3RpbWVzdGFtcCcgfCAnbG9jYWwnIHwgJ3JlbW90ZScgfCAnYXNrJztcbiAgZXhjbHVkZVBhdHRlcm5zOiBzdHJpbmdbXTtcbiAgZW5hYmxlV2ViU29ja2V0OiBib29sZWFuO1xuICBsb2dMZXZlbDogJ2RlYnVnJyB8ICdpbmZvJyB8ICd3YXJuJyB8ICdlcnJvcic7XG4gIHRhcmdldEZvbGRlcjogc3RyaW5nO1xufVxuXG5leHBvcnQgZW51bSBMb2dMZXZlbCB7XG4gIERFQlVHID0gJ2RlYnVnJyxcbiAgSU5GTyA9ICdpbmZvJyxcbiAgV0FSTiA9ICd3YXJuJyxcbiAgRVJST1IgPSAnZXJyb3InXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9nRW50cnkge1xuICB0aW1lc3RhbXA6IERhdGU7XG4gIGxldmVsOiBMb2dMZXZlbDtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBzb3VyY2U/OiBzdHJpbmc7XG4gIGRhdGE/OiBhbnk7XG59XG5cbmV4cG9ydCBjbGFzcyBMb2dnZXIge1xuICBwcml2YXRlIGxvZ3M6IExvZ0VudHJ5W10gPSBbXTtcbiAgcHJpdmF0ZSBtYXhMb2dzOiBudW1iZXIgPSAxMDAwO1xuICBwcml2YXRlIGxpc3RlbmVyczogKChlbnRyeTogTG9nRW50cnkpID0+IHZvaWQpW10gPSBbXTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNldHRpbmdzOiBPcGVuQ2xhd01lbW9yeVN5bmNTZXR0aW5ncykge31cblxuICBkZWJ1ZyhtZXNzYWdlOiBzdHJpbmcsIHNvdXJjZT86IHN0cmluZywgZGF0YT86IGFueSk6IHZvaWQge1xuICAgIHRoaXMubG9nKExvZ0xldmVsLkRFQlVHLCBtZXNzYWdlLCBzb3VyY2UsIGRhdGEpO1xuICB9XG5cbiAgaW5mbyhtZXNzYWdlOiBzdHJpbmcsIHNvdXJjZT86IHN0cmluZywgZGF0YT86IGFueSk6IHZvaWQge1xuICAgIHRoaXMubG9nKExvZ0xldmVsLklORk8sIG1lc3NhZ2UsIHNvdXJjZSwgZGF0YSk7XG4gIH1cblxuICB3YXJuKG1lc3NhZ2U6IHN0cmluZywgc291cmNlPzogc3RyaW5nLCBkYXRhPzogYW55KTogdm9pZCB7XG4gICAgdGhpcy5sb2coTG9nTGV2ZWwuV0FSTiwgbWVzc2FnZSwgc291cmNlLCBkYXRhKTtcbiAgfVxuXG4gIGVycm9yKG1lc3NhZ2U6IHN0cmluZywgc291cmNlPzogc3RyaW5nLCBkYXRhPzogYW55KTogdm9pZCB7XG4gICAgdGhpcy5sb2coTG9nTGV2ZWwuRVJST1IsIG1lc3NhZ2UsIHNvdXJjZSwgZGF0YSk7XG4gIH1cblxuICBwcml2YXRlIGxvZyhsZXZlbDogTG9nTGV2ZWwsIG1lc3NhZ2U6IHN0cmluZywgc291cmNlPzogc3RyaW5nLCBkYXRhPzogYW55KTogdm9pZCB7XG4gICAgLy8gXHU2OEMwXHU2N0U1XHU2NUU1XHU1RkQ3XHU3RUE3XHU1MjJCXHU2NjJGXHU1NDI2XHU1RTk0XHU4QkU1XHU4QkIwXHU1RjU1XG4gICAgaWYgKCF0aGlzLnNob3VsZExvZyhsZXZlbCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBlbnRyeTogTG9nRW50cnkgPSB7XG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICBsZXZlbCxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBzb3VyY2UsXG4gICAgICBkYXRhXG4gICAgfTtcblxuICAgIC8vIFx1NkRGQlx1NTJBMFx1NTIzMFx1NjVFNVx1NUZEN1x1NjU3MFx1N0VDNFxuICAgIHRoaXMubG9ncy5wdXNoKGVudHJ5KTtcblxuICAgIC8vIFx1OTY1MFx1NTIzNlx1NjVFNVx1NUZEN1x1NjU3MFx1OTFDRlxuICAgIGlmICh0aGlzLmxvZ3MubGVuZ3RoID4gdGhpcy5tYXhMb2dzKSB7XG4gICAgICB0aGlzLmxvZ3MgPSB0aGlzLmxvZ3Muc2xpY2UoLXRoaXMubWF4TG9ncyk7XG4gICAgfVxuXG4gICAgLy8gXHU4RjkzXHU1MUZBXHU1MjMwXHU2M0E3XHU1MjM2XHU1M0YwXG4gICAgdGhpcy5jb25zb2xlTG9nKGVudHJ5KTtcblxuICAgIC8vIFx1OTAxQVx1NzdFNVx1NzZEMVx1NTQyQ1x1NTY2OFxuICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKGVudHJ5KTtcbiAgfVxuXG4gIHByaXZhdGUgc2hvdWxkTG9nKGxldmVsOiBMb2dMZXZlbCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGxldmVsT3JkZXIgPSB7XG4gICAgICBbTG9nTGV2ZWwuREVCVUddOiAwLFxuICAgICAgW0xvZ0xldmVsLklORk9dOiAxLFxuICAgICAgW0xvZ0xldmVsLldBUk5dOiAyLFxuICAgICAgW0xvZ0xldmVsLkVSUk9SXTogM1xuICAgIH07XG5cbiAgICBjb25zdCBjdXJyZW50TGV2ZWwgPSBsZXZlbE9yZGVyW3RoaXMuc2V0dGluZ3MubG9nTGV2ZWxdO1xuICAgIGNvbnN0IG1lc3NhZ2VMZXZlbCA9IGxldmVsT3JkZXJbbGV2ZWxdO1xuXG4gICAgcmV0dXJuIG1lc3NhZ2VMZXZlbCA+PSBjdXJyZW50TGV2ZWw7XG4gIH1cblxuICBwcml2YXRlIGNvbnNvbGVMb2coZW50cnk6IExvZ0VudHJ5KTogdm9pZCB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gZW50cnkudGltZXN0YW1wLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVsxXS5zcGxpdCgnLicpWzBdO1xuICAgIGNvbnN0IHByZWZpeCA9IGBbJHt0aW1lc3RhbXB9XSBbJHtlbnRyeS5sZXZlbC50b1VwcGVyQ2FzZSgpfV1gO1xuICAgIGNvbnN0IHNvdXJjZSA9IGVudHJ5LnNvdXJjZSA/IGBbJHtlbnRyeS5zb3VyY2V9XWAgOiAnJztcbiAgICBjb25zdCBtZXNzYWdlID0gYCR7cHJlZml4fSR7c291cmNlfSAke2VudHJ5Lm1lc3NhZ2V9YDtcblxuICAgIHN3aXRjaCAoZW50cnkubGV2ZWwpIHtcbiAgICAgIGNhc2UgTG9nTGV2ZWwuREVCVUc6XG4gICAgICAgIGNvbnNvbGUuZGVidWcobWVzc2FnZSwgZW50cnkuZGF0YSB8fCAnJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBMb2dMZXZlbC5JTkZPOlxuICAgICAgICBjb25zb2xlLmluZm8obWVzc2FnZSwgZW50cnkuZGF0YSB8fCAnJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBMb2dMZXZlbC5XQVJOOlxuICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSwgZW50cnkuZGF0YSB8fCAnJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBMb2dMZXZlbC5FUlJPUjpcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlLCBlbnRyeS5kYXRhIHx8ICcnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBub3RpZnlMaXN0ZW5lcnMoZW50cnk6IExvZ0VudHJ5KTogdm9pZCB7XG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBsaXN0ZW5lcihlbnRyeSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdcdTY1RTVcdTVGRDdcdTc2RDFcdTU0MkNcdTU2NjhcdTk1MTlcdThCRUY6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gXHU1MTZDXHU1MTcxXHU2NUI5XHU2Q0Q1XG4gIGdldExvZ3MobGV2ZWw/OiBMb2dMZXZlbCwgbGltaXQ/OiBudW1iZXIpOiBMb2dFbnRyeVtdIHtcbiAgICBsZXQgZmlsdGVyZWRMb2dzID0gdGhpcy5sb2dzO1xuXG4gICAgaWYgKGxldmVsKSB7XG4gICAgICBmaWx0ZXJlZExvZ3MgPSBmaWx0ZXJlZExvZ3MuZmlsdGVyKGxvZyA9PiBsb2cubGV2ZWwgPT09IGxldmVsKTtcbiAgICB9XG5cbiAgICBpZiAobGltaXQgJiYgbGltaXQgPiAwKSB7XG4gICAgICBmaWx0ZXJlZExvZ3MgPSBmaWx0ZXJlZExvZ3Muc2xpY2UoLWxpbWl0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gWy4uLmZpbHRlcmVkTG9nc107XG4gIH1cblxuICBjbGVhckxvZ3MoKTogdm9pZCB7XG4gICAgdGhpcy5sb2dzID0gW107XG4gIH1cblxuICBvbkxvZyhsaXN0ZW5lcjogKGVudHJ5OiBMb2dFbnRyeSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICB9XG5cbiAgb2ZmTG9nKGxpc3RlbmVyOiAoZW50cnk6IExvZ0VudHJ5KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuICBnZXRTdGF0cygpOiB7XG4gICAgdG90YWw6IG51bWJlcjtcbiAgICBieUxldmVsOiBSZWNvcmQ8TG9nTGV2ZWwsIG51bWJlcj47XG4gICAgYnlTb3VyY2U6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XG4gICAgb2xkZXN0OiBEYXRlIHwgbnVsbDtcbiAgICBuZXdlc3Q6IERhdGUgfCBudWxsO1xuICB9IHtcbiAgICBjb25zdCBzdGF0cyA9IHtcbiAgICAgIHRvdGFsOiB0aGlzLmxvZ3MubGVuZ3RoLFxuICAgICAgYnlMZXZlbDoge1xuICAgICAgICBbTG9nTGV2ZWwuREVCVUddOiAwLFxuICAgICAgICBbTG9nTGV2ZWwuSU5GT106IDAsXG4gICAgICAgIFtMb2dMZXZlbC5XQVJOXTogMCxcbiAgICAgICAgW0xvZ0xldmVsLkVSUk9SXTogMFxuICAgICAgfSxcbiAgICAgIGJ5U291cmNlOiB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+LFxuICAgICAgb2xkZXN0OiB0aGlzLmxvZ3MubGVuZ3RoID4gMCA/IHRoaXMubG9nc1swXS50aW1lc3RhbXAgOiBudWxsLFxuICAgICAgbmV3ZXN0OiB0aGlzLmxvZ3MubGVuZ3RoID4gMCA/IHRoaXMubG9nc1t0aGlzLmxvZ3MubGVuZ3RoIC0gMV0udGltZXN0YW1wIDogbnVsbFxuICAgIH07XG5cbiAgICBmb3IgKGNvbnN0IGxvZyBvZiB0aGlzLmxvZ3MpIHtcbiAgICAgIChzdGF0cy5ieUxldmVsIGFzIGFueSlbbG9nLmxldmVsXSsrO1xuXG4gICAgICBpZiAobG9nLnNvdXJjZSkge1xuICAgICAgICBzdGF0cy5ieVNvdXJjZVtsb2cuc291cmNlXSA9IChzdGF0cy5ieVNvdXJjZVtsb2cuc291cmNlXSB8fCAwKSArIDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRzO1xuICB9XG5cbiAgZXhwb3J0TG9ncyhmb3JtYXQ6ICdqc29uJyB8ICd0ZXh0JyA9ICdqc29uJyk6IHN0cmluZyB7XG4gICAgaWYgKGZvcm1hdCA9PT0gJ2pzb24nKSB7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5sb2dzLCBudWxsLCAyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMubG9nc1xuICAgICAgICAubWFwKGxvZyA9PiB7XG4gICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbG9nLnRpbWVzdGFtcC50b0lTT1N0cmluZygpO1xuICAgICAgICAgIGNvbnN0IGxldmVsID0gbG9nLmxldmVsLnRvVXBwZXJDYXNlKCkucGFkRW5kKDUpO1xuICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IGxvZy5zb3VyY2UgPyBgIFske2xvZy5zb3VyY2V9XWAgOiAnJztcbiAgICAgICAgICByZXR1cm4gYCR7dGltZXN0YW1wfSAke2xldmVsfSR7c291cmNlfSAke2xvZy5tZXNzYWdlfWA7XG4gICAgICAgIH0pXG4gICAgICAgIC5qb2luKCdcXG4nKTtcbiAgICB9XG4gIH1cblxuICAvLyBcdTVERTVcdTUxNzdcdTY1QjlcdTZDRDVcbiAgc3RhdGljIGZvcm1hdEVycm9yKGVycm9yOiBhbnkpOiBzdHJpbmcge1xuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICByZXR1cm4gYCR7ZXJyb3IubmFtZX06ICR7ZXJyb3IubWVzc2FnZX1cXG4ke2Vycm9yLnN0YWNrIHx8ICcnfWA7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShlcnJvcik7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFx1NjAyN1x1ODBGRFx1NzZEMVx1NjNBN1x1RkYxQVx1OEJCMFx1NUY1NVx1NjVCOVx1NkNENVx1NjI2N1x1ODg0Q1x1NjVGNlx1OTVGNFxuICAgKiBAcGFyYW0gbWV0aG9kIFx1ODk4MVx1NzZEMVx1NjNBN1x1NzY4NFx1NjVCOVx1NkNENVxuICAgKiBAcGFyYW0gbWV0aG9kTmFtZSBcdTY1QjlcdTZDRDVcdTU0MERcdTc5RjBcdUZGMDhcdTc1MjhcdTRFOEVcdTY1RTVcdTVGRDdcdUZGMDlcbiAgICogQHJldHVybnMgXHU1MzA1XHU4OEM1XHU1NDBFXHU3Njg0XHU2NUI5XHU2Q0Q1XG4gICAqL1xuICBzdGF0aWMgbW9uaXRvclBlcmZvcm1hbmNlPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueT4oXG4gICAgbWV0aG9kOiBULFxuICAgIG1ldGhvZE5hbWU6IHN0cmluZyxcbiAgICBsb2dnZXI6IExvZ2dlclxuICApOiBUIHtcbiAgICByZXR1cm4gKCguLi5hcmdzOiBQYXJhbWV0ZXJzPFQ+KTogUmV0dXJuVHlwZTxUPiA9PiB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbWV0aG9kKC4uLmFyZ3MpO1xuXG4gICAgICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NjYyRlByb21pc2VcdUZGMENcdTc2RDFcdTYzQTdcdTVGMDJcdTZCNjVcdTYyNjdcdTg4NENcdTY1RjZcdTk1RjRcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgICAgICAudGhlbihhc3luY1Jlc3VsdCA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoXG4gICAgICAgICAgICAgICAgYE1ldGhvZCAke21ldGhvZE5hbWV9IGNvbXBsZXRlZCBpbiAke2R1cmF0aW9uLnRvRml4ZWQoMil9bXNgLFxuICAgICAgICAgICAgICAgICdwZXJmb3JtYW5jZSdcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGFzeW5jUmVzdWx0O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoXG4gICAgICAgICAgICAgICAgYE1ldGhvZCAke21ldGhvZE5hbWV9IGZhaWxlZCBhZnRlciAke2R1cmF0aW9uLnRvRml4ZWQoMil9bXM6ICR7dGhpcy5mb3JtYXRFcnJvcihcbiAgICAgICAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgICAgICAgKX1gLFxuICAgICAgICAgICAgICAgICdwZXJmb3JtYW5jZSdcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9KSBhcyBSZXR1cm5UeXBlPFQ+O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gXHU1NDBDXHU2QjY1XHU2NUI5XHU2Q0Q1XG4gICAgICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuICAgICAgICBsb2dnZXIuZGVidWcoYE1ldGhvZCAke21ldGhvZE5hbWV9IGNvbXBsZXRlZCBpbiAke2R1cmF0aW9uLnRvRml4ZWQoMil9bXNgLCAncGVyZm9ybWFuY2UnKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuICAgICAgICBsb2dnZXIuZXJyb3IoXG4gICAgICAgICAgYE1ldGhvZCAke21ldGhvZE5hbWV9IGZhaWxlZCBhZnRlciAke2R1cmF0aW9uLnRvRml4ZWQoMil9bXM6ICR7dGhpcy5mb3JtYXRFcnJvcihlcnJvcil9YCxcbiAgICAgICAgICAncGVyZm9ybWFuY2UnXG4gICAgICAgICk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0pIGFzIFQ7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlQ29udGV4dExvZ2dlcihzb3VyY2U6IHN0cmluZywgc2V0dGluZ3M6IE9wZW5DbGF3TWVtb3J5U3luY1NldHRpbmdzKTogTG9nZ2VyIHtcbiAgICBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKHNldHRpbmdzKTtcblxuICAgIHJldHVybiB7XG4gICAgICBkZWJ1ZzogKG1lc3NhZ2U6IHN0cmluZywgZGF0YT86IGFueSkgPT4gbG9nZ2VyLmRlYnVnKG1lc3NhZ2UsIHNvdXJjZSwgZGF0YSksXG4gICAgICBpbmZvOiAobWVzc2FnZTogc3RyaW5nLCBkYXRhPzogYW55KSA9PiBsb2dnZXIuaW5mbyhtZXNzYWdlLCBzb3VyY2UsIGRhdGEpLFxuICAgICAgd2FybjogKG1lc3NhZ2U6IHN0cmluZywgZGF0YT86IGFueSkgPT4gbG9nZ2VyLndhcm4obWVzc2FnZSwgc291cmNlLCBkYXRhKSxcbiAgICAgIGVycm9yOiAobWVzc2FnZTogc3RyaW5nLCBkYXRhPzogYW55KSA9PiBsb2dnZXIuZXJyb3IobWVzc2FnZSwgc291cmNlLCBkYXRhKSxcbiAgICAgIGdldExvZ3M6IChsZXZlbD86IExvZ0xldmVsLCBsaW1pdD86IG51bWJlcikgPT4gbG9nZ2VyLmdldExvZ3MobGV2ZWwsIGxpbWl0KSxcbiAgICAgIGNsZWFyTG9nczogKCkgPT4gbG9nZ2VyLmNsZWFyTG9ncygpLFxuICAgICAgb25Mb2c6IChsaXN0ZW5lcjogKGVudHJ5OiBMb2dFbnRyeSkgPT4gdm9pZCkgPT4gbG9nZ2VyLm9uTG9nKGxpc3RlbmVyKSxcbiAgICAgIG9mZkxvZzogKGxpc3RlbmVyOiAoZW50cnk6IExvZ0VudHJ5KSA9PiB2b2lkKSA9PiBsb2dnZXIub2ZmTG9nKGxpc3RlbmVyKSxcbiAgICAgIGdldFN0YXRzOiAoKSA9PiBsb2dnZXIuZ2V0U3RhdHMoKSxcbiAgICAgIGV4cG9ydExvZ3M6IChmb3JtYXQ/OiAnanNvbicgfCAndGV4dCcpID0+IGxvZ2dlci5leHBvcnRMb2dzKGZvcm1hdClcbiAgICB9IGFzIExvZ2dlcjtcbiAgfVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUFBLG1CQUErRTs7O0FDMkR4RSxJQUFNLG9CQUFOLE1BQXdCO0FBQUEsRUFTOUIsWUFBb0IsVUFBc0M7QUFBdEM7QUFOcEIsU0FBUSxLQUF1QjtBQUMvQixTQUFRLG9CQUFvQjtBQUM1QixTQUFRLHVCQUF1QjtBQUMvQixTQUFRLGlCQUFpQjtBQUN6QixTQUFRLGtCQUEyQyxvQkFBSSxJQUFJO0FBRzFELFNBQUssVUFBVSxVQUFVLFNBQVMsVUFBVSxTQUFTO0FBQ3JELFNBQUssUUFBUSxRQUFRLFNBQVM7QUFBQSxFQUMvQjtBQUFBLEVBRUEsTUFBTSxVQUF5QjtBQUU5QixVQUFNLEtBQUssZUFBZTtBQUcxQixRQUFJLEtBQUssU0FBUyxpQkFBaUI7QUFDbEMsWUFBTSxLQUFLLGlCQUFpQjtBQUFBLElBQzdCO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSxhQUE0QjtBQUNqQyxRQUFJLEtBQUss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VSxRQUFRLGNBQUksRUFDdEIsVUFBVSxRQUFRLGNBQUksRUFDdEIsVUFBVSxTQUFTLGNBQUksRUFDdkIsU0FBUyxLQUFLLE9BQU8sU0FBUyxRQUFRLEVBQ3RDLFNBQVMsT0FBTyxVQUFlO0FBQzlCLGFBQUssT0FBTyxTQUFTLFdBQVc7QUFDaEMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2pDLENBQUM7QUFBQSxJQUNMO0FBR0YsUUFBSSx5QkFBUSxXQUFXLEVBQ3BCLFFBQVEsMEJBQU0sRUFDZCxRQUFRLG9FQUF1QixFQUMvQjtBQUFBLE1BQVUsWUFDVCxPQUFPLGNBQWMsMEJBQU0sRUFBRSxRQUFRLFlBQVk7QUFDL0MsWUFBSTtBQUNGLGdCQUFNLEtBQUssT0FBTyxVQUFVLGVBQWU7QUFDM0MsY0FBSSx3QkFBTyw2Q0FBVTtBQUFBLFFBQ3ZCLFNBQVMsT0FBUDtBQUNBLGNBQUksd0JBQU8sZ0RBQWEsTUFBTSxTQUFTO0FBQUEsUUFDekM7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNIO0FBR0YsUUFBSSx5QkFBUSxXQUFXLEVBQ3BCLFFBQVEsMEJBQU0sRUFDZCxRQUFRLHNDQUFRLEVBQ2hCO0FBQUEsTUFBVSxZQUNULE9BQU8sY0FBYywwQkFBTSxFQUFFLFFBQVEsWUFBWTtBQUMvQyxjQUFNLEtBQUssT0FBTyxRQUFRO0FBQUEsTUFDNUIsQ0FBQztBQUFBLElBQ0g7QUFBQSxFQUNKO0FBQ0Y7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJmb2xkZXIiLCAiaW1wb3J0X29ic2lkaWFuIiwgImFwcCIsICJ0aXRsZSIsICJjb250ZW50IiwgImltcG9ydF9vYnNpZGlhbiIsICJlbmRUaW1lIiwgImR1cmF0aW9uIl0KfQo=
